{"b": "28586-6143d83", "v": 3, "payload": {"references": {"Post": {"7282babeaa70": {"importedPublishedAt": 0, "inResponseToPostId": "4d2bc12e1dc4", "notifyFollowers": true, "seriesLastAppendedAt": 0, "translationSourceCreatorId": "", "displayAuthor": "", "isTitleSynthesized": true, "detectedLanguage": "en", "license": 0, "id": "7282babeaa70", "createdAt": 1492124193053, "inResponseToRemovedAt": 0, "isRequestToPubDisabled": false, "responseHiddenOnParentPostAt": 0, "newsletterId": "", "title": "NoSQL is its own beast with its own set of problems.", "slug": "nosql-is-its-own-beast-with-its-own-set-of-problems", "versionId": "5e096e12c27f", "inResponseToMediaResourceId": "08b1e9aa8a02806ff138e664a839f828", "isSubscriptionLocked": false, "updatedAt": 1492124332592, "mediumUrl": "", "previewContent": {"bodyModel": {"sections": [{"startIndex": 0}], "paragraphs": [{"text": "NoSQL is its own beast with its own set of problems. I am not the most qualified person to talk about NoSQL, but my personal experiences with MongoDB were not ideal. For what it\u2019s worth, a lot of data in Mastodon is relational.", "name": "73ba", "alignment": 1, "markups": [], "type": 1}]}, "isFullContent": true}, "webCanonicalUrl": "", "notifyFacebook": false, "experimentalCss": "", "virtuals": {"links": {"entries": [], "generatedAt": 1492124332907, "version": "0.3"}, "imageCount": 0, "socialRecommendsCount": 0, "wordCount": 43, "totalClapCount": 0, "responsesCreatedCount": 1, "isLockedPreviewOnly": false, "usersBySocialRecommends": [], "isBookmarked": false, "recommends": 0, "subtitle": "", "takeoverId": "", "metaDescription": "", "previewImage": {"originalHeight": 0, "originalWidth": 0, "imageId": "", "height": 0, "filter": "", "width": 0, "strategy": "resample", "backgroundSize": ""}, "readingTime": 0.16226415094339622, "allowNotes": true, "tags": []}, "allowResponses": true, "homeCollectionId": "", "isSponsored": false, "importedUrl": "", "vote": false, "acceptedAt": 0, "firstPublishedAt": 1492124332592, "approvedHomeCollectionId": "", "type": "Post", "latestRev": 14, "content": {"postDisplay": {"coverless": true}}, "latestPublishedVersion": "5e096e12c27f", "hasUnpublishedEdits": false, "notifyTwitter": false, "isApprovedTranslation": false, "creatorId": "afd8065f3f77", "visibility": 0, "translationSourcePostId": "", "latestPublishedAt": 1492124332592, "canonicalUrl": "", "coverless": true, "migrationId": "", "uniqueSlug": "nosql-is-its-own-beast-with-its-own-set-of-problems-7282babeaa70", "latestVersion": "5e096e12c27f", "isSeries": false}, "19180078de5a": {"importedPublishedAt": 0, "inResponseToPostId": "1becde463090", "notifyFollowers": true, "seriesLastAppendedAt": 0, "translationSourceCreatorId": "", "displayAuthor": "", "isTitleSynthesized": true, "detectedLanguage": "en", "license": 0, "id": "19180078de5a", "createdAt": 1492114023071, "inResponseToRemovedAt": 0, "isRequestToPubDisabled": false, "responseHiddenOnParentPostAt": 0, "newsletterId": "", "title": "So in order to service 4x,000 (or 6,000 active users if I\u2019m reading right), your spending roughly\u2026", "slug": "so-in-order-to-service-4x-000-or-6-000-active-users-if-im-reading-right-your-spending-roughly", "versionId": "f8d33edd0d9e", "inResponseToMediaResourceId": "439f6cae194b443ac0e787a333546e6d", "isSubscriptionLocked": false, "updatedAt": 1492114453019, "mediumUrl": "", "previewContent": {"bodyModel": {"sections": [{"startIndex": 0}], "paragraphs": [{"text": "So in order to service 4x,000 (or 6,000 active users if I\u2019m reading right), your spending roughly 115 USD? (Not including your time of course)", "name": "f253", "alignment": 1, "markups": [], "type": 1}, {"text": "That\u2019s not bad! What happens when your DB gets too big for any one server? Any plans / thoughts? How big is the working set on your Postgres server with that many active users?", "name": "8bc8", "alignment": 1, "markups": [], "type": 1}]}, "isFullContent": true}, "webCanonicalUrl": "", "notifyFacebook": false, "experimentalCss": "", "virtuals": {"links": {"entries": [], "generatedAt": 1492114453295, "version": "0.3"}, "imageCount": 0, "socialRecommendsCount": 0, "wordCount": 59, "totalClapCount": 0, "responsesCreatedCount": 1, "isLockedPreviewOnly": false, "usersBySocialRecommends": [], "isBookmarked": false, "recommends": 0, "subtitle": "That\u2019s not bad! What happens when your DB gets too big for any one server? Any plans / thoughts? How big is the working set on your\u2026", "takeoverId": "", "metaDescription": "", "previewImage": {"originalHeight": 0, "originalWidth": 0, "imageId": "", "height": 0, "filter": "", "width": 0, "strategy": "resample", "backgroundSize": ""}, "readingTime": 0.22264150943396227, "allowNotes": true, "tags": []}, "allowResponses": true, "homeCollectionId": "", "isSponsored": false, "importedUrl": "", "vote": false, "acceptedAt": 0, "firstPublishedAt": 1492114453019, "approvedHomeCollectionId": "", "type": "Post", "latestRev": 27, "content": {"subtitle": "That\u2019s not bad! What happens when your DB gets too big for any one server? Any plans / thoughts? How big is the working set on your\u2026", "postDisplay": {"coverless": true}}, "latestPublishedVersion": "f8d33edd0d9e", "hasUnpublishedEdits": false, "notifyTwitter": false, "isApprovedTranslation": false, "creatorId": "92917a764cce", "visibility": 0, "translationSourcePostId": "", "latestPublishedAt": 1492114453019, "canonicalUrl": "", "coverless": true, "migrationId": "", "uniqueSlug": "so-in-order-to-service-4x-000-or-6-000-active-users-if-im-reading-right-your-spending-roughly-19180078de5a", "latestVersion": "f8d33edd0d9e", "isSeries": false}, "1becde463090": {"importedPublishedAt": 0, "inResponseToPostId": "", "notifyFollowers": true, "seriesLastAppendedAt": 0, "translationSourceCreatorId": "", "displayAuthor": "", "isTitleSynthesized": true, "detectedLanguage": "en", "license": 0, "id": "1becde463090", "createdAt": 1492009696335, "inResponseToRemovedAt": 0, "isRequestToPubDisabled": false, "responseHiddenOnParentPostAt": 0, "newsletterId": "", "title": "Scaling Mastodon", "slug": "scaling-mastodon", "versionId": "e5c948119091", "inResponseToMediaResourceId": "", "isSubscriptionLocked": false, "updatedAt": 1492040374141, "mediumUrl": "", "previewContent": {"bodyModel": {"sections": [{"startIndex": 0}], "paragraphs": [{"text": "Scaling Mastodon", "name": "fc37", "alignment": 1, "markups": [], "type": 3}, {"text": "What it takes to house 43,000 users", "name": "d632", "alignment": 1, "markups": [], "type": 13}, {"text": "My instance mastodon.social has recently surpassed 43,000 users. I have closed registrations both to have more time to investigate the infrastructure and ensure a good experience for existing users, and to\u2026", "name": "8275", "alignment": 1, "markups": [{"anchorType": 0, "start": 12, "title": "", "type": 3, "rel": "", "end": 27, "href": "https://mastodon.social"}], "type": 1}]}, "isFullContent": false}, "webCanonicalUrl": "", "notifyFacebook": false, "experimentalCss": "", "virtuals": {"links": {"entries": [], "generatedAt": 1492040375603, "version": "0.3"}, "imageCount": 0, "socialRecommendsCount": 0, "wordCount": 1181, "totalClapCount": 0, "responsesCreatedCount": 2, "isLockedPreviewOnly": false, "usersBySocialRecommends": [], "isBookmarked": false, "recommends": 56, "subtitle": "What it takes to house 43,000 users", "takeoverId": "", "metaDescription": "", "previewImage": {"originalHeight": 0, "originalWidth": 0, "imageId": "", "height": 0, "filter": "", "width": 0, "strategy": "resample", "backgroundSize": ""}, "readingTime": 4.456603773584906, "allowNotes": true, "tags": [{"name": "Ruby on Rails", "slug": "ruby-on-rails", "metadata": {"coverImage": {"originalHeight": 400, "originalWidth": 400, "id": "0*He5xxJ7HsAPvJ5f4.png"}, "postCount": 3572, "followerCount": 2223}, "postCount": 3572, "type": "Tag", "virtuals": {"isFollowing": false}}, {"name": "Rails", "slug": "rails", "metadata": {"coverImage": {"originalHeight": 600, "originalWidth": 850, "id": "1*WmOu72jhPgvDqBNx7G6PGQ.png"}, "postCount": 1307, "followerCount": 885}, "postCount": 1307, "type": "Tag", "virtuals": {"isFollowing": false}}, {"name": "Mastodon", "slug": "mastodon", "metadata": {"coverImage": {"originalHeight": 1518, "originalWidth": 1258, "id": "1*CELSN6adwzB2Y8oe1uXifA.png"}, "postCount": 105, "followerCount": 11}, "postCount": 105, "type": "Tag", "virtuals": {"isFollowing": false}}, {"name": "Social Media", "slug": "social-media", "metadata": {"coverImage": {"id": "1*uOkczl-rzzPqbQTw6PSFYw.jpeg"}, "postCount": 74544, "followerCount": 1060087}, "postCount": 74544, "type": "Tag", "virtuals": {"isFollowing": false}}, {"name": "Open Source", "slug": "open-source", "metadata": {"coverImage": {"originalHeight": 1280, "originalWidth": 2464, "id": "1*-h1bH8gB3I7gPh5AG1HmsQ.png"}, "postCount": 6103, "followerCount": 4898}, "postCount": 6103, "type": "Tag", "virtuals": {"isFollowing": false}}]}, "allowResponses": true, "homeCollectionId": "", "isSponsored": false, "importedUrl": "", "vote": false, "acceptedAt": 0, "firstPublishedAt": 1492040374141, "approvedHomeCollectionId": "", "type": "Post", "latestRev": 585, "content": {"subtitle": "What it takes to house 43,000 users", "postDisplay": {"coverless": true}}, "latestPublishedVersion": "e5c948119091", "hasUnpublishedEdits": false, "notifyTwitter": false, "isApprovedTranslation": false, "creatorId": "afd8065f3f77", "visibility": 0, "translationSourcePostId": "", "latestPublishedAt": 1492040374141, "canonicalUrl": "", "coverless": true, "migrationId": "", "uniqueSlug": "scaling-mastodon-1becde463090", "latestVersion": "e5c948119091", "isSeries": false}, "d802a243a1e4": {"importedPublishedAt": 0, "inResponseToPostId": "19180078de5a", "notifyFollowers": true, "seriesLastAppendedAt": 0, "translationSourceCreatorId": "", "displayAuthor": "", "isTitleSynthesized": true, "detectedLanguage": "en", "license": 0, "id": "d802a243a1e4", "createdAt": 1492124349351, "inResponseToRemovedAt": 0, "isRequestToPubDisabled": false, "responseHiddenOnParentPostAt": 0, "newsletterId": "", "title": "I would need to modify the Mastodon code to optionally be able to handle read/write replicas.", "slug": "i-would-need-to-modify-the-mastodon-code-to-optionally-be-able-to-handle-read-write-replicas", "versionId": "e363a5f18f8e", "inResponseToMediaResourceId": "9a85361f46d7c54ea31c3dcfc94e6461", "isSubscriptionLocked": false, "updatedAt": 1492124480194, "mediumUrl": "", "previewContent": {"bodyModel": {"sections": [{"startIndex": 0}], "paragraphs": [{"text": "I would need to modify the Mastodon code to optionally be able to handle read/write replicas. If I am not mistaken, read/write replicas is the ceiling here, in terms of scaling mechanisms, but should give a lot of extra capacitity when needed since most queries are read-only.", "name": "07ef", "alignment": 1, "markups": [], "type": 1}]}, "isFullContent": true}, "webCanonicalUrl": "", "notifyFacebook": false, "experimentalCss": "", "virtuals": {"links": {"entries": [], "generatedAt": 1492124480603, "version": "0.3"}, "imageCount": 0, "socialRecommendsCount": 0, "wordCount": 48, "totalClapCount": 0, "responsesCreatedCount": 0, "isLockedPreviewOnly": false, "usersBySocialRecommends": [], "isBookmarked": false, "recommends": 0, "subtitle": "", "takeoverId": "", "metaDescription": "", "previewImage": {"originalHeight": 0, "originalWidth": 0, "imageId": "", "height": 0, "filter": "", "width": 0, "strategy": "resample", "backgroundSize": ""}, "readingTime": 0.1811320754716981, "allowNotes": true, "tags": []}, "allowResponses": true, "homeCollectionId": "", "isSponsored": false, "importedUrl": "", "vote": false, "acceptedAt": 0, "firstPublishedAt": 1492124480194, "approvedHomeCollectionId": "", "type": "Post", "latestRev": 23, "content": {"postDisplay": {"coverless": true}}, "latestPublishedVersion": "e363a5f18f8e", "hasUnpublishedEdits": false, "notifyTwitter": false, "isApprovedTranslation": false, "creatorId": "afd8065f3f77", "visibility": 0, "translationSourcePostId": "", "latestPublishedAt": 1492124480194, "canonicalUrl": "", "coverless": true, "migrationId": "", "uniqueSlug": "i-would-need-to-modify-the-mastodon-code-to-optionally-be-able-to-handle-read-write-replicas-d802a243a1e4", "latestVersion": "e363a5f18f8e", "isSeries": false}, "4d2bc12e1dc4": {"importedPublishedAt": 0, "inResponseToPostId": "1becde463090", "notifyFollowers": true, "seriesLastAppendedAt": 0, "translationSourceCreatorId": "", "displayAuthor": "", "isTitleSynthesized": true, "detectedLanguage": "en", "license": 0, "id": "4d2bc12e1dc4", "createdAt": 1492089325601, "inResponseToRemovedAt": 0, "isRequestToPubDisabled": false, "responseHiddenOnParentPostAt": 0, "newsletterId": "", "title": "Any reason for the choice of a high overhead relational database instead of a lighter and more\u2026", "slug": "any-reason-for-the-choice-of-a-high-overhead-relational-database-instead-of-a-lighter-and-more", "versionId": "7c45ebcbe454", "inResponseToMediaResourceId": "439f6cae194b443ac0e787a333546e6d", "isSubscriptionLocked": false, "updatedAt": 1492089375899, "mediumUrl": "", "previewContent": {"bodyModel": {"sections": [{"startIndex": 0}], "paragraphs": [{"text": "Any reason for the choice of a high overhead relational database instead of a lighter and more easily scaled NoSQL approach? PostgreSQL is an excellent choice for relational data, but seems out of place here and could be the cause of the need to scale vertically instead of horizontally.", "name": "b55b", "alignment": 1, "markups": [], "type": 1}]}, "isFullContent": true}, "webCanonicalUrl": "", "notifyFacebook": false, "experimentalCss": "", "virtuals": {"links": {"entries": [], "generatedAt": 1492089376275, "version": "0.3"}, "imageCount": 0, "socialRecommendsCount": 0, "wordCount": 49, "totalClapCount": 0, "responsesCreatedCount": 1, "isLockedPreviewOnly": false, "usersBySocialRecommends": [], "isBookmarked": false, "recommends": 0, "subtitle": "", "takeoverId": "", "metaDescription": "", "previewImage": {"originalHeight": 0, "originalWidth": 0, "imageId": "", "height": 0, "filter": "", "width": 0, "strategy": "resample", "backgroundSize": ""}, "readingTime": 0.18490566037735848, "allowNotes": true, "tags": []}, "allowResponses": true, "homeCollectionId": "", "isSponsored": false, "importedUrl": "", "vote": false, "acceptedAt": 0, "firstPublishedAt": 1492089375899, "approvedHomeCollectionId": "", "type": "Post", "latestRev": 15, "content": {"postDisplay": {"coverless": true}}, "latestPublishedVersion": "7c45ebcbe454", "hasUnpublishedEdits": false, "notifyTwitter": false, "isApprovedTranslation": false, "creatorId": "4ea5a5459ac8", "visibility": 0, "translationSourcePostId": "", "latestPublishedAt": 1492089375899, "canonicalUrl": "", "coverless": true, "migrationId": "", "uniqueSlug": "any-reason-for-the-choice-of-a-high-overhead-relational-database-instead-of-a-lighter-and-more-4d2bc12e1dc4", "latestVersion": "7c45ebcbe454", "isSeries": false}}, "User": {"afd8065f3f77": {"facebookAccountId": "10211507086133979", "name": "Eugen Rochko", "username": "Gargron", "mediumMemberAt": 0, "userId": "afd8065f3f77", "type": "User", "bio": "Developer of Mastodon, a FOSS decentralized microblogging platform", "lastPostCreatedAt": 1492124349351, "imageId": "0*RwGaOoIu1v5pjtwr.jpg", "backgroundImageId": "", "createdAt": 1487553894547, "twitterScreenName": "Gargron", "mediumMemberWaitlistedAt": 0, "allowNotes": 1}, "4ea5a5459ac8": {"facebookAccountId": "10156214224537575", "name": "Scott Alan Miller", "username": "scottalanmiller", "mediumMemberAt": 0, "userId": "4ea5a5459ac8", "type": "User", "bio": "", "lastPostCreatedAt": 1492089325601, "imageId": "0*u_qY19cav4Bvqsrb.", "backgroundImageId": "", "createdAt": 1492086430532, "twitterScreenName": "", "mediumMemberWaitlistedAt": 0, "allowNotes": 1}, "92917a764cce": {"facebookAccountId": "10154040334226040", "name": "Zack Carlson", "username": "zackcarlson", "mediumMemberAt": 0, "userId": "92917a764cce", "type": "User", "bio": "", "lastPostCreatedAt": 1492114023071, "imageId": "0*0gMpMpfhH2Kyquoe.jpg", "backgroundImageId": "", "createdAt": 1436217879130, "twitterScreenName": "", "mediumMemberWaitlistedAt": 0, "allowNotes": 1}}, "MediaResource": {"08b1e9aa8a02806ff138e664a839f828": {"iframeHeight": 0, "mediumPost": {"postId": "4d2bc12e1dc4"}, "iframeWidth": 0, "description": "", "thumbnailWidth": 0, "title": "Any reason for the choice of a high overhead relational database instead of a lighter and more\u2026", "mediaResourceId": "08b1e9aa8a02806ff138e664a839f828", "display": 1, "domain": "medium.com", "thumbnailHeight": 0, "mediaResourceType": "MediaResourceMediumPost", "thumbnailUrl": "", "authorName": "", "iframeSrc": "", "thumbnailImageId": "", "type": "MediaResource", "href": "https://medium.com/@scottalanmiller/any-reason-for-the-choice-of-a-high-overhead-relational-database-instead-of-a-lighter-and-more-4d2bc12e1dc4"}, "9a85361f46d7c54ea31c3dcfc94e6461": {"iframeHeight": 0, "mediumPost": {"postId": "19180078de5a"}, "iframeWidth": 0, "description": "", "thumbnailWidth": 0, "title": "So in order to service 4x,000 (or 6,000 active users if I\u2019m reading right), your spending roughly\u2026", "mediaResourceId": "9a85361f46d7c54ea31c3dcfc94e6461", "display": 1, "domain": "medium.com", "thumbnailHeight": 0, "mediaResourceType": "MediaResourceMediumPost", "thumbnailUrl": "", "authorName": "", "iframeSrc": "", "thumbnailImageId": "", "type": "MediaResource", "href": "https://medium.com/@zackcarlson/so-in-order-to-service-4x-000-or-6-000-active-users-if-im-reading-right-your-spending-roughly-19180078de5a"}, "439f6cae194b443ac0e787a333546e6d": {"iframeHeight": 0, "mediumPost": {"postId": "1becde463090"}, "iframeWidth": 0, "description": "", "thumbnailWidth": 0, "title": "Scaling Mastodon", "mediaResourceId": "439f6cae194b443ac0e787a333546e6d", "display": 1, "domain": "medium.com", "thumbnailHeight": 0, "mediaResourceType": "MediaResourceMediumPost", "thumbnailUrl": "", "authorName": "", "iframeSrc": "", "thumbnailImageId": "", "type": "MediaResource", "href": "https://medium.com/@Gargron/scaling-mastodon-1becde463090"}}}, "paging": {}, "streamItems": [{"randomId": "9df28f963a86", "type": "StreamItem", "itemType": "conversation", "conversation": {"userIds": ["afd8065f3f77"], "conversationItems": [{"postId": "19180078de5a", "displayMode": 1}, {"postSuggestionReasons": [{"reason": 29}], "postId": "d802a243a1e4", "displayMode": 1}]}, "createdAt": 1492158749478}, {"randomId": "617c67499a73", "type": "StreamItem", "itemType": "conversation", "conversation": {"userIds": ["afd8065f3f77"], "conversationItems": [{"postId": "4d2bc12e1dc4", "displayMode": 1}, {"postSuggestionReasons": [{"reason": 29}], "postId": "7282babeaa70", "displayMode": 1}]}, "createdAt": 1492158749478}]}, "success": true}