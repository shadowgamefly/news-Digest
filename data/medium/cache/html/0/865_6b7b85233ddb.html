<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>A Quick Look at Semaphores in Swift 🚦 – Swiftly Swift – Medium</title><link rel="canonical" href="https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb"><meta name="title" content="A Quick Look at Semaphores in Swift 🚦 – Swiftly Swift – Medium"><meta name="referrer" content="unsafe-url"><meta name="description" content="Introduction to the concept of  Semaphores"><meta property="og:title" content="A Quick Look at Semaphores in Swift 🚦 – Swiftly Swift – Medium"><meta property="og:url" content="https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*p54pBislRafckGffcDqRdA.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Introduction to the concept of  Semaphores"><meta name="twitter:description" content="Introduction to the concept of  Semaphores"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*p54pBislRafckGffcDqRdA.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@zntfdr"><meta property="author" content="Federico Zanetello"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@zntfdr"><meta property="fb:smart_publish:robots" content="noauto"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2017-03-14T10:57:04.329Z"><meta name="twitter:creator" content="@zntfdr"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="7 min read"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":700,"height":468,"url":"https://cdn-images-1.medium.com/max/700/1*p54pBislRafckGffcDqRdA.png"},"datePublished":"2017-03-14T10:57:04.329Z","dateModified":"2017-03-14T14:33:44.946Z","headline":"A Quick Look at Semaphores in Swift 🚦","name":"A Quick Look at Semaphores in Swift 🚦","keywords":["Swift","Programming","Computer Science","iOS App Development","Xcode"],"author":{"@type":"Person","name":"Federico Zanetello","url":"https://medium.com/@zntfdr"},"creator":["Federico Zanetello"],"publisher":{"@type":"Organization","name":"Swiftly Swift","url":"https://medium.com/swiftly-swift","logo":{"@type":"ImageObject","width":66,"height":60,"url":"https://cdn-images-1.medium.com/max/66/1*MtH1n7v_F3pNsH4VimSI5Q.png"}},"mainEntityOfPage":"https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb"}</script><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/6b7b85233ddb"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/6b7b85233ddb"><meta property="al:android:url" content="medium://p/6b7b85233ddb"><meta property="al:web:url" content="https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/6b7b85233ddb" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.g2e09PlZK_j3Lw2AgNmbfQ.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]);_asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-sizeViewHeight100 {height: " + height + "px !important;}.u-sizeViewHeight110 {height: " + Math.round(1.1 * height) + "px !important;}.u-sizeViewHeightMin100 {min-height: " + height + "px !important;}.u-sizeViewHeightMax100 {max-height: " + height + "px !important;}section.section-image--coverFade {height: " + height + "px;}.section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*TJhiZlrtJthRv8Y8Pbb7nQ.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*TJhiZlrtJthRv8Y8Pbb7nQ.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*TJhiZlrtJthRv8Y8Pbb7nQ.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*TJhiZlrtJthRv8Y8Pbb7nQ.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg" color="#171717"></head><body itemscope class=" postShowScreen is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar u-textColorTransparentWhiteDarker u-tintBgColor u-tintSpectrum"><div class="metabar-inner u-marginAuto u-maxWidth1000 u-paddingLeft20 u-paddingRight20 js-metabarMiddle"><div class="metabar-block metabar-block--left u-floatLeft u-height65 u-xs-height56"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><span class="svgIcon svgIcon--logoNew svgIcon--45px is-flushLeft"><svg class="svgIcon-use" width="45" height="45"  viewBox="-17 18 45 45" data-multipart="true"><path d="M11.525 28.078c-.472-.225-.858.002-.858.506v20.044l8.616 4.113c.948.46 1.717.14 1.717-.7v-19.3a.22.22 0 0 0-.124-.19l-9.35-4.46v-.01z"/><path d="M.333 43.696l9.83-15.247c.278-.43.89-.6 1.36-.38l9.364 4.47c.06.03.082.1.047.15L10.666 48.63.333 43.698v-.002z"/><path d="M-8.57 28.35c-.786-.375-1.053-.096-.592.62L.333 43.696l10.333 4.932L.356 32.635a.156.156 0 0 0-.06-.054l-8.866-4.23z"/><path d="M.333 52.033c0 .84-.643 1.22-1.43.844l-8.045-3.84c-.472-.224-.858-.82-.858-1.325V28.89c0-.672.515-.976 1.145-.675l9.133 4.36a.092.092 0 0 1 .055.084v19.37z"/></svg></span><span class="u-textScreenReader">Homepage</span></a><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56"><div class="u-alignBlock"><span class="u-inlineBlock u-height28 u-xs-height24 u-verticalAlignTop u-marginRight20 u-borderRightTransparentWhiteLighter"></span></div></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-marginRight18"><div class="u-alignBlock"><a class="js-logCollection" href="https://medium.com/swiftly-swift?source=logo-lo_7af474f12cdf---823cfe45c7b6"><img height="36" width="40" class="u-paddingTop5" src="https://cdn-images-1.medium.com/letterbox/40/36/50/50/1*MtH1n7v_F3pNsH4VimSI5Q.png?source=logoAvatar-lo_7af474f12cdf---823cfe45c7b6" alt="Swiftly Swift" /></a></div></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-xs-hide"><div class="u-alignBlock"><div class="buttonSet u-lineHeightInherit u-marginLeft0"><div class="buttonSet-inner"><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="sign-in-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/swiftly-swift" data-collection-id="823cfe45c7b6"><span class="button-label  js-buttonLabel">Follow</span></button></div><a class="button button--light button--chromeless is-touchIconBlackPulse u-baseColor--buttonLight button--withIcon button--withSvgIcon"  href="https://twitter.com/zntfdr" title="Visit “Swiftly Swift” on Twitter" aria-label="Visit “Swiftly Swift” on Twitter" rel="me" target="_blank"><span class="button-defaultState"><span class="svgIcon svgIcon--twitterFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25" ><path d="M21.725 5.338c-.744.47-1.605.804-2.513 1.006a3.978 3.978 0 0 0-2.942-1.293c-2.22 0-4.02 1.81-4.02 4.02 0 .32.034.63.07.94-3.31-.18-6.27-1.78-8.255-4.23a4.544 4.544 0 0 0-.574 2.01c.04 1.43.74 2.66 1.8 3.38-.63-.01-1.25-.19-1.79-.5v.08c0 1.93 1.38 3.56 3.23 3.95-.34.07-.7.12-1.07.14-.25-.02-.5-.04-.72-.07.49 1.58 1.97 2.74 3.74 2.8a8.49 8.49 0 0 1-5.02 1.72c-.3-.03-.62-.04-.93-.07A11.447 11.447 0 0 0 8.88 21c7.386 0 11.43-6.13 11.414-11.414.015-.21.01-.38 0-.578a7.604 7.604 0 0 0 2.01-2.08 7.27 7.27 0 0 1-2.297.645 3.856 3.856 0 0 0 1.72-2.23"/></svg></span></span></a><a class="button button--light button--chromeless is-touchIconBlackPulse u-baseColor--buttonLight button--withIcon button--withSvgIcon u-paddingLeft0"  href="//facebook.com/kimchi.media.apps" title="Visit “Swiftly Swift” on Facebook" aria-label="Visit “Swiftly Swift” on Facebook" rel="me" target="_blank"><span class="button-defaultState"><span class="svgIcon svgIcon--facebookFilled svgIcon--25px"><svg class="svgIcon-use" width="25" height="25" viewBox="0 0 25 25" ><path d="M21 12.646C21 7.65 16.97 3.6 12 3.6s-9 4.05-9 9.046a9.026 9.026 0 0 0 7.59 8.924v-6.376H8.395V12.64h2.193v-1.88c0-2.186 1.328-3.375 3.267-3.375.93 0 1.728.07 1.96.1V9.77H14.47c-1.055 0-1.26.503-1.26 1.242v1.63h2.517l-.33 2.554H13.21V21.6c4.398-.597 7.79-4.373 7.79-8.954"/></svg></span></span></a></div></div></div></div><div class="metabar-block u-floatRight u-xs-absolute u-xs-textAlignRight u-xs-right0 u-xs-marginRight20 u-height65 u-xs-height56"><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56"><div class="u-alignBlock"><div class="buttonSet u-lineHeightInherit"><a class="button button--primary button--light button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-lineHeight30 u-height32"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2Fswiftly-swift%2Fa-quick-look-at-semaphores-6b7b85233ddb" data-action="sign-in-prompt" data-redirect="https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb" data-action-source="nav_signup">Sign in / Sign up</a></div></div></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-tintBgColor u-height65 u-xs-height56"></div><main role="main"><article class=" u-sizeViewHeightMin100 u-overflowHidden postArticle postArticle--full is-withAccentColors u-marginBottom40"  lang="en"><header class="container u-maxWidth740"><div class="postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="postMetaLockup postMetaLockup--authorWithBio u-flex js-postMetaLockup"><div class="u-flex0"><a class="link avatar u-baseColor--link"  href="https://medium.com/@zntfdr?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="85b35ca23fb2" data-action-type="hover" data-user-id="85b35ca23fb2" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*LsnhBMFqe8FcJc6NKV_aSg.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Federico Zanetello"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><a class="link link link--darken link--darker u-baseColor--link"  href="https://medium.com/@zntfdr?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="85b35ca23fb2" data-action-type="hover" data-user-id="85b35ca23fb2" dir="auto">Federico Zanetello</a><span class="followState js-followState buttonSet-inner" data-user-id="85b35ca23fb2"><button class="button u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/85b35ca23fb2" data-action-source="post_header_lockup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span><div class="postMetaInline u-noWrapWithEllipsis u-xs-normalWrap u-xs-lineClamp2">Swiftly Swift author, building apps @kimchi_media .</div><div class="postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2017-03-14T10:57:04.329Z">Mar 14</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="7 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="6b7b85233ddb" data-source="post_page" data-collection-id="823cfe45c7b6" data-tracking-context="postPage"><section name="bda4" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="bc9e" id="bc9e" class="graf graf--h3 graf--leading graf--title">A Quick Look at Semaphores in Swift 🚦</h1><p name="938a" id="938a" class="graf graf--p graf-after--h3">First of all, if you’re not familiar with the Grand Central Dispatch (GCD) and Dispatch Queues, please head over <a href="http://www.appcoda.com/grand-central-dispatch/" data-href="http://www.appcoda.com/grand-central-dispatch/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">this awesome article</a> from <a href="https://medium.com/@appcodamobile" data-href="https://medium.com/@appcodamobile" data-anchor-type="2" data-user-id="64c0d7fe60e1" data-action-value="64c0d7fe60e1" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">AppCoda</a>.</p><p name="b815" id="b815" class="graf graf--p graf-after--p">All right! Time to talk about Semaphores!</p><figure name="532b" id="532b" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 467px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.7%;"></div><img class="graf-image" data-image-id="1*8ZCGzvA6DjfR9JoamqauoQ.jpeg" data-width="2048" data-height="1366" data-action="zoom" data-action-value="1*8ZCGzvA6DjfR9JoamqauoQ.jpeg" src="https://cdn-images-1.medium.com/max/800/1*8ZCGzvA6DjfR9JoamqauoQ.jpeg"></div><figcaption class="imageCaption"><a href="https://www.flickr.com/photos/spaztacular/4551903328/" data-href="https://www.flickr.com/photos/spaztacular/4551903328/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Traffic Light</a> by <a href="https://www.flickr.com/photos/spaztacular/" data-href="https://www.flickr.com/photos/spaztacular/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">spaztacular</a></figcaption></figure><h3 name="1f3f" id="1f3f" class="graf graf--h3 graf-after--figure">Introduction</h3><p name="fafe" id="fafe" class="graf graf--p graf-after--h3">Let’s imagine a group of <em class="markup--em markup--p-em">writers </em>that must share a single <em class="markup--em markup--p-em">pen</em>. <br>Obviously only one <em class="markup--em markup--p-em">writer </em>can use the <em class="markup--em markup--p-em">pen </em>at any given time.</p><p name="0284" id="0284" class="graf graf--p graf-after--p">Now, imagine that those <em class="markup--em markup--p-em">writers </em>are our threads and that the <em class="markup--em markup--p-em">pen </em>is our <em class="markup--em markup--p-em">shared resource </em>(it can be anything: a file, a variable, the right to do something, etc).</p><p name="6eda" id="6eda" class="graf graf--p graf-after--p">How do we make sure that our <em class="markup--em markup--p-em">resource </em>is really <a href="https://en.wikipedia.org/wiki/Mutual_exclusion" data-href="https://en.wikipedia.org/wiki/Mutual_exclusion" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">mutually exclusive</a>?</p><figure name="49ee" id="49ee" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 465px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.5%;"></div><img class="graf-image" data-image-id="1*nfAYVSYFMB874-z4sfJ_YQ.jpeg" data-width="3008" data-height="2000" data-action="zoom" data-action-value="1*nfAYVSYFMB874-z4sfJ_YQ.jpeg" src="https://cdn-images-1.medium.com/max/800/1*nfAYVSYFMB874-z4sfJ_YQ.jpeg"></div><figcaption class="imageCaption"><a href="https://www.flickr.com/photos/sylvainbourdos/2959002289/" data-href="https://www.flickr.com/photos/sylvainbourdos/2959002289/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Streetless traffic light</a> by <a href="https://www.flickr.com/photos/sylvainbourdos/" data-href="https://www.flickr.com/photos/sylvainbourdos/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Sylvain Bourdos</a></figcaption></figure><h3 name="669c" id="669c" class="graf graf--h3 graf-after--figure">Implementing our own Resource Control Access</h3><p name="aa68" id="aa68" class="graf graf--p graf-after--h3">Someone may think: well I can just use a <em class="markup--em markup--p-em">resourceIsAvailable</em> <em class="markup--em markup--p-em">Bool</em> and set it to <em class="markup--em markup--p-em">true</em>/<em class="markup--em markup--p-em">false.</em></p><figure name="4897" id="4897" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/a3842629945209a954854d0d11ddffca?postId=6b7b85233ddb" data-media-id="a3842629945209a954854d0d11ddffca" allowfullscreen frameborder="0"></IFRAME></div></div></figure><p name="2322" id="2322" class="graf graf--p graf-after--figure">The problem is that, on concurrency, <strong class="markup--strong markup--p-strong">there’s no guarantee of knowing which thread, among all, is going to execute the next step, regardless of their priority</strong>.</p><h4 name="fa4e" id="fa4e" class="graf graf--h4 graf-after--p">Example</h4><p name="81d7" id="81d7" class="graf graf--p graf-after--h4">Imagine that we’ve implemented the code above and that we have two threads, <em class="markup--em markup--p-em">threadA</em> and <em class="markup--em markup--p-em">threadB</em>, that would like to use a mutual exclusive resource:</p><ul class="postList"><li name="c80a" id="c80a" class="graf graf--li graf-after--p"><em class="markup--em markup--li-em">threadA </em>reads the if-condition and see that the resource is available, great!</li><li name="7dc9" id="7dc9" class="graf graf--li graf-after--li">But, before the execution of the next line (<em class="markup--em markup--li-em">resourceIsAvalilable = false</em>), the processor turns to <em class="markup--em markup--li-em">threadB </em>and it also reads the if-condition.</li><li name="2d43" id="2d43" class="graf graf--li graf-after--li">Now we have two threads that believe that the resource is available and both are going to execute the <em class="markup--em markup--li-em">use-the-resource </em>block.</li></ul><p name="9735" id="9735" class="graf graf--p graf-after--li">Writing thread-safe code without GCD is not an easy task.</p><figure name="f1ce" id="f1ce" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 468px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.9%;"></div><img class="graf-image" data-image-id="1*p54pBislRafckGffcDqRdA.png" data-width="700" data-height="468" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*p54pBislRafckGffcDqRdA.png"></div><figcaption class="imageCaption"><a href="http://petemc.deviantart.com/art/At-the-lights-54539913" data-href="http://petemc.deviantart.com/art/At-the-lights-54539913" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">At the lights</a> by <a href="http://petemc.deviantart.com/" data-href="http://petemc.deviantart.com/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">petemc</a></figcaption></figure><h3 name="59bf" id="59bf" class="graf graf--h3 graf-after--figure">How Semaphores Work</h3><p name="cc86" id="cc86" class="graf graf--p graf-after--h3">Three steps:</p><ol class="postList"><li name="0063" id="0063" class="graf graf--li graf-after--p">Whenever we would like to use one shared resource, we send a <strong class="markup--strong markup--li-strong">request</strong> to its semaphore;</li><li name="88c2" id="88c2" class="graf graf--li graf-after--li">Once the semaphore gives us the green light (see what I did here?) we can assume that the resource is ours and we can use it;</li><li name="a8d4" id="a8d4" class="graf graf--li graf-after--li">Once the resource is no longer necessary, we let the semaphore know by sending him a <strong class="markup--strong markup--li-strong">signal</strong>,<strong class="markup--strong markup--li-strong"> </strong>allowing him to assign the resource to another thread.</li></ol><p name="b8b7" id="b8b7" class="graf graf--p graf-after--li">When this resource is only one and can be used only by one<strong class="markup--strong markup--p-strong"> </strong>thread at any given time, you can think of these <strong class="markup--strong markup--p-strong">request/signal </strong>as the resource <strong class="markup--strong markup--p-strong">lock/unlock</strong>.</p><figure name="18ef" id="18ef" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 275px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 39.300000000000004%;"></div><img class="graf-image" data-image-id="1*-_owdkyNPRUQS5a5yjdEkA.jpeg" data-width="2000" data-height="786" data-action="zoom" data-action-value="1*-_owdkyNPRUQS5a5yjdEkA.jpeg" src="https://cdn-images-1.medium.com/max/800/1*-_owdkyNPRUQS5a5yjdEkA.jpeg"></div><figcaption class="imageCaption"><a href="https://www.flickr.com/photos/mallix/2257103619/" data-href="https://www.flickr.com/photos/mallix/2257103619/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Robots/Traffic Light</a> by <a href="https://www.flickr.com/photos/mallix/" data-href="https://www.flickr.com/photos/mallix/" class="markup--anchor markup--figure-anchor" title="Go to mallix&#39;s photostream" rel="nofollow noopener" target="_blank">mallix</a></figcaption></figure><h3 name="77cf" id="77cf" class="graf graf--h3 graf-after--figure">What’s Happening Behind the Scenes</h3><h4 name="7522" id="7522" class="graf graf--h4 graf-after--h3">The Structure</h4><p name="2f31" id="2f31" class="graf graf--p graf-after--h4">The Semaphore is composed by:</p><ul class="postList"><li name="5d67" id="5d67" class="graf graf--li graf-after--p">a <em class="markup--em markup--li-em">counter </em>that let the Semaphore know how many threads can use its resource(s);</li><li name="1a76" id="1a76" class="graf graf--li graf-after--li">a <em class="markup--em markup--li-em">FIFO queue</em> for tracking the threads waiting for the resource;</li></ul><h4 name="e499" id="e499" class="graf graf--h4 graf-after--li">Resource Request: wait()</h4><p name="608d" id="608d" class="graf graf--p graf-after--h4">When the semaphore receives a request, it checks if its <em class="markup--em markup--p-em">counter </em>is above zero:</p><ul class="postList"><li name="aa77" id="aa77" class="graf graf--li graf-after--p">if yes, then the semaphore decrements it and gives the thread the green light;</li><li name="223f" id="223f" class="graf graf--li graf-after--li">otherwise it pushes the thread at the end of its queue;</li></ul><h4 name="b537" id="b537" class="graf graf--h4 graf-after--li">Resource Release: signal()</h4><p name="129c" id="129c" class="graf graf--p graf-after--h4">Once the semaphore receives a signal, it checks if its FIFO queue has threads in it:</p><ul class="postList"><li name="b0ff" id="b0ff" class="graf graf--li graf-after--p">if yes, then the semaphore pulls the first thread and give him the green light;</li><li name="6dea" id="6dea" class="graf graf--li graf-after--li">otherwise it increments its counter;</li></ul><h4 name="944e" id="944e" class="graf graf--h4 graf-after--li">Warning: Busy Waiting</h4><p name="9776" id="9776" class="graf graf--p graf-after--h4">When a thread sends a <em class="markup--em markup--p-em">wait() </em>resource request to the semaphore, the thread <strong class="markup--strong markup--p-strong">freezes </strong>until the semaphore gives the thread the green light.</p><p name="b8e1" id="b8e1" class="graf graf--p graf-after--p">⚠️️<strong class="markup--strong markup--p-strong"> </strong>If you do this in the main thread, the whole app will freeze ⚠️️</p><figure name="06af" id="06af" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 525px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 75%;"></div><img class="graf-image" data-image-id="1*3GANzX3n1uEiuhXE49fcrg.jpeg" data-width="1600" data-height="1200" data-action="zoom" data-action-value="1*3GANzX3n1uEiuhXE49fcrg.jpeg" src="https://cdn-images-1.medium.com/max/800/1*3GANzX3n1uEiuhXE49fcrg.jpeg"></div><figcaption class="imageCaption"><a href="https://www.flickr.com/photos/eyecmore/6805277055/" data-href="https://www.flickr.com/photos/eyecmore/6805277055/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">STOP Traffic Lights &amp; Sunset</a> by <a href="https://www.flickr.com/photos/eyecmore/" data-href="https://www.flickr.com/photos/eyecmore/" class="markup--anchor markup--figure-anchor" title="Go to eyecmore&#39;s photostream" rel="nofollow noopener" target="_blank">eyecmore</a></figcaption></figure><h3 name="84cc" id="84cc" class="graf graf--h3 graf-after--figure">Using Semaphores in Swift (with GCD)</h3><p name="a7bc" id="a7bc" class="graf graf--p graf-after--h3">Let’s write some code!</p><h4 name="1068" id="1068" class="graf graf--h4 graf-after--p">Declaration</h4><p name="0bf5" id="0bf5" class="graf graf--p graf-after--h4">Declaring a Semaphore is simple:</p><figure name="e539" id="e539" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/fb8c3fa662427abfe6caff9bd5187331?postId=6b7b85233ddb" data-media-id="fb8c3fa662427abfe6caff9bd5187331" allowfullscreen frameborder="0"></IFRAME></div></div></figure><p name="8f65" id="8f65" class="graf graf--p graf-after--figure">The <em class="markup--em markup--p-em">value</em> parameter is the number of threads that can access to the resource as for the semaphore creation.</p><h4 name="f2cf" id="f2cf" class="graf graf--h4 graf-after--p">Resource Request</h4><p name="f710" id="f710" class="graf graf--p graf-after--h4">To <strong class="markup--strong markup--p-strong">request </strong>the <em class="markup--em markup--p-em">semaphore</em>’s resource(s), we just call:</p><figure name="3949" id="3949" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/510289283687b29ac91781849cc8cee9?postId=6b7b85233ddb" data-media-id="510289283687b29ac91781849cc8cee9" allowfullscreen frameborder="0"></IFRAME></div></div></figure><p name="b76c" id="b76c" class="graf graf--p graf-after--figure">Note that the semaphore is not physically giving us anything, the resource has to be in the thread’s scope already, we just use the resource only between our request and release calls.</p><p name="b966" id="b966" class="graf graf--p graf-after--p">Once the semaphore gives us its blessing, the thread resumes its normal execution and can consider the resource his to use.</p><h4 name="9c78" id="9c78" class="graf graf--h4 graf-after--p">Resource Release</h4><p name="2a5b" id="2a5b" class="graf graf--p graf-after--h4">To <strong class="markup--strong markup--p-strong">release</strong> the resource we write:</p><figure name="cd68" id="cd68" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/b78023bfdfb2f978310267280e7a4664?postId=6b7b85233ddb" data-media-id="b78023bfdfb2f978310267280e7a4664" allowfullscreen frameborder="0"></IFRAME></div></div></figure><p name="34be" id="34be" class="graf graf--p graf-after--figure">After sending this signal we aren’t allowed to touch the resource anymore, until we request for it again.</p><h3 name="5898" id="5898" class="graf graf--h3 graf-after--p">Semaphore Playgrounds</h3><p name="4cc8" id="4cc8" class="graf graf--p graf-after--h3">Following <a href="https://medium.com/@appcodamobile" data-href="https://medium.com/@appcodamobile" data-anchor-type="2" data-user-id="64c0d7fe60e1" data-action-value="64c0d7fe60e1" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">AppCoda</a> <a href="http://www.appcoda.com/grand-central-dispatch/" data-href="http://www.appcoda.com/grand-central-dispatch/" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">article</a> examples, let’s see this Semaphore in action!</p><blockquote name="27cd" id="27cd" class="graf graf--blockquote graf-after--p">Warning: these are Xcode Playgrounds, as Swift Playgrounds don’t support Logging just yet. Fingers crossed for WWDC17!</blockquote><p name="dee6" id="dee6" class="graf graf--p graf-after--blockquote">In these playgrounds we have two threads, one with slightly higher priority than the other, that print 10 times an emoji and incremental numbers.</p><h4 name="2f36" id="2f36" class="graf graf--h4 graf-after--p">Semaphore-less Playground</h4><figure name="c539" id="c539" class="graf graf--figure graf--iframe graf-after--h4"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/3145d534242e57aa382586eea10d208e?postId=6b7b85233ddb" data-media-id="3145d534242e57aa382586eea10d208e" allowfullscreen frameborder="0"></IFRAME></div></div></figure><p name="9691" id="9691" class="graf graf--p graf-after--figure">As you can Imagine, the higher priority thread finishes first most of the times:</p><figure name="79a0" id="79a0" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 571px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 81.6%;"></div><img class="graf-image" data-image-id="1*OjtJO8-44tStXpRS8y1N-A.png" data-width="712" data-height="581" data-action="zoom" data-action-value="1*OjtJO8-44tStXpRS8y1N-A.png" src="https://cdn-images-1.medium.com/max/800/1*OjtJO8-44tStXpRS8y1N-A.png"></div></figure><h4 name="9073" id="9073" class="graf graf--h4 graf-after--figure">Semaphore Playground</h4><p name="3e86" id="3e86" class="graf graf--p graf-after--h4">In this case we will use the same code as before, but we will give the right to print the <em class="markup--em markup--p-em">emoji+number</em> sequence only to one thread at a time.</p><p name="cb86" id="cb86" class="graf graf--p graf-after--p">In order to do so we will define one semaphore and update our <em class="markup--em markup--p-em">asyncPrint </em>function:</p><figure name="7e2a" id="7e2a" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/daea50aba7d459ba53679dbc2d7f76b9?postId=6b7b85233ddb" data-media-id="daea50aba7d459ba53679dbc2d7f76b9" allowfullscreen frameborder="0"></IFRAME></div></div></figure><p name="cb05" id="cb05" class="graf graf--p graf-after--figure">I’ve also added a couple more <em class="markup--em markup--p-em">print</em> commands to see the actual state of each thread during our execution.</p><figure name="fe59" id="fe59" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 646px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 92.30000000000001%;"></div><img class="graf-image" data-image-id="1*g7SMrR7svWNetOqjSGIEYA.png" data-width="712" data-height="657" data-action="zoom" data-action-value="1*g7SMrR7svWNetOqjSGIEYA.png" src="https://cdn-images-1.medium.com/max/800/1*g7SMrR7svWNetOqjSGIEYA.png"></div></figure><p name="6025" id="6025" class="graf graf--p graf-after--figure">As you can see, when one thread starts printing the sequence, the other thread must wait until the first one ends, then the semaphore will receive the <em class="markup--em markup--p-em">signal </em>from the first thread and then, <em class="markup--em markup--p-em">only then</em>, the second thread can start printing its own sequence.</p><p name="dd77" id="dd77" class="graf graf--p graf-after--p">It doesn’t matter at which point of the sequence the second thread will send the <em class="markup--em markup--p-em">wait() </em>request, it will always have to wait until the other thread is done.</p><p name="ecf5" id="ecf5" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Priority Inversion<br></strong>Now that we understand how everything works, please take a look at the following log:</p><figure name="1d07" id="1d07" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 641px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 91.60000000000001%;"></div><img class="graf-image" data-image-id="1*eCFBl9XpF6JYX1b8xwD26w.png" data-width="712" data-height="652" data-action="zoom" data-action-value="1*eCFBl9XpF6JYX1b8xwD26w.png" src="https://cdn-images-1.medium.com/max/800/1*eCFBl9XpF6JYX1b8xwD26w.png"></div></figure><p name="80b9" id="80b9" class="graf graf--p graf-after--figure">In this case, with the exact code above, the processor has decided to execute the low priority thread first.</p><p name="73d3" id="73d3" class="graf graf--p graf-after--p">When this happens, the high priority thread must wait the low priority thread to finish! This is ok, it can happen. <br>The problem is that the low priority thread has low priority even when one high priority thread is waiting for him: this is called <a href="https://en.wikipedia.org/wiki/Priority_inversion" data-href="https://en.wikipedia.org/wiki/Priority_inversion" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Priority Inversion</em></strong></a>.</p><p name="0ddd" id="0ddd" class="graf graf--p graf-after--p">In other programming concepts different than the Semaphore, when this happens the low priority thread will temporarily <em class="markup--em markup--p-em">inherit </em>the priority of the highest priority thread that is waiting on him: this is called <a href="https://en.wikipedia.org/wiki/Priority_inheritance" data-href="https://en.wikipedia.org/wiki/Priority_inheritance" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Priority Inheritance</em></strong></a>.</p><p name="05af" id="05af" class="graf graf--p graf-after--p">With Semaphores this is not the case because, actually, anybody can call the <em class="markup--em markup--p-em">signal()</em> function (not only the thread that is currently using the resource).</p><p name="f962" id="f962" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Thread Starvation<br></strong>To make things even worse, let’s imagine that between our high &amp; low priority threads there are 1000 more middle-priority threads.</p><p name="254c" id="254c" class="graf graf--p graf-after--p">If we have a case of <em class="markup--em markup--p-em">Priority Inversion</em> like above, the high priority thread must wait for the low priority thread, but, most of the time, the processor will execute the middle priority threads, as they have higher priority than our low priority one.</p><p name="053e" id="053e" class="graf graf--p graf-after--p">In this scenario our high priority thread is being starved of CPU time (hence the concept of <a href="https://en.wikipedia.org/wiki/Starvation_%28computer_science%29" data-href="https://en.wikipedia.org/wiki/Starvation_(computer_science)" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Starvation</a>).</p><h4 name="f665" id="f665" class="graf graf--h4 graf-after--p">Solutions</h4><p name="817e" id="817e" class="graf graf--p graf-after--h4">In my opinion, it’s better to use Semaphores only among threads of the same priority. If this is not your case, I suggest you to look at other solutions such as <a href="https://en.wikipedia.org/wiki/Critical_section" data-href="https://en.wikipedia.org/wiki/Critical_section" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">Regions</a> and <a href="https://en.wikipedia.org/wiki/Monitor_%28synchronization%29" data-href="https://en.wikipedia.org/wiki/Monitor_(synchronization)" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">Monitors</a>.</p><h3 name="05b5" id="05b5" class="graf graf--h3 graf-after--p">Deadlock Playground</h3><p name="36e3" id="36e3" class="graf graf--p graf-after--h3">This time we have two threads that use two mutual exclusive resources “<em class="markup--em markup--p-em">A</em>” and “<em class="markup--em markup--p-em">B</em>”.</p><p name="077f" id="077f" class="graf graf--p graf-after--p">If the two resources can be used separately, it makes sense to define one semaphore for each resource. If not, one semaphore can manage both.</p><p name="1a0e" id="1a0e" class="graf graf--p graf-after--p">I want to make an example with the former case (2 resources, 2 semaphores) with a twist: the high priority thread will use first resource “A” and then “B”, while our low priority one will use first resource “B” and then “A”.</p><p name="e168" id="e168" class="graf graf--p graf-after--p">Here’s the code:</p><figure name="a488" id="a488" class="graf graf--figure graf--iframe graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.699999999999996%;"></div><div class="iframeContainer"><IFRAME width="700" height="250" src="/media/85886fc29e52eba2bfe37d10847cd966?postId=6b7b85233ddb" data-media-id="85886fc29e52eba2bfe37d10847cd966" data-thumbnail="https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F5277837%3Fv%3D3%26s%3D400&amp;key=4fce0568f2ce49e8b54624ef71a8a5bd" allowfullscreen frameborder="0"></IFRAME></div></div></figure><p name="8049" id="8049" class="graf graf--p graf-after--figure">If we’re lucky, this is what happens:</p><figure name="3b8e" id="3b8e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 678px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 96.89999999999999%;"></div><img class="graf-image" data-image-id="1*_ASgiqbV_o9caE7M7hNBpQ.png" data-width="712" data-height="690" data-action="zoom" data-action-value="1*_ASgiqbV_o9caE7M7hNBpQ.png" src="https://cdn-images-1.medium.com/max/800/1*_ASgiqbV_o9caE7M7hNBpQ.png"></div></figure><p name="2eba" id="2eba" class="graf graf--p graf-after--figure">Simply, the high priority thread will be served with the first resource, then the second and only later the the processor will move to the low priority thread.</p><p name="dc3e" id="dc3e" class="graf graf--p graf-after--p">However, if we’re unlucky, this can also happen:</p><figure name="da02" id="da02" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 478px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 68.30000000000001%;"></div><img class="graf-image" data-image-id="1*cVvGM-1NRH7kouSRu2mSRQ.png" data-width="712" data-height="486" data-action="zoom" data-action-value="1*cVvGM-1NRH7kouSRu2mSRQ.png" src="https://cdn-images-1.medium.com/max/800/1*cVvGM-1NRH7kouSRu2mSRQ.png"></div></figure><p name="2eef" id="2eef" class="graf graf--p graf-after--figure">Both threads didn’t finish their execution! Let’s review the current state:</p><ul class="postList"><li name="a740" id="a740" class="graf graf--li graf-after--p">The high priority thread is waiting for the resource “B”, which is held by the low priority thread;</li><li name="8d0a" id="8d0a" class="graf graf--li graf-after--li">The low priority thread is waiting for the resource “A”, which is held by the high priority thread;</li></ul><p name="a6b6" id="a6b6" class="graf graf--p graf-after--li">Both threads are waiting on each other with no possibility to move forward: welcome to a <a href="https://en.wikipedia.org/wiki/Deadlock" data-href="https://en.wikipedia.org/wiki/Deadlock" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">Thread Deadlock</em></a>!</p><h4 name="7b9d" id="7b9d" class="graf graf--h4 graf-after--p">Solutions</h4><p name="c924" id="c924" class="graf graf--p graf-after--h4">Avoiding <a href="https://en.wikipedia.org/wiki/Deadlock" data-href="https://en.wikipedia.org/wiki/Deadlock" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">deadlocks</a> is not simple. The best solution would be preventing them by writing code that <a href="https://en.wikipedia.org/wiki/Deadlock_prevention_algorithms" data-href="https://en.wikipedia.org/wiki/Deadlock_prevention_algorithms" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">can’t possibly reach this state</a>.</p><p name="d7ba" id="d7ba" class="graf graf--p graf-after--p">In other OSs, for example, one of the deadlock threads could be killed (in order to release all its resources) with the hope that other threads can continue their execution.</p><p name="6b51" id="6b51" class="graf graf--p graf-after--p">…Or you can just use the <a href="https://en.wikipedia.org/wiki/Ostrich_algorithm" data-href="https://en.wikipedia.org/wiki/Ostrich_algorithm" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Ostrich_Algorithm</a> 😆.</p><figure name="ef3c" id="ef3c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 467px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.7%;"></div><img class="graf-image" data-image-id="1*Nmcb2GTIk-PO0TNPNPD8Mw.jpeg" data-width="5616" data-height="3744" data-action="zoom" data-action-value="1*Nmcb2GTIk-PO0TNPNPD8Mw.jpeg" src="https://cdn-images-1.medium.com/max/800/1*Nmcb2GTIk-PO0TNPNPD8Mw.jpeg"></div><figcaption class="imageCaption"><a href="https://www.flickr.com/photos/thomashawk/8006214559/" data-href="https://www.flickr.com/photos/thomashawk/8006214559/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Let Me Keep My Memories</a> by <a href="https://www.flickr.com/photos/thomashawk/" data-href="https://www.flickr.com/photos/thomashawk/" class="markup--anchor markup--figure-anchor" title="Go to Thomas Hawk&#39;s photostream" rel="nofollow noopener" target="_blank">Thomas Hawk</a></figcaption></figure><h3 name="97c6" id="97c6" class="graf graf--h3 graf-after--figure">Conclusions</h3><p name="995e" id="995e" class="graf graf--p graf-after--h3 graf--trailing">Semaphores are a little nice concept that can be very handy in many applications. Just, be careful: look both ways before crossing.</p></div></div></section><section name="05fe" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="d66f" id="d66f" class="graf graf--p graf--leading"><a href="https://twitter.com/zntfdr" data-href="https://twitter.com/zntfdr" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank"><em class="markup--em markup--p-em">Federico</em></a><em class="markup--em markup--p-em"> is a Bangkok-based Software Engineer with a strong passion for Swift, Minimalism, Design, and iOS Development.</em></p></div><div class="section-inner sectionLayout--outsetRow" data-paragraph-count="3"><figure name="f85a" id="f85a" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 33.333%;"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 136.20000000000002%;"></div><a href="https://twitter.com/zntfdr" data-href="https://twitter.com/zntfdr" class="graf-imageAnchor" data-action="image-link" data-action-observe-only="true"rel="nofollow"><img class="graf-image" data-image-id="1*zfVwf8tkAGen9lk0CUWfHQ.jpeg" data-width="370" data-height="504" src="https://cdn-images-1.medium.com/max/400/1*zfVwf8tkAGen9lk0CUWfHQ.jpeg"></a></div></figure><figure name="baac" id="baac" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure" style="width: 33.333%;"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 136.20000000000002%;"></div><a href="https://medium.com/swiftly-swift/" data-href="https://medium.com/swiftly-swift/" class="graf-imageAnchor" data-action="image-link" data-action-observe-only="true"><img class="graf-image" data-image-id="1*fPsdEtYNVIv_-2hHPnARFg.jpeg" data-width="370" data-height="504" src="https://cdn-images-1.medium.com/max/400/1*fPsdEtYNVIv_-2hHPnARFg.jpeg"></a></div></figure><figure name="3673" id="3673" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure graf--trailing" style="width: 33.333%;"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 136.20000000000002%;"></div><a href="https://itunes.apple.com/us/developer/kimchi-media/id1053443073" data-href="https://itunes.apple.com/us/developer/kimchi-media/id1053443073" class="graf-imageAnchor" data-action="image-link" data-action-observe-only="true"rel="nofollow"><img class="graf-image" data-image-id="1*DfiydUpl-d9OV8Mu_fAPxA.jpeg" data-width="370" data-height="504" src="https://cdn-images-1.medium.com/max/400/1*DfiydUpl-d9OV8Mu_fAPxA.jpeg"></a></div></figure></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"  href="https://medium.com/tag/swift?source=post" data-action-source="post">Swift</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/programming?source=post" data-action-source="post">Programming</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/computer-science?source=post" data-action-source="post">Computer Science</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/ios-app-development?source=post" data-action-source="post">iOS App Development</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/xcode?source=post" data-action-source="post">Xcode</a></li></ul></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="6b7b85233ddb" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_footer"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/6b7b85233ddb" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="show-recommends" data-action-value="6b7b85233ddb">143</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="scroll-to-responses">6</button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></div></div></div></div><div class="js-postPromotionWrapper postPromotionWrapper" data-location-id="footer_above_post_attribution"></div><div class="container u-maxWidth740 js-postAttributionFooterContainer u-paddingTop20 u-paddingBottom20 u-marginTop10 u-borderTopLightest u-xs-paddingTop10 u-xs-paddingBottom10"><div class="row js-postFooterInfo"><div class="col u-size6of12 u-xs-size12of12"><li class="u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="85b35ca23fb2"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/85b35ca23fb2" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell "><a class="link avatar u-baseColor--link"  href="https://medium.com/@zntfdr?source=footer_card" title="Go to the profile of Federico Zanetello" aria-label="Go to the profile of Federico Zanetello" data-action-source="footer_card" data-user-id="85b35ca23fb2" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*LsnhBMFqe8FcJc6NKV_aSg.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Federico Zanetello"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://medium.com/@zntfdr" property="cc:attributionName" title="Go to the profile of Federico Zanetello" aria-label="Go to the profile of Federico Zanetello" rel="author cc:attributionUrl" data-user-id="85b35ca23fb2" dir="auto">Federico Zanetello</a></h3><p class="u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Swiftly Swift author, building apps <a href="http://twitter.com/kimchi_media" target="_blank" title="Twitter profile for @kimchi_media">@kimchi_media</a> .</p></div></li></div><div class="col u-size6of12 u-xs-size12of12 u-xs-marginTop30"><li class="u-block u-paddingBottom18 js-cardCollection"><div class="u-marginLeft20 u-floatRight"><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/swiftly-swift" data-collection-id="823cfe45c7b6"><span class="button-label  js-buttonLabel">Follow</span></button></div><div class="u-tableCell "><a class="link avatar avatar--roundedRectangle u-baseColor--link"  href="https://medium.com/swiftly-swift?source=footer_card" title="Go to Swiftly Swift" aria-label="Go to Swiftly Swift" data-action-source="footer_card"><img src="https://cdn-images-1.medium.com/fit/c/60/60/1*TJhiZlrtJthRv8Y8Pbb7nQ.png" class="avatar-image u-size60x60" alt="Swiftly Swift"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://medium.com/swiftly-swift?source=footer_card" rel="collection" data-action-source="footer_card">Swiftly Swift</a></h3><p class="u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Write code swiftly</p><div class="buttonSet"></div></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-readNext"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed"><ul><li class="u-uiTextSemibold u-textAlignCenter u-textColorNormal u-fontSize12 u-textUppercase">Share</li><li class="u-textAlignCenter"><div class="js-actionRecommend" data-post-id="6b7b85233ddb" data-is-icon-29px="true" data-is-vertical="true" data-has-recommend-list="true" data-source="post_share_widget"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/6b7b85233ddb" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal  u-block u-marginAuto u-marginTopNegative5"  data-action="show-recommends" data-action-value="6b7b85233ddb">143</button></div></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-in-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/6b7b85233ddb"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link avatar avatar--roundedRectangle u-baseColor--link"  href="https://medium.com/swiftly-swift" title="Go to Swiftly Swift" aria-label="Go to Swiftly Swift"><img src="https://cdn-images-1.medium.com/fit/c/40/40/1*TJhiZlrtJthRv8Y8Pbb7nQ.png" class="avatar-image avatar-image--smaller" alt="Swiftly Swift"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Swiftly Swift</strong>, when you sign up for Medium. <a class="link link--accent u-accentColor--textNormal u-accentColor--textDarken u-baseColor--link"  href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Swiftly Swift</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><button class="button button--primary button--dark is-active u-noUserSelect button--withChrome u-accentColor--buttonDark u-uiTextSemibold u-textUppercase u-fontSize12 button--followCollection js-followCollectionButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/swiftly-swift" data-action-source="sticky_footer_collection_follow"><span class="button-label  button-defaultState js-buttonLabel">Get updates</span><span class="button-label button-activeState">Get updates</span></button></div></div></div><style class="js-collectionStyle">
.u-accentColor--borderLight {border-color: #DC4D00 !important;}
.u-accentColor--borderNormal {border-color: #DC4D00 !important;}
.u-accentColor--borderDark {border-color: #BB4600 !important;}
.u-accentColor--iconLight .svgIcon,.u-accentColor--iconLight.svgIcon {fill: #DC4D00 !important;}
.u-accentColor--iconNormal .svgIcon,.u-accentColor--iconNormal.svgIcon {fill: #DC4D00 !important;}
.u-accentColor--iconDark .svgIcon,.u-accentColor--iconDark.svgIcon {fill: #BB4600 !important;}
.u-accentColor--textNormal {color: #BB4600 !important;}
.u-accentColor--hoverTextNormal:hover {color: #BB4600 !important;}
.u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #AA4200 !important;}
.u-accentColor--textDark {color: #AA4200 !important;}
.u-accentColor--backgroundLight {background-color: #DC4D00 !important;}
.u-accentColor--backgroundNormal {background-color: #DC4D00 !important;}
.u-accentColor--backgroundDark {background-color: #BB4600 !important;}
.u-accentColor--buttonDark {border-color: #BB4600 !important; color: #AA4200 !important;}
.u-accentColor--buttonDark:hover {border-color: #AA4200 !important;}
.u-accentColor--buttonDark .icon:before,.u-accentColor--buttonDark .svgIcon{color: #BB4600 !important; fill: #BB4600 !important;}
.u-accentColor--buttonNormal {border-color: #DC4D00 !important; color: #BB4600 !important;}
.u-accentColor--buttonNormal:hover {border-color: #BB4600 !important;}
.u-accentColor--buttonNormal .icon:before,.u-accentColor--buttonNormal .svgIcon{color: #DC4D00 !important; fill: #DC4D00 !important;}
.u-accentColor--buttonNormal.button--filled .icon:before,.u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonDark.button--filled,.u-accentColor--buttonDark.button--withChrome.is-active,.u-accentColor--fillWhenActive.is-active {background-color: #BB4600 !important; border-color: #BB4600 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonNormal.button--filled,.u-accentColor--buttonNormal.button--withChrome.is-active {background-color: #DC4D00 !important; border-color: #DC4D00 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--user,.postArticle.is-withAccentColors .markup--query {color: #BB4600 !important;}.u-tintBgColor {background-color: rgba(255, 102, 0, 1) !important;}.u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 102, 0, 1) 0%, rgba(255, 102, 0, 0) 100%) !important;}.u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 102, 0, 0) 0%, rgba(255, 102, 0, 1) 100%) !important;}
.u-tintSpectrum .u-baseColor--borderLight {border-color: #FFAE74 !important;}
.u-tintSpectrum .u-baseColor--borderNormal {border-color: #FFC99C !important;}
.u-tintSpectrum .u-baseColor--borderDark {border-color: #FFE4C4 !important;}
.u-tintSpectrum .u-baseColor--iconLight .svgIcon,.u-tintSpectrum .u-baseColor--iconLight.svgIcon {fill: #FFAE74 !important;}
.u-tintSpectrum .u-baseColor--iconNormal .svgIcon,.u-tintSpectrum .u-baseColor--iconNormal.svgIcon {fill: #FFC99C !important;}
.u-tintSpectrum .u-baseColor--iconDark .svgIcon,.u-tintSpectrum .u-baseColor--iconDark.svgIcon {fill: #FFE4C4 !important;}
.u-tintSpectrum .u-baseColor--textNormal {color: #FFC99C !important;}
.u-tintSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--textDark {color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--backgroundLight {background-color: #FFAE74 !important;}
.u-tintSpectrum .u-baseColor--backgroundNormal {background-color: #FFC99C !important;}
.u-tintSpectrum .u-baseColor--backgroundDark {background-color: #FFE4C4 !important;}
.u-tintSpectrum .u-baseColor--buttonLight {border-color: #FFAE74 !important; color: #FFAE74 !important;}
.u-tintSpectrum .u-baseColor--buttonLight:hover {border-color: #FFAE74 !important;}
.u-tintSpectrum .u-baseColor--buttonLight .icon:before,.u-tintSpectrum .u-baseColor--buttonLight .svgIcon {color: #FFAE74 !important; fill: #FFAE74 !important;}
.u-tintSpectrum .u-baseColor--buttonDark {border-color: #FFE4C4 !important; color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--buttonDark:hover {border-color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--buttonDark .icon:before,.u-tintSpectrum .u-baseColor--buttonDark .svgIcon {color: #FFE4C4 !important; fill: #FFE4C4 !important;}
.u-tintSpectrum .u-baseColor--buttonNormal {border-color: #FFC99C !important; color: #FFC99C !important;}
.u-tintSpectrum .u-baseColor--buttonNormal:hover {border-color: #FFE4C4 !important;}
.u-tintSpectrum .u-baseColor--buttonNormal .icon:before,.u-tintSpectrum .u-baseColor--buttonNormal .svgIcon {color: #FFC99C !important; fill: #FFC99C !important;}
.u-tintSpectrum .u-baseColor--buttonDark.button--filled,.u-tintSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: #FFE4C4 !important; border-color: #FFE4C4 !important; color: rgba(255, 102, 0, 1) !important; fill: rgba(255, 102, 0, 1) !important;}
.u-tintSpectrum .u-baseColor--buttonNormal.button--filled,.u-tintSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: #FFC99C !important; border-color: #FFC99C !important; color: rgba(255, 102, 0, 1) !important; fill: rgba(255, 102, 0, 1) !important;}
.u-tintSpectrum .u-baseColor--link {color: #FFC99C !important;}
.u-tintSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--link.link--darken:hover,.u-tintSpectrum .u-baseColor--link.link--darken:focus,.u-tintSpectrum .u-baseColor--link.link--darken:active {color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--link.link--dark {color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-tintSpectrum .u-baseColor--link.link--dark.link--darken:active {color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--link.link--darker {color: #FFF2D9 !important;}
.u-tintSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: #FFAE74;}
.u-tintSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: #FFAE74;}
.u-tintSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: #FFAE74;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: #FF8339 !important;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: #FF924D !important;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: #FFAE74 !important;}
.u-tintSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--borderLight {border-color: #FFAE74 !important;}
.u-tintSpectrum .u-accentColor--borderNormal {border-color: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--borderDark {border-color: #FFE4C4 !important;}
.u-tintSpectrum .u-accentColor--iconLight .svgIcon,.u-tintSpectrum .u-accentColor--iconLight.svgIcon {fill: #FFAE74 !important;}
.u-tintSpectrum .u-accentColor--iconNormal .svgIcon,.u-tintSpectrum .u-accentColor--iconNormal.svgIcon {fill: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--iconDark .svgIcon,.u-tintSpectrum .u-accentColor--iconDark.svgIcon {fill: #FFE4C4 !important;}
.u-tintSpectrum .u-accentColor--textNormal {color: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--hoverTextNormal:hover {color: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #FFF2D9 !important;}
.u-tintSpectrum .u-accentColor--textDark {color: #FFF2D9 !important;}
.u-tintSpectrum .u-accentColor--backgroundLight {background-color: #FFAE74 !important;}
.u-tintSpectrum .u-accentColor--backgroundNormal {background-color: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--backgroundDark {background-color: #FFE4C4 !important;}
.u-tintSpectrum .u-accentColor--buttonDark {border-color: #FFE4C4 !important; color: #FFF2D9 !important;}
.u-tintSpectrum .u-accentColor--buttonDark:hover {border-color: #FFF2D9 !important;}
.u-tintSpectrum .u-accentColor--buttonDark .icon:before,.u-tintSpectrum .u-accentColor--buttonDark .svgIcon{color: #FFE4C4 !important; fill: #FFE4C4 !important;}
.u-tintSpectrum .u-accentColor--buttonNormal {border-color: #FFC99C !important; color: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--buttonNormal:hover {border-color: #FFE4C4 !important;}
.u-tintSpectrum .u-accentColor--buttonNormal .icon:before,.u-tintSpectrum .u-accentColor--buttonNormal .svgIcon{color: #FFC99C !important; fill: #FFC99C !important;}
.u-tintSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-tintSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 102, 0, 1) !important; fill: rgba(255, 102, 0, 1) !important;}
.u-tintSpectrum .u-accentColor--buttonDark.button--filled,.u-tintSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-tintSpectrum .u-accentColor--fillWhenActive.is-active {background-color: #FFE4C4 !important; border-color: #FFE4C4 !important; color: rgba(255, 102, 0, 1) !important; fill: rgba(255, 102, 0, 1) !important;}
.u-tintSpectrum .u-accentColor--buttonNormal.button--filled,.u-tintSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active {background-color: #FFC99C !important; border-color: #FFC99C !important; color: rgba(255, 102, 0, 1) !important; fill: rgba(255, 102, 0, 1) !important;}
.u-tintSpectrum .postArticle.is-withAccentColors .markup--user,.u-tintSpectrum .postArticle.is-withAccentColors .markup--query {color: #FFC99C !important;}
.u-accentColor--highlightFaint {background-color: rgba(255, 222, 187, 1) !important;}
.u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 177, 102, 1) !important;}
.postArticle.is-withAccentColors .markup--quote.is-other {background-color: rgba(255, 222, 187, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 222, 187, 1), rgba(255, 222, 187, 1));}
.postArticle.is-withAccentColors .markup--quote.is-me {background-color: rgba(255, 197, 140, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 197, 140, 1), rgba(255, 197, 140, 1));}
.postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: rgba(255, 177, 102, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 177, 102, 1), rgba(255, 177, 102, 1));}
.postArticle.is-withAccentColors .markup--quote.is-selected {background-color: rgba(255, 177, 102, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 177, 102, 1), rgba(255, 177, 102, 1));}
.postArticle.is-withAccentColors .markup--highlight {background-color: rgba(255, 177, 102, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 177, 102, 1), rgba(255, 177, 102, 1));}</style><style class="js-collectionStyleConstant">.u-imageBgColor {background-color: rgba(0, 0, 0, 0.24705882352941178);}
.u-imageSpectrum .u-baseColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconLight .svgIcon,.u-imageSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--iconNormal .svgIcon,.u-imageSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconDark .svgIcon,.u-imageSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important; color: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--buttonLight .icon:before,.u-imageSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark .icon:before,.u-imageSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal .icon:before,.u-imageSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonDark.button--filled,.u-imageSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal.button--filled,.u-imageSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--link {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(255, 255, 255, 0.4) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(255, 255, 255, 0.4980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconLight .svgIcon,.u-imageSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--iconNormal .svgIcon,.u-imageSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconDark .svgIcon,.u-imageSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark .icon:before,.u-imageSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonDark.button--filled,.u-imageSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-imageSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled,.u-imageSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .postArticle.is-withAccentColors .markup--user,.u-imageSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--highlightFaint {background-color: rgba(255, 255, 255, 0.2) !important;}
.u-imageSpectrum .u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 255, 255, 0.6) !important;}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: rgba(255, 255, 255, 0.2) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: rgba(255, 255, 255, 0.4) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}.u-resetSpectrum .u-tintBgColor {background-color: rgba(255, 255, 255, 1) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%) !important;}
.u-resetSpectrum .u-baseColor--borderLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderDark {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--iconLight .svgIcon,.u-resetSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconNormal .svgIcon,.u-resetSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconDark .svgIcon,.u-resetSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textNormal {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--backgroundLight {background-color: rgba(0, 0, 0, 0.09803921568627451) !important;}
.u-resetSpectrum .u-baseColor--backgroundNormal {background-color: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .u-baseColor--backgroundDark {background-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight .icon:before,.u-resetSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark {border-color: rgba(0, 0, 0, 0.6) !important; color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--buttonDark .icon:before,.u-resetSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important; color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal .icon:before,.u-resetSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(0, 0, 0, 0.4980392156862745) !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark.button--filled,.u-resetSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2980392156862745) !important; border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal.button--filled,.u-resetSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2) !important; border-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--link {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--darken:active {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--link.link--darker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(0, 0, 0, 0.4) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-accentColor--borderLight {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderNormal {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderDark {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconLight .svgIcon,.u-resetSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--iconNormal .svgIcon,.u-resetSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconDark .svgIcon,.u-resetSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textDark {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundLight {background-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundNormal {background-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundDark {background-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark {border-color: rgba(0, 171, 107, 1) !important; color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark .icon:before,.u-resetSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(28, 153, 99, 1) !important; fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal {border-color: rgba(2, 184, 117, 1) !important; color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(0, 171, 107, 1) !important; fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark.button--filled,.u-resetSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-resetSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(28, 153, 99, 1) !important; border-color: rgba(28, 153, 99, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled,.u-resetSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 171, 107, 1) !important; border-color: rgba(0, 171, 107, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .postArticle.is-withAccentColors .markup--user,.u-resetSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(0, 171, 107, 1) !important;}</style></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"28586-6143d83","currentUser":{"userId":"lo_7af474f12cdf","isVerified":false,"subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.AouowiblLn4SBKZF6cWDtA.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.4rYp3nph7xNXmlmak5XWxQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.R35emyz9xZL7YdHbIl-SvQ.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.XUyD-cfC9DG2nc9iq5x7GA.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.0oM8iNH9LgWeJY00O_ao2Q.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.caQfKUCZ18Wg2IbFBoaXiA.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1492371235485:f0fa3e037181","useragent":{"browser":"python requests","family":"","os":"","version":2.2,"supportsDesktopEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":false,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":false,"supportsScrollableMetabar":false},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"enable_onboarding":true,"ios_custom_miro_url":"https://cdn-images-1.medium.com","reengagement_notification_duration":3,"enable_adsnative_integration":true,"browsable_stream_config_bucket":"curated-topics","ios_small_post_preview_truncation_length":5.5,"ios_large_post_preview_truncation_length":5.5,"disable_ios_catalog_badging":true,"enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"should_receive_daily_push_notification":true,"enable_prepublish_share_settings":true,"enable_direct_auth_connect":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"promoted_story_placement_locations":"POST_PAGE_FOOTER","show_topics":true,"enable_search_collection_by_tag_recency_filter":true,"search_collection_by_tag_filter_min_votes":10,"enable_sms_app_promo":true,"enable_export_members":true,"enable_series_card_background_creation":true,"enable_loyal_writers_onboarding":true,"enable_onboarding_hybrid_users":true,"can_see_subscription_branding":true,"enable_subscriptions_landing_page":true,"enable_partner_program_landing_page":true,"enable_hide_broken_links":true,"enable_pay_for_custom_domain":true,"enable_promos_from_dynamo":true,"enable_promos_in_placement":true,"enable_series_promo_in_email":true,"enable_sms":true,"enable_series_in_user_profiles":true,"enable_new_logged_out_bento_operation":true,"enable_topic_brief_relations":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/icons/favicon.svg":"https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico","faviconImageId":"1*W0nmth_X8nFKjn6BZ388UQ.png","fontSets":[{"id":1,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-base.by5Oi_VbnwEIvhnWIsuUjA.css"},{"id":4,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-base.g08Jj5TZPAiuPWj5YNUsSg.css"},{"id":6,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-latin-base.141WxxXgxGxNcfeza73H7Q.css"},{"id":7,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-latin-base.jMU532QDmysQMOINr-cr2A.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"5c17ec71082967c4\",\"ot-tracer-traceid\":\"6de865c94aedb869\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","secret":"c14df7146e9052a1131f3c900c1f0644","token":"542599432471018|1JqjIwxSfY9jOt_KwjWEl1R7T6I","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]},"smartPublishWhitelistedPublications":["bcc38c8f6edf","f3726e2a5878","828a270689e","81c7d351c056","f30e42fd7ff8","8bf1d7d3081b","d16afa0ae7c","d8f3f6ad9c31","e74de0cedea9","15f753907972","c8c6a6b01ebd","3412b9729488","2ce4bbcf83bb","544c7006046e","7bfcdbc6b30a","a268fd916824","458a773bccd2"],"instantArticles":{"published":true,"developmentMode":false}},"mailingListArchiveUploadSizeMb":2,"availableMembershipPlans":[],"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com"}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"6b7b85233ddb","versionId":"7a9f8abb3fa2","creatorId":"85b35ca23fb2","creator":{"userId":"85b35ca23fb2","name":"Federico Zanetello","username":"zntfdr","createdAt":1451310775511,"lastPostCreatedAt":1491399139522,"imageId":"1*LsnhBMFqe8FcJc6NKV_aSg.jpeg","backgroundImageId":"","bio":"Swiftly Swift author, building apps @kimchi_media .","twitterScreenName":"zntfdr","socialStats":{"userId":"85b35ca23fb2","usersFollowedCount":45,"usersFollowedByCount":421,"type":"SocialStats"},"social":{"userId":"lo_ba3562b353b4","targetUserId":"85b35ca23fb2","type":"Social"},"facebookAccountId":"10207362444972162","allowNotes":1,"type":"User"},"homeCollection":{"id":"823cfe45c7b6","name":"Swiftly Swift","slug":"swiftly-swift","tags":["DEVELOPER","APPLE","CODING","IOS","SWIFT"],"creatorId":"85b35ca23fb2","description":"Write code swiftly","shortDescription":"Write code swiftly","image":{"imageId":"1*TJhiZlrtJthRv8Y8Pbb7nQ.png","filter":"","backgroundSize":"","originalWidth":1024,"originalHeight":1024,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":315,"postCount":0,"activeAt":1491309345136},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"1*MtH1n7v_F3pNsH4VimSI5Q.png","filter":"","backgroundSize":"","originalWidth":80,"originalHeight":72,"strategy":"resample","height":0,"width":0},"twitterUsername":"zntfdr","facebookPageName":"kimchi.media.apps","publicEmail":"hello@kimchi.media","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Swiftly Swift","backgroundImage":{},"logoImage":{},"alignment":2,"layout":4}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":5,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FFFF6600","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FFDC4D00","point":0},{"color":"#FFCC4A00","point":0.1},{"color":"#FFBB4600","point":0.2},{"color":"#FFAA4200","point":0.3},{"color":"#FF993D05","point":0.4},{"color":"#FF883809","point":0.5},{"color":"#FF76320B","point":0.6},{"color":"#FF642B0C","point":0.7},{"color":"#FF52240B","point":0.8},{"color":"#FF3F1B08","point":0.9},{"color":"#FF2B1205","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FFFF6600","point":0},{"color":"#FFFF7523","point":0.1},{"color":"#FFFF8339","point":0.2},{"color":"#FFFF924D","point":0.3},{"color":"#FFFFA061","point":0.4},{"color":"#FFFFAE74","point":0.5},{"color":"#FFFFBC88","point":0.6},{"color":"#FFFFC99C","point":0.7},{"color":"#FFFFD7B0","point":0.8},{"color":"#FFFFE4C4","point":0.9},{"color":"#FFFFF2D9","point":1}],"backgroundColor":"#FFFF6600"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFE3C5","point":0},{"color":"#FFFFDEBB","point":0.1},{"color":"#FFFFD9B2","point":0.2},{"color":"#FFFFD4A8","point":0.3},{"color":"#FFFFCF9F","point":0.4},{"color":"#FFFFCA95","point":0.5},{"color":"#FFFFC58C","point":0.6},{"color":"#FFFFC083","point":0.7},{"color":"#FFFFBB79","point":0.8},{"color":"#FFFFB670","point":0.9},{"color":"#FFFFB166","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Swiftly Swift","backgroundImage":{},"logoImage":{},"alignment":2,"layout":4},"type":"Collection"},"homeCollectionId":"823cfe45c7b6","title":"A Quick Look at Semaphores in Swift 🚦","detectedLanguage":"en","latestVersion":"7a9f8abb3fa2","latestPublishedVersion":"7a9f8abb3fa2","hasUnpublishedEdits":false,"latestRev":2294,"createdAt":1488031869666,"updatedAt":1489502024946,"acceptedAt":0,"firstPublishedAt":1489489024329,"latestPublishedAt":1489502024946,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"bodyModel":{"paragraphs":[{"name":"bc9e","type":3,"text":"A Quick Look at Semaphores in Swift 🚦","markups":[]},{"name":"938a","type":1,"text":"First of all, if you’re not familiar with the Grand Central Dispatch (GCD) and Dispatch Queues, please head over this awesome article from AppCoda.","markups":[{"type":3,"start":113,"end":133,"href":"http://www.appcoda.com/grand-central-dispatch/","title":"","rel":"","anchorType":0},{"type":3,"start":139,"end":146,"anchorType":2,"userId":"64c0d7fe60e1"}]},{"name":"b815","type":1,"text":"All right! Time to talk about Semaphores!","markups":[]},{"name":"532b","type":4,"text":"Traffic Light by spaztacular","markups":[{"type":3,"start":0,"end":13,"href":"https://www.flickr.com/photos/spaztacular/4551903328/","title":"","rel":"","anchorType":0},{"type":3,"start":17,"end":28,"href":"https://www.flickr.com/photos/spaztacular/","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*8ZCGzvA6DjfR9JoamqauoQ.jpeg","originalWidth":2048,"originalHeight":1366}},{"name":"1f3f","type":3,"text":"Introduction","markups":[]},{"name":"fafe","type":1,"text":"Let’s imagine a group of writers that must share a single pen. \nObviously only one writer can use the pen at any given time.","markups":[{"type":2,"start":25,"end":33},{"type":2,"start":58,"end":61},{"type":2,"start":83,"end":90},{"type":2,"start":102,"end":106}]},{"name":"0284","type":1,"text":"Now, imagine that those writers are our threads and that the pen is our shared resource (it can be anything: a file, a variable, the right to do something, etc).","markups":[{"type":2,"start":24,"end":32},{"type":2,"start":61,"end":65},{"type":2,"start":72,"end":88}]},{"name":"6eda","type":1,"text":"How do we make sure that our resource is really mutually exclusive?","markups":[{"type":3,"start":48,"end":66,"href":"https://en.wikipedia.org/wiki/Mutual_exclusion","title":"","rel":"noopener","anchorType":0},{"type":2,"start":29,"end":38}]},{"name":"49ee","type":4,"text":"Streetless traffic light by Sylvain Bourdos","markups":[{"type":3,"start":0,"end":24,"href":"https://www.flickr.com/photos/sylvainbourdos/2959002289/","title":"","rel":"","anchorType":0},{"type":3,"start":28,"end":43,"href":"https://www.flickr.com/photos/sylvainbourdos/","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*nfAYVSYFMB874-z4sfJ_YQ.jpeg","originalWidth":3008,"originalHeight":2000}},{"name":"669c","type":3,"text":"Implementing our own Resource Control Access","markups":[]},{"name":"aa68","type":1,"text":"Someone may think: well I can just use a resourceIsAvailable Bool and set it to true/false.","markups":[{"type":2,"start":41,"end":60},{"type":2,"start":61,"end":65},{"type":2,"start":80,"end":84},{"type":2,"start":85,"end":91}]},{"name":"4897","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"a3842629945209a954854d0d11ddffca"}},{"name":"2322","type":1,"text":"The problem is that, on concurrency, there’s no guarantee of knowing which thread, among all, is going to execute the next step, regardless of their priority.","markups":[{"type":1,"start":37,"end":157}]},{"name":"fa4e","type":13,"text":"Example","markups":[]},{"name":"81d7","type":1,"text":"Imagine that we’ve implemented the code above and that we have two threads, threadA and threadB, that would like to use a mutual exclusive resource:","markups":[{"type":2,"start":76,"end":83},{"type":2,"start":88,"end":95}]},{"name":"c80a","type":9,"text":"threadA reads the if-condition and see that the resource is available, great!","markups":[{"type":2,"start":0,"end":8}]},{"name":"7dc9","type":9,"text":"But, before the execution of the next line (resourceIsAvalilable = false), the processor turns to threadB and it also reads the if-condition.","markups":[{"type":2,"start":44,"end":72},{"type":2,"start":98,"end":106}]},{"name":"2d43","type":9,"text":"Now we have two threads that believe that the resource is available and both are going to execute the use-the-resource block.","markups":[{"type":2,"start":102,"end":119}]},{"name":"9735","type":1,"text":"Writing thread-safe code without GCD is not an easy task.","markups":[]},{"name":"f1ce","type":4,"text":"At the lights by petemc","markups":[{"type":3,"start":0,"end":13,"href":"http://petemc.deviantart.com/art/At-the-lights-54539913","title":"","rel":"","anchorType":0},{"type":3,"start":17,"end":23,"href":"http://petemc.deviantart.com/","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*p54pBislRafckGffcDqRdA.png","originalWidth":700,"originalHeight":468,"isFeatured":true}},{"name":"59bf","type":3,"text":"How Semaphores Work","markups":[]},{"name":"cc86","type":1,"text":"Three steps:","markups":[]},{"name":"0063","type":10,"text":"Whenever we would like to use one shared resource, we send a request to its semaphore;","markups":[{"type":1,"start":61,"end":68}]},{"name":"88c2","type":10,"text":"Once the semaphore gives us the green light (see what I did here?) we can assume that the resource is ours and we can use it;","markups":[]},{"name":"a8d4","type":10,"text":"Once the resource is no longer necessary, we let the semaphore know by sending him a signal, allowing him to assign the resource to another thread.","markups":[{"type":1,"start":85,"end":91},{"type":1,"start":92,"end":93}]},{"name":"b8b7","type":1,"text":"When this resource is only one and can be used only by one thread at any given time, you can think of these request/signal as the resource lock/unlock.","markups":[{"type":1,"start":58,"end":59},{"type":1,"start":108,"end":123},{"type":1,"start":139,"end":150}]},{"name":"18ef","type":4,"text":"Robots/Traffic Light by mallix","markups":[{"type":3,"start":0,"end":20,"href":"https://www.flickr.com/photos/mallix/2257103619/","title":"","rel":"","anchorType":0},{"type":3,"start":24,"end":30,"href":"https://www.flickr.com/photos/mallix/","title":"Go to mallix's photostream","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*-_owdkyNPRUQS5a5yjdEkA.jpeg","originalWidth":2000,"originalHeight":786}},{"name":"77cf","type":3,"text":"What’s Happening Behind the Scenes","markups":[]},{"name":"7522","type":13,"text":"The Structure","markups":[]},{"name":"2f31","type":1,"text":"The Semaphore is composed by:","markups":[]},{"name":"5d67","type":9,"text":"a counter that let the Semaphore know how many threads can use its resource(s);","markups":[{"type":2,"start":2,"end":10}]},{"name":"1a76","type":9,"text":"a FIFO queue for tracking the threads waiting for the resource;","markups":[{"type":2,"start":2,"end":12}]},{"name":"e499","type":13,"text":"Resource Request: wait()","markups":[]},{"name":"608d","type":1,"text":"When the semaphore receives a request, it checks if its counter is above zero:","markups":[{"type":2,"start":56,"end":64}]},{"name":"aa77","type":9,"text":"if yes, then the semaphore decrements it and gives the thread the green light;","markups":[]},{"name":"223f","type":9,"text":"otherwise it pushes the thread at the end of its queue;","markups":[]},{"name":"b537","type":13,"text":"Resource Release: signal()","markups":[]},{"name":"129c","type":1,"text":"Once the semaphore receives a signal, it checks if its FIFO queue has threads in it:","markups":[]},{"name":"b0ff","type":9,"text":"if yes, then the semaphore pulls the first thread and give him the green light;","markups":[]},{"name":"6dea","type":9,"text":"otherwise it increments its counter;","markups":[]},{"name":"944e","type":13,"text":"Warning: Busy Waiting","markups":[]},{"name":"9776","type":1,"text":"When a thread sends a wait() resource request to the semaphore, the thread freezes until the semaphore gives the thread the green light.","markups":[{"type":1,"start":75,"end":83},{"type":2,"start":22,"end":29}]},{"name":"b8e1","type":1,"text":"⚠️️ If you do this in the main thread, the whole app will freeze ⚠️️","markups":[{"type":1,"start":3,"end":4}]},{"name":"06af","type":4,"text":"STOP Traffic Lights & Sunset by eyecmore","markups":[{"type":3,"start":0,"end":28,"href":"https://www.flickr.com/photos/eyecmore/6805277055/","title":"","rel":"","anchorType":0},{"type":3,"start":32,"end":40,"href":"https://www.flickr.com/photos/eyecmore/","title":"Go to eyecmore's photostream","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*3GANzX3n1uEiuhXE49fcrg.jpeg","originalWidth":1600,"originalHeight":1200}},{"name":"84cc","type":3,"text":"Using Semaphores in Swift (with GCD)","markups":[]},{"name":"a7bc","type":1,"text":"Let’s write some code!","markups":[]},{"name":"1068","type":13,"text":"Declaration","markups":[]},{"name":"0bf5","type":1,"text":"Declaring a Semaphore is simple:","markups":[]},{"name":"e539","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"fb8c3fa662427abfe6caff9bd5187331"}},{"name":"8f65","type":1,"text":"The value parameter is the number of threads that can access to the resource as for the semaphore creation.","markups":[{"type":2,"start":4,"end":9}]},{"name":"f2cf","type":13,"text":"Resource Request","markups":[]},{"name":"f710","type":1,"text":"To request the semaphore’s resource(s), we just call:","markups":[{"type":1,"start":3,"end":11},{"type":2,"start":15,"end":24}]},{"name":"3949","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"510289283687b29ac91781849cc8cee9"}},{"name":"b76c","type":1,"text":"Note that the semaphore is not physically giving us anything, the resource has to be in the thread’s scope already, we just use the resource only between our request and release calls.","markups":[]},{"name":"b966","type":1,"text":"Once the semaphore gives us its blessing, the thread resumes its normal execution and can consider the resource his to use.","markups":[]},{"name":"9c78","type":13,"text":"Resource Release","markups":[]},{"name":"2a5b","type":1,"text":"To release the resource we write:","markups":[{"type":1,"start":3,"end":10}]},{"name":"cd68","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"b78023bfdfb2f978310267280e7a4664"}},{"name":"34be","type":1,"text":"After sending this signal we aren’t allowed to touch the resource anymore, until we request for it again.","markups":[]},{"name":"5898","type":3,"text":"Semaphore Playgrounds","markups":[]},{"name":"4cc8","type":1,"text":"Following AppCoda article examples, let’s see this Semaphore in action!","markups":[{"type":3,"start":10,"end":17,"anchorType":2,"userId":"64c0d7fe60e1"},{"type":3,"start":18,"end":25,"href":"http://www.appcoda.com/grand-central-dispatch/","title":"","rel":"noopener","anchorType":0}]},{"name":"27cd","type":6,"text":"Warning: these are Xcode Playgrounds, as Swift Playgrounds don’t support Logging just yet. Fingers crossed for WWDC17!","markups":[]},{"name":"dee6","type":1,"text":"In these playgrounds we have two threads, one with slightly higher priority than the other, that print 10 times an emoji and incremental numbers.","markups":[]},{"name":"2f36","type":13,"text":"Semaphore-less Playground","markups":[]},{"name":"c539","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"3145d534242e57aa382586eea10d208e"}},{"name":"9691","type":1,"text":"As you can Imagine, the higher priority thread finishes first most of the times:","markups":[]},{"name":"79a0","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*OjtJO8-44tStXpRS8y1N-A.png","originalWidth":712,"originalHeight":581}},{"name":"9073","type":13,"text":"Semaphore Playground","markups":[]},{"name":"3e86","type":1,"text":"In this case we will use the same code as before, but we will give the right to print the emoji+number sequence only to one thread at a time.","markups":[{"type":2,"start":90,"end":102}]},{"name":"cb86","type":1,"text":"In order to do so we will define one semaphore and update our asyncPrint function:","markups":[{"type":2,"start":62,"end":73}]},{"name":"7e2a","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"daea50aba7d459ba53679dbc2d7f76b9"}},{"name":"cb05","type":1,"text":"I’ve also added a couple more print commands to see the actual state of each thread during our execution.","markups":[{"type":2,"start":30,"end":35}]},{"name":"fe59","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*g7SMrR7svWNetOqjSGIEYA.png","originalWidth":712,"originalHeight":657}},{"name":"6025","type":1,"text":"As you can see, when one thread starts printing the sequence, the other thread must wait until the first one ends, then the semaphore will receive the signal from the first thread and then, only then, the second thread can start printing its own sequence.","markups":[{"type":2,"start":151,"end":158},{"type":2,"start":190,"end":199}]},{"name":"dd77","type":1,"text":"It doesn’t matter at which point of the sequence the second thread will send the wait() request, it will always have to wait until the other thread is done.","markups":[{"type":2,"start":81,"end":88}]},{"name":"ecf5","type":1,"text":"Priority Inversion\nNow that we understand how everything works, please take a look at the following log:","markups":[{"type":1,"start":0,"end":19}]},{"name":"1d07","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*eCFBl9XpF6JYX1b8xwD26w.png","originalWidth":712,"originalHeight":652}},{"name":"80b9","type":1,"text":"In this case, with the exact code above, the processor has decided to execute the low priority thread first.","markups":[]},{"name":"73d3","type":1,"text":"When this happens, the high priority thread must wait the low priority thread to finish! This is ok, it can happen. \nThe problem is that the low priority thread has low priority even when one high priority thread is waiting for him: this is called Priority Inversion.","markups":[{"type":3,"start":248,"end":266,"href":"https://en.wikipedia.org/wiki/Priority_inversion","title":"","rel":"","anchorType":0},{"type":1,"start":248,"end":266},{"type":2,"start":248,"end":266}]},{"name":"0ddd","type":1,"text":"In other programming concepts different than the Semaphore, when this happens the low priority thread will temporarily inherit the priority of the highest priority thread that is waiting on him: this is called Priority Inheritance.","markups":[{"type":3,"start":210,"end":230,"href":"https://en.wikipedia.org/wiki/Priority_inheritance","title":"","rel":"","anchorType":0},{"type":1,"start":210,"end":230},{"type":2,"start":119,"end":127},{"type":2,"start":210,"end":230}]},{"name":"05af","type":1,"text":"With Semaphores this is not the case because, actually, anybody can call the signal() function (not only the thread that is currently using the resource).","markups":[{"type":2,"start":77,"end":85}]},{"name":"f962","type":1,"text":"Thread Starvation\nTo make things even worse, let’s imagine that between our high & low priority threads there are 1000 more middle-priority threads.","markups":[{"type":1,"start":0,"end":18}]},{"name":"254c","type":1,"text":"If we have a case of Priority Inversion like above, the high priority thread must wait for the low priority thread, but, most of the time, the processor will execute the middle priority threads, as they have higher priority than our low priority one.","markups":[{"type":2,"start":21,"end":39}]},{"name":"053e","type":1,"text":"In this scenario our high priority thread is being starved of CPU time (hence the concept of Starvation).","markups":[{"type":3,"start":93,"end":103,"href":"https://en.wikipedia.org/wiki/Starvation_(computer_science)","title":"","rel":"","anchorType":0}]},{"name":"f665","type":13,"text":"Solutions","markups":[]},{"name":"817e","type":1,"text":"In my opinion, it’s better to use Semaphores only among threads of the same priority. If this is not your case, I suggest you to look at other solutions such as Regions and Monitors.","markups":[{"type":3,"start":161,"end":168,"href":"https://en.wikipedia.org/wiki/Critical_section","title":"","rel":"noopener","anchorType":0},{"type":3,"start":173,"end":181,"href":"https://en.wikipedia.org/wiki/Monitor_(synchronization)","title":"","rel":"noopener","anchorType":0}]},{"name":"05b5","type":3,"text":"Deadlock Playground","markups":[]},{"name":"36e3","type":1,"text":"This time we have two threads that use two mutual exclusive resources “A” and “B”.","markups":[{"type":2,"start":71,"end":72},{"type":2,"start":79,"end":80}]},{"name":"077f","type":1,"text":"If the two resources can be used separately, it makes sense to define one semaphore for each resource. If not, one semaphore can manage both.","markups":[]},{"name":"1a0e","type":1,"text":"I want to make an example with the former case (2 resources, 2 semaphores) with a twist: the high priority thread will use first resource “A” and then “B”, while our low priority one will use first resource “B” and then “A”.","markups":[]},{"name":"e168","type":1,"text":"Here’s the code:","markups":[]},{"name":"a488","type":11,"text":"","markups":[],"layout":1,"iframe":{"mediaResourceId":"85886fc29e52eba2bfe37d10847cd966","thumbnailUrl":"https://i.embed.ly/1/image?url=https%3A%2F%2Favatars0.githubusercontent.com%2Fu%2F5277837%3Fv%3D3%26s%3D400&key=4fce0568f2ce49e8b54624ef71a8a5bd"}},{"name":"8049","type":1,"text":"If we’re lucky, this is what happens:","markups":[]},{"name":"3b8e","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*_ASgiqbV_o9caE7M7hNBpQ.png","originalWidth":712,"originalHeight":690}},{"name":"2eba","type":1,"text":"Simply, the high priority thread will be served with the first resource, then the second and only later the the processor will move to the low priority thread.","markups":[]},{"name":"dc3e","type":1,"text":"However, if we’re unlucky, this can also happen:","markups":[]},{"name":"da02","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"1*cVvGM-1NRH7kouSRu2mSRQ.png","originalWidth":712,"originalHeight":486}},{"name":"2eef","type":1,"text":"Both threads didn’t finish their execution! Let’s review the current state:","markups":[]},{"name":"a740","type":9,"text":"The high priority thread is waiting for the resource “B”, which is held by the low priority thread;","markups":[]},{"name":"8d0a","type":9,"text":"The low priority thread is waiting for the resource “A”, which is held by the high priority thread;","markups":[]},{"name":"a6b6","type":1,"text":"Both threads are waiting on each other with no possibility to move forward: welcome to a Thread Deadlock!","markups":[{"type":3,"start":89,"end":104,"href":"https://en.wikipedia.org/wiki/Deadlock","title":"","rel":"","anchorType":0},{"type":2,"start":89,"end":104}]},{"name":"7b9d","type":13,"text":"Solutions","markups":[]},{"name":"c924","type":1,"text":"Avoiding deadlocks is not simple. The best solution would be preventing them by writing code that can’t possibly reach this state.","markups":[{"type":3,"start":9,"end":18,"href":"https://en.wikipedia.org/wiki/Deadlock","title":"","rel":"","anchorType":0},{"type":3,"start":98,"end":129,"href":"https://en.wikipedia.org/wiki/Deadlock_prevention_algorithms","title":"","rel":"","anchorType":0}]},{"name":"d7ba","type":1,"text":"In other OSs, for example, one of the deadlock threads could be killed (in order to release all its resources) with the hope that other threads can continue their execution.","markups":[]},{"name":"6b51","type":1,"text":"…Or you can just use the Ostrich_Algorithm 😆.","markups":[{"type":3,"start":25,"end":42,"href":"https://en.wikipedia.org/wiki/Ostrich_algorithm","title":"","rel":"nofollow","anchorType":0}]},{"name":"ef3c","type":4,"text":"Let Me Keep My Memories by Thomas Hawk","markups":[{"type":3,"start":0,"end":23,"href":"https://www.flickr.com/photos/thomashawk/8006214559/","title":"","rel":"","anchorType":0},{"type":3,"start":27,"end":38,"href":"https://www.flickr.com/photos/thomashawk/","title":"Go to Thomas Hawk's photostream","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*Nmcb2GTIk-PO0TNPNPD8Mw.jpeg","originalWidth":5616,"originalHeight":3744}},{"name":"97c6","type":3,"text":"Conclusions","markups":[]},{"name":"995e","type":1,"text":"Semaphores are a little nice concept that can be very handy in many applications. Just, be careful: look both ways before crossing.","markups":[]},{"name":"d66f","type":1,"text":"Federico is a Bangkok-based Software Engineer with a strong passion for Swift, Minimalism, Design, and iOS Development.","markups":[{"type":3,"start":0,"end":8,"href":"https://twitter.com/zntfdr","title":"","rel":"noopener","anchorType":0},{"type":2,"start":0,"end":119}]},{"name":"f85a","type":4,"text":"","markups":[],"layout":6,"metadata":{"id":"1*zfVwf8tkAGen9lk0CUWfHQ.jpeg","originalWidth":370,"originalHeight":504},"href":"https://twitter.com/zntfdr"},{"name":"baac","type":4,"text":"","markups":[],"layout":7,"metadata":{"id":"1*fPsdEtYNVIv_-2hHPnARFg.jpeg","originalWidth":370,"originalHeight":504},"href":"https://medium.com/swiftly-swift/"},{"name":"3673","type":4,"text":"","markups":[],"layout":7,"metadata":{"id":"1*DfiydUpl-d9OV8Mu_fAPxA.jpeg","originalWidth":370,"originalHeight":504},"href":"https://itunes.apple.com/us/developer/kimchi-media/id1053443073"}],"sections":[{"name":"bda4","startIndex":0},{"name":"05fe","startIndex":108}]},"postDisplay":{"coverless":true},"metaDescription":"Introduction to the concept of  Semaphores"},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"1*p54pBislRafckGffcDqRdA.png","filter":"","backgroundSize":"","originalWidth":700,"originalHeight":468,"strategy":"resample","height":0,"width":0},"wordCount":1403,"imageCount":14,"readingTime":6.74433962264151,"subtitle":"","publishedInCount":1,"usersBySocialRecommends":[],"recommends":143,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"swift","name":"Swift","postCount":5492,"virtuals":{"isFollowing":false},"metadata":{"followerCount":5742,"postCount":5492,"coverImage":{"id":"1*s5iS6kOFoNEtX5UDXPr3QA.png","originalWidth":1156,"originalHeight":596}},"type":"Tag"},{"slug":"programming","name":"Programming","postCount":31605,"virtuals":{"isFollowing":false},"metadata":{"followerCount":38669,"postCount":31605,"coverImage":{"id":"1*mR7_k1mHMlsfc01qz-ZPiQ.png","originalWidth":8844,"originalHeight":4235}},"type":"Tag"},{"slug":"computer-science","name":"Computer Science","postCount":2607,"virtuals":{"isFollowing":false},"metadata":{"followerCount":2958,"postCount":2607,"coverImage":{"id":"1*wovALlgKrKVg0IGyvHBI4w.png","originalWidth":1200,"originalHeight":600}},"type":"Tag"},{"slug":"ios-app-development","name":"iOS App Development","postCount":2789,"virtuals":{"isFollowing":false},"metadata":{"followerCount":4225,"postCount":2789,"coverImage":{"id":"1*uex834n-V3T6PlQzlEwRzA.png","originalWidth":1000,"originalHeight":600}},"type":"Tag"},{"slug":"xcode","name":"Xcode","postCount":1176,"virtuals":{"isFollowing":false},"metadata":{"followerCount":1400,"postCount":1176,"coverImage":{"id":"1*SrxyYIP2z6PBtT1tefbCJQ.png","originalWidth":1600,"originalHeight":1548}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":6,"links":{"entries":[{"url":"https://www.flickr.com/photos/spaztacular/4551903328/","alts":[{"type":2,"url":"flickr://flickr.com/photos/spaztacular/4551903328"}]},{"url":"https://www.flickr.com/photos/sylvainbourdos/2959002289/","alts":[{"type":2,"url":"flickr://flickr.com/photos/sylvainbourdos/2959002289"}]},{"url":"https://medium.com/swiftly-swift/","alts":[{"type":2,"url":"medium://swiftly-swift"},{"type":3,"url":"medium://swiftly-swift"}]},{"url":"https://www.flickr.com/photos/eyecmore/6805277055/","alts":[{"type":2,"url":"flickr://flickr.com/photos/eyecmore/6805277055"}]},{"url":"https://www.flickr.com/photos/mallix/2257103619/","alts":[{"type":2,"url":"flickr://flickr.com/photos/mallix/2257103619"}]},{"url":"https://www.flickr.com/photos/spaztacular/","alts":[{"type":2,"url":"flickr://flickr.com/photos/spaztacular/"}]},{"url":"https://www.flickr.com/photos/thomashawk/","alts":[{"type":2,"url":"flickr://flickr.com/photos/thomashawk/"}]},{"url":"https://www.flickr.com/photos/eyecmore/","alts":[{"type":2,"url":"flickr://flickr.com/photos/eyecmore/"}]},{"url":"https://www.flickr.com/photos/sylvainbourdos/","alts":[{"type":2,"url":"flickr://flickr.com/photos/sylvainbourdos/"}]},{"url":"https://www.flickr.com/photos/thomashawk/8006214559/","alts":[{"type":2,"url":"flickr://flickr.com/photos/thomashawk/8006214559"}]}],"version":"0.3","generatedAt":1489502035615},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"Introduction to the concept of  Semaphores","totalClapCount":0},"coverless":true,"slug":"a-quick-look-at-semaphores","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":false,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"a-quick-look-at-semaphores-6b7b85233ddb","previewContent":{"bodyModel":{"paragraphs":[{"name":"previewImage","type":4,"text":"","layout":10,"metadata":{"id":"1*p54pBislRafckGffcDqRdA.png","originalWidth":700,"originalHeight":468,"isFeatured":true}},{"name":"bc9e","type":3,"text":"A Quick Look at Semaphores in Swift 🚦","markups":[],"alignment":1},{"name":"938a","type":1,"text":"First of all, if you’re not familiar with the Grand Central Dispatch (GCD) and Dispatch…","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb","approvedHomeCollectionId":"823cfe45c7b6","approvedHomeCollection":{"id":"823cfe45c7b6","name":"Swiftly Swift","slug":"swiftly-swift","tags":["DEVELOPER","APPLE","CODING","IOS","SWIFT"],"creatorId":"85b35ca23fb2","description":"Write code swiftly","shortDescription":"Write code swiftly","image":{"imageId":"1*TJhiZlrtJthRv8Y8Pbb7nQ.png","filter":"","backgroundSize":"","originalWidth":1024,"originalHeight":1024,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":315,"postCount":0,"activeAt":1491309345136},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"1*MtH1n7v_F3pNsH4VimSI5Q.png","filter":"","backgroundSize":"","originalWidth":80,"originalHeight":72,"strategy":"resample","height":0,"width":0},"twitterUsername":"zntfdr","facebookPageName":"kimchi.media.apps","publicEmail":"hello@kimchi.media","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Swiftly Swift","backgroundImage":{},"logoImage":{},"alignment":2,"layout":4}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":5,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FFFF6600","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FFDC4D00","point":0},{"color":"#FFCC4A00","point":0.1},{"color":"#FFBB4600","point":0.2},{"color":"#FFAA4200","point":0.3},{"color":"#FF993D05","point":0.4},{"color":"#FF883809","point":0.5},{"color":"#FF76320B","point":0.6},{"color":"#FF642B0C","point":0.7},{"color":"#FF52240B","point":0.8},{"color":"#FF3F1B08","point":0.9},{"color":"#FF2B1205","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FFFF6600","point":0},{"color":"#FFFF7523","point":0.1},{"color":"#FFFF8339","point":0.2},{"color":"#FFFF924D","point":0.3},{"color":"#FFFFA061","point":0.4},{"color":"#FFFFAE74","point":0.5},{"color":"#FFFFBC88","point":0.6},{"color":"#FFFFC99C","point":0.7},{"color":"#FFFFD7B0","point":0.8},{"color":"#FFFFE4C4","point":0.9},{"color":"#FFFFF2D9","point":1}],"backgroundColor":"#FFFF6600"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFE3C5","point":0},{"color":"#FFFFDEBB","point":0.1},{"color":"#FFFFD9B2","point":0.2},{"color":"#FFFFD4A8","point":0.3},{"color":"#FFFFCF9F","point":0.4},{"color":"#FFFFCA95","point":0.5},{"color":"#FFFFC58C","point":0.6},{"color":"#FFFFC083","point":0.7},{"color":"#FFFFBB79","point":0.8},{"color":"#FFFFB670","point":0.9},{"color":"#FFFFB166","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Swiftly Swift","backgroundImage":{},"logoImage":{},"alignment":2,"layout":4},"type":"Collection"},"newsletterId":"","webCanonicalUrl":"https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb","mediumUrl":"https://medium.com/swiftly-swift/a-quick-look-at-semaphores-6b7b85233ddb","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"type":"Post"},"mentionedUsers":[{"userId":"64c0d7fe60e1","name":"AppCoda","username":"appcodamobile","createdAt":1391098051456,"lastPostCreatedAt":0,"imageId":"0*bvLpyDQHML5Hx7mj.png","backgroundImageId":"","bio":"iPhone, iPad, iOS Programming Community. Join us and build your first app!","twitterScreenName":"AppCodaMobile","facebookAccountId":"","allowNotes":1,"mediumMemberAt":0,"mediumMemberWaitlistedAt":0,"type":"User"}],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"85b35ca23fb2":{"userId":"85b35ca23fb2","name":"Federico Zanetello","username":"zntfdr","createdAt":1451310775511,"lastPostCreatedAt":1491399139522,"imageId":"1*LsnhBMFqe8FcJc6NKV_aSg.jpeg","backgroundImageId":"","bio":"Swiftly Swift author, building apps @kimchi_media .","twitterScreenName":"zntfdr","socialStats":{"userId":"85b35ca23fb2","usersFollowedCount":45,"usersFollowedByCount":421,"type":"SocialStats"},"social":{"userId":"lo_ba3562b353b4","targetUserId":"85b35ca23fb2","type":"Social"},"facebookAccountId":"10207362444972162","allowNotes":1,"type":"User"}},"Collection":{"823cfe45c7b6":{"id":"823cfe45c7b6","name":"Swiftly Swift","slug":"swiftly-swift","tags":["DEVELOPER","APPLE","CODING","IOS","SWIFT"],"creatorId":"85b35ca23fb2","description":"Write code swiftly","shortDescription":"Write code swiftly","image":{"imageId":"1*TJhiZlrtJthRv8Y8Pbb7nQ.png","filter":"","backgroundSize":"","originalWidth":1024,"originalHeight":1024,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":315,"postCount":0,"activeAt":1491309345136},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"1*MtH1n7v_F3pNsH4VimSI5Q.png","filter":"","backgroundSize":"","originalWidth":80,"originalHeight":72,"strategy":"resample","height":0,"width":0},"twitterUsername":"zntfdr","facebookPageName":"kimchi.media.apps","publicEmail":"hello@kimchi.media","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Swiftly Swift","backgroundImage":{},"logoImage":{},"alignment":2,"layout":4}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":5,"postIds":[]}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[],"sectionHeader":"Latest"}}],"tintColor":"#FFFF6600","lightText":true,"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FFDC4D00","point":0},{"color":"#FFCC4A00","point":0.1},{"color":"#FFBB4600","point":0.2},{"color":"#FFAA4200","point":0.3},{"color":"#FF993D05","point":0.4},{"color":"#FF883809","point":0.5},{"color":"#FF76320B","point":0.6},{"color":"#FF642B0C","point":0.7},{"color":"#FF52240B","point":0.8},{"color":"#FF3F1B08","point":0.9},{"color":"#FF2B1205","point":1}],"backgroundColor":"#FFFFFFFF"},"tintBackgroundSpectrum":{"colorPoints":[{"color":"#FFFF6600","point":0},{"color":"#FFFF7523","point":0.1},{"color":"#FFFF8339","point":0.2},{"color":"#FFFF924D","point":0.3},{"color":"#FFFFA061","point":0.4},{"color":"#FFFFAE74","point":0.5},{"color":"#FFFFBC88","point":0.6},{"color":"#FFFFC99C","point":0.7},{"color":"#FFFFD7B0","point":0.8},{"color":"#FFFFE4C4","point":0.9},{"color":"#FFFFF2D9","point":1}],"backgroundColor":"#FFFF6600"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFE3C5","point":0},{"color":"#FFFFDEBB","point":0.1},{"color":"#FFFFD9B2","point":0.2},{"color":"#FFFFD4A8","point":0.3},{"color":"#FFFFCF9F","point":0.4},{"color":"#FFFFCA95","point":0.5},{"color":"#FFFFC58C","point":0.6},{"color":"#FFFFC083","point":0.7},{"color":"#FFFFBB79","point":0.8},{"color":"#FFFFB670","point":0.9},{"color":"#FFFFB166","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":2,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Swiftly Swift","backgroundImage":{},"logoImage":{},"alignment":2,"layout":4},"type":"Collection"}},"Social":{"85b35ca23fb2":{"userId":"lo_ba3562b353b4","targetUserId":"85b35ca23fb2","type":"Social"}},"SocialStats":{"85b35ca23fb2":{"userId":"85b35ca23fb2","usersFollowedCount":45,"usersFollowedByCount":421,"type":"SocialStats"}}}})
// ]]></script></body></html>