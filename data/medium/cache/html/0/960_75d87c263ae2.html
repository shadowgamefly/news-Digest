<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Tests and physical state: an analogy – Diogo Lucas – Medium</title><link rel="canonical" href="https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2"><meta name="title" content="Tests and physical state: an analogy – Diogo Lucas – Medium"><meta name="referrer" content="unsafe-url"><meta name="description" content="Having tests that break all the time (vapor) is bad, but having tests that never break (solid) is usually wasteful. Tests should be fluid enough (liquid) to break on occasion, as a result of system…"><meta property="og:title" content="Tests and physical state: an analogy – Diogo Lucas – Medium"><meta property="og:url" content="https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*GLD9zYGGptxhnReHJbMIRg.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="DISCLAIMER: this is an ultra geeky, trippy post. Well, trippier…"><meta name="twitter:description" content="DISCLAIMER: this is an ultra geeky, trippy post. Well, trippier…"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*GLD9zYGGptxhnReHJbMIRg.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@diogo.lucas"><meta property="author" content="Diogo Lucas"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@diogo.lucas"><meta property="fb:smart_publish:robots" content="noauto"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2016-10-31T12:01:02.140Z"><meta name="twitter:creator" content="@diogoclucas"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="6 min read"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":1820,"height":1024,"url":"https://cdn-images-1.medium.com/max/1820/1*GLD9zYGGptxhnReHJbMIRg.png"},"datePublished":"2016-10-31T12:01:02.140Z","dateModified":"2016-10-31T12:01:02.140Z","headline":"Tests and physical state: an analogy","name":"Tests and physical state: an analogy","keywords":["Software Development","Testing","Chaos Theory","Tdd","Agile"],"author":{"@type":"Person","name":"Diogo Lucas","url":"https://medium.com/@diogo.lucas"},"creator":["Diogo Lucas"],"mainEntityOfPage":"https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2"}</script><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/75d87c263ae2"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/75d87c263ae2"><meta property="al:android:url" content="medium://p/75d87c263ae2"><meta property="al:web:url" content="https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/75d87c263ae2" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.g2e09PlZK_j3Lw2AgNmbfQ.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]);_asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-sizeViewHeight100 {height: " + height + "px !important;}.u-sizeViewHeight110 {height: " + Math.round(1.1 * height) + "px !important;}.u-sizeViewHeightMin100 {min-height: " + height + "px !important;}.u-sizeViewHeightMax100 {max-height: " + height + "px !important;}section.section-image--coverFade {height: " + height + "px;}.section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg" color="#171717"></head><body itemscope class=" postShowScreen is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar"><div class="metabar-inner u-marginAuto u-maxWidth1000 u-paddingLeft20 u-paddingRight20 js-metabarMiddle"><div class="metabar-block metabar-block--left u-floatLeft u-height65 u-xs-height56"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><span class="svgIcon svgIcon--logoNew svgIcon--45px is-flushLeft"><svg class="svgIcon-use" width="45" height="45"  viewBox="-17 18 45 45" data-multipart="true"><path d="M11.525 28.078c-.472-.225-.858.002-.858.506v20.044l8.616 4.113c.948.46 1.717.14 1.717-.7v-19.3a.22.22 0 0 0-.124-.19l-9.35-4.46v-.01z"/><path d="M.333 43.696l9.83-15.247c.278-.43.89-.6 1.36-.38l9.364 4.47c.06.03.082.1.047.15L10.666 48.63.333 43.698v-.002z"/><path d="M-8.57 28.35c-.786-.375-1.053-.096-.592.62L.333 43.696l10.333 4.932L.356 32.635a.156.156 0 0 0-.06-.054l-8.866-4.23z"/><path d="M.333 52.033c0 .84-.643 1.22-1.43.844l-8.045-3.84c-.472-.224-.858-.82-.858-1.325V28.89c0-.672.515-.976 1.145-.675l9.133 4.36a.092.092 0 0 1 .055.084v19.37z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="metabar-block u-floatRight u-xs-absolute u-xs-textAlignRight u-xs-right0 u-xs-marginRight20 u-height65 u-xs-height56"><div class="buttonSet"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-lineHeight30 u-height32"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40diogo.lucas%2Ftests-and-physical-state-an-analogy-75d87c263ae2" data-action="sign-in-prompt" data-redirect="https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2" data-action-source="nav_signup">Sign in / Sign up</a></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-sizeViewHeightMin100 u-overflowHidden postArticle postArticle--full u-marginBottom40"  lang="en"><header class="container u-maxWidth740"><div class="postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="postMetaLockup postMetaLockup--authorWithBio u-flex js-postMetaLockup"><div class="u-flex0"><a class="link avatar u-baseColor--link"  href="https://medium.com/@diogo.lucas?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="244ae5f499e4" data-action-type="hover" data-user-id="244ae5f499e4" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/40/40/0*n--V7Znp2pXv97fz." class="avatar-image avatar-image--smaller" alt="Go to the profile of Diogo Lucas"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><a class="link link link--darken link--darker u-baseColor--link"  href="https://medium.com/@diogo.lucas?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="244ae5f499e4" data-action-type="hover" data-user-id="244ae5f499e4" dir="auto">Diogo Lucas</a><span class="followState js-followState buttonSet-inner" data-user-id="244ae5f499e4"><button class="button u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/244ae5f499e4" data-action-source="post_header_lockup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span><div class="postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2016-10-31T12:01:02.140Z">Oct 31, 2016</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="6 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="75d87c263ae2" data-source="post_page" data-tracking-context="postPage"><section name="763b" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="d743" id="d743" class="graf graf--h3 graf--leading graf--title">Tests and physical state: an analogy</h1><p name="e73d" id="e73d" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">DISCLAIMER:</strong> this is an ultra geeky, trippy post. Well, trippier…</p><h4 name="a958" id="a958" class="graf graf--h4 graf-after--p">TL;DR</h4><p name="2796" id="2796" class="graf graf--p graf-after--h4 graf--trailing">Having tests that break all the time (vapor) is bad, but having tests that never break (solid) is usually wasteful. Tests should be fluid enough (liquid) to break on occasion, as a result of system evolution.</p></div></div></section><section name="576d" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h4 name="9ef3" id="9ef3" class="graf graf--h4 graf--leading">Dynamical systems and Chaos Theory</h4><p name="4972" id="4972" class="graf graf--p graf-after--h4">Mathematics, this distant cousin (or antecedent, take your pick) of IT, is a frequent provider of insights into ways to model software solutions. And sometimes, it can offer quite compelling analogies.</p><p name="926b" id="926b" class="graf graf--p graf-after--p">A particularly interesting area in that space is called <a href="https://en.wikipedia.org/wiki/Dynamical_systems_theory" data-href="https://en.wikipedia.org/wiki/Dynamical_systems_theory" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Dynamical Systems</a> and has been the plaything for founders of our field, such as <a href="https://en.wikipedia.org/wiki/John_von_Neumann" data-href="https://en.wikipedia.org/wiki/John_von_Neumann" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">von Neumann</a> (if you don’t know him, check him out — dude was impressive). Oh, and it spawned the whole trendy line of study named <a href="https://en.wikipedia.org/wiki/Chaos_theory" data-href="https://en.wikipedia.org/wiki/Chaos_theory" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Chaos Theory</a>. Yeah, that talk about butterflies and stuff.</p><figure name="0dc7" id="0dc7" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 394px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.3%;"></div><img class="graf-image" data-image-id="1*GLD9zYGGptxhnReHJbMIRg.png" data-width="1820" data-height="1024" data-action="zoom" data-action-value="1*GLD9zYGGptxhnReHJbMIRg.png" src="https://cdn-images-1.medium.com/max/800/1*GLD9zYGGptxhnReHJbMIRg.png"></div><figcaption class="imageCaption">The famous <a href="https://en.wikipedia.org/wiki/Lorenz_system" data-href="https://en.wikipedia.org/wiki/Lorenz_system" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Lorenz attractor</a>. Squint your eyes really hard and you may see a butterfly. Or have cornea issues.</figcaption></figure><p name="8b68" id="8b68" class="graf graf--p graf-after--figure">At the core of it (and pardon my oversimplification of the mathematics), is the idea that if you represent a system’s state as <em class="markup--em markup--p-em">M</em> and define a function <em class="markup--em markup--p-em">f(M) → M’</em>, that you can iterate over time. In other words, given a discrete state, there is a function that, applied to it, outputs the next step in system evolution.</p><p name="a501" id="a501" class="graf graf--p graf-after--p">Many interesting implementations exist out there. <a href="https://en.wikipedia.org/wiki/Edward_Norton_Lorenz" data-href="https://en.wikipedia.org/wiki/Edward_Norton_Lorenz" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Edward Lorenz</a>, for example, created a virtual, simplified simulation of atmospheric events. And discovered that small precision errors could lead the system to a completely different state within a few interactions. The mind blowing conclusion is that a small error in measurement in a chaotic system can lead to a completely inability to predict behavior over a medium/large time window. This is something that leads many to claim precise weather forecast over more than a few days is a no-go.</p><p name="f717" id="f717" class="graf graf--p graf-after--p">Another interesting case is <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" data-href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">John Conway’s Game of Life,</a> where a matrix of dots can be either dead (0) or alive (1) and may change their state based on neighboring cell statuses. The animation below shows a bit of that system into action.</p><figure name="f5d0" id="f5d0" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 379px; max-height: 192px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.7%;"></div><img class="graf-image" data-image-id="0*znxI3CEdIQLe3NNU.gif" data-width="379" data-height="192" src="https://cdn-images-1.medium.com/max/800/0*znxI3CEdIQLe3NNU.gif"></div><figcaption class="imageCaption">Gliders guns, gliders and all sorts of crazy patterns in this animation — fun stuff!</figcaption></figure><h4 name="50bf" id="50bf" class="graf graf--h4 graf-after--figure">Dynamical systems and physical state</h4><p name="68b8" id="68b8" class="graf graf--p graf-after--h4">As dynamical systems go, folks came up with an interesting analogy in the physical state of matter:</p><ul class="postList"><li name="32ef" id="32ef" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">solid: </strong>the system evolves quite quickly to a static state and freezes there. In a Game Of life example, this would mean all cells quickly lock into a dead or status.</li></ul><figure name="cff0" id="cff0" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 256px; max-height: 256px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="0*_a3xORgqgNNe3lVQ.gif" data-width="256" data-height="256" src="https://cdn-images-1.medium.com/max/800/0*_a3xORgqgNNe3lVQ.gif"></div><figcaption class="imageCaption">A game of life matrix reaching a stable equilibrium.</figcaption></figure><ul class="postList"><li name="0b82" id="0b82" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">liquid:</strong> in this state, the system will eventually reach equilibrium, but it will a) take a while and b) will be cyclic. These cases represent interesting behavior, as complex patterns emerge from the interaction of simple components.</li></ul><figure name="e0bb" id="e0bb" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 256px; max-height: 256px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="0*boI775WRtQujxqjq.gif" data-width="256" data-height="256" src="https://cdn-images-1.medium.com/max/800/0*boI775WRtQujxqjq.gif"></div><figcaption class="imageCaption">A game of life matrix in the way of reaching cyclic equilibrium. Much to my frustration, animation stops before the cycle is clear.</figcaption></figure><ul class="postList"><li name="e980" id="e980" class="graf graf--li graf-after--figure"><strong class="markup--strong markup--li-strong">vapor:</strong> in this state small oscillations generate unpredictable behavior within a few steps. Bounded systems will still eventually reach some kind of equilibrium (as the state space is finite), but it will be such a long loop it will be almost indistinguishable from no stabilization at all.</li></ul><figure name="8044" id="8044" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 256px; max-height: 256px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="0*0aBQUwSvTDXU1-hu.gif" data-width="256" data-height="256" src="https://cdn-images-1.medium.com/max/800/0*0aBQUwSvTDXU1-hu.gif"></div><figcaption class="imageCaption">Not much to see here, right?</figcaption></figure><h4 name="ceb8" id="ceb8" class="graf graf--h4 graf-after--figure">Tests and physical state</h4><p name="6c55" id="6c55" class="graf graf--p graf-after--h4">So yeah, this is where we come back to talk about software development. The very same analogy can be made when talking about automated tests. And similar conclusions can be reached…</p><h4 name="eed7" id="eed7" class="graf graf--h4 graf-after--p">Vapor tests</h4><p name="fc7b" id="fc7b" class="graf graf--p graf-after--h4">Ever had those cases where a test will fail on occasion, with a simple action such as re-running the build taking them back to green? Yeah, we all had it — and those flaky tests are vapor. And quite nasty at that.</p><p name="3b3b" id="3b3b" class="graf graf--p graf-after--p">The big problem behind these cases is that they encourage a dangerous, slippery slope: since test failure may not indicate a problem, people tend to be lenient about it. And this can easily drive teams to miss issues hidden by a broken test or, even worse, to start accumulating test failure, even for robust cases, in a classic <a href="https://en.wikipedia.org/wiki/Broken_windows_theory" data-href="https://en.wikipedia.org/wiki/Broken_windows_theory" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">broken window situation</a>.</p><p name="b5dd" id="b5dd" class="graf graf--p graf-after--p">Seriously, if there is one thing to keep from this post is that <strong class="markup--strong markup--p-strong">teams should adopt a zero-tolerance policy for flaky tests</strong>.</p><p name="5c46" id="5c46" class="graf graf--p graf-after--p">At the end of the day, most of these frailties come from bad practices such as:</p><ul class="postList"><li name="3d25" id="3d25" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong">depending on race conditions:</strong> here’s a classic example — you are testing a component with asynchronous behavior. An ever-recurring idea is “I know, let’s put a timer and wait for the action to process!”. The problem is, you will either need to specify a large timer (or bunches of them, in case you are testing a bunch of operations), which will slow the execution, or fine-tune it, which will open the risk of failures in some environments (“Hey, it works on my computer, so why does it fail on the build server?”). The solution to that is the implementation of any variation of an observer pattern: wait for the real async outcome to happen before moving forward.</li><li name="bbb9" id="bbb9" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">lots of shared state:</strong> happens both on socialized and isolated tests. On isolated cases, reliance on shared global values (static values or state hidden behind annotations in the Java world, for example) tends to complicate mocking. On socialized tests, reliance on shared, persisted data (a test checks the read of a specific record/document, another one updates it) leads to these situations. The solution is to either reset global state during test setup and/or to guarantee no mutable state is shared.</li><li name="342b" id="342b" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">reliance on weak assumptions:</strong> these are frequently one of the cases above, but also happen often with over reliance on external dependencies. Your tests may assume, for example, another service is always up and will always contain a fixed set of data your are based on. The solution to these cases is the creation of fake services for test execution.</li></ul><h4 name="4ce9" id="4ce9" class="graf graf--h4 graf-after--li">Solid tests</h4><p name="6358" id="6358" class="graf graf--p graf--startsWithDoubleQuote graf-after--h4">“Wait, solid is good, right? There’s even an acronym that we’ve learned as a must-have!”. Well, <a href="https://en.wikipedia.org/wiki/SOLID_%28object-oriented_design%29" data-href="https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">SOLID principles</a> are great, but if a test literally<strong class="markup--strong markup--p-strong"> never, ever </strong>breaks, then a question is begging to be asked — what value does it provide?</p><p name="7109" id="7109" class="graf graf--p graf-after--p">The major downside of a stagnant test is that it is a performance detractor: each second you add to test execution is an age in today’s development sense of time and an encouragement to reduce its frequency.</p><p name="1c9d" id="1c9d" class="graf graf--p graf-after--p">Solid tests may be born this way: if they are exercising code without really validating its quality, they may be just checking availability, instead of full functionality. Increasing your asserts makes these cases more relevant and dynamic.</p><p name="949b" id="949b" class="graf graf--p graf-after--p">A more justifiable case is when a test freezes over time. This is usually an indication that their target (AKA subject under test — SUT) has matured into a stable (perhaps even stagnant) state. In such cases, a good approach it to perform an architectural refactoring, moving the SUT into a separate component/microservice.</p><h4 name="a1dd" id="a1dd" class="graf graf--h4 graf-after--p">Liquid tests</h4><p name="87e6" id="87e6" class="graf graf--p graf-after--h4">This is the ideal, middle ground solution: eventual test breakage being an indicator that things are evolving and that yeah, eventually we screw up.</p><h4 name="bd76" id="bd76" class="graf graf--h4 graf-after--p">How do I detect these cases?</h4><p name="8434" id="8434" class="graf graf--p graf-after--h4">A pretty good question by now would be “hey, my team does a great job at not breaking the build — in this case, all of our tests would be considered solid”. Fair statement, but the point is: this is not something you should assess on a build server, but on local dev boxes.</p><p name="95fe" id="95fe" class="graf graf--p graf-after--p graf--trailing">This will probably require some level of manual analysis (unfortunately a common need these days), but with the advent of tools such as <a href="https://www.industriallogic.com/tdd-dashboard/" data-href="https://www.industriallogic.com/tdd-dashboard/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">industrial logic’s TDD dashboard</a>, one can hope to see a new generation of development metrics tools coming to our aid.</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"  href="https://medium.com/tag/software-development?source=post" data-action-source="post">Software Development</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/testing?source=post" data-action-source="post">Testing</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/chaos-theory?source=post" data-action-source="post">Chaos Theory</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/tdd?source=post" data-action-source="post">Tdd</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/agile?source=post" data-action-source="post">Agile</a></li></ul></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="75d87c263ae2" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_footer"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/75d87c263ae2" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="show-recommends" data-action-value="75d87c263ae2">5</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="scroll-to-responses">1</button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></div></div></div></div><div class="js-postPromotionWrapper postPromotionWrapper" data-location-id="footer_above_post_attribution"></div><div class="container u-maxWidth740 js-postAttributionFooterContainer u-paddingTop20 u-paddingBottom20 u-marginTop10 u-borderTopLightest u-xs-paddingTop10 u-xs-paddingBottom10"><div class="row js-postFooterInfo"><div class="col u-size12of12"><li class="u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="244ae5f499e4"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/244ae5f499e4" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell "><a class="link avatar u-baseColor--link"  href="https://medium.com/@diogo.lucas?source=footer_card" title="Go to the profile of Diogo Lucas" aria-label="Go to the profile of Diogo Lucas" data-action-source="footer_card" data-user-id="244ae5f499e4" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/0*n--V7Znp2pXv97fz." class="avatar-image avatar-image--small" alt="Go to the profile of Diogo Lucas"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://medium.com/@diogo.lucas" property="cc:attributionName" title="Go to the profile of Diogo Lucas" aria-label="Go to the profile of Diogo Lucas" rel="author cc:attributionUrl" data-user-id="244ae5f499e4" dir="auto">Diogo Lucas</a></h3></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-readNext"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed"><ul><li class="u-uiTextSemibold u-textAlignCenter u-textColorNormal u-fontSize12 u-textUppercase">Share</li><li class="u-textAlignCenter"><div class="js-actionRecommend" data-post-id="75d87c263ae2" data-is-icon-29px="true" data-is-vertical="true" data-has-recommend-list="true" data-source="post_share_widget"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/75d87c263ae2" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal  u-block u-marginAuto u-marginTopNegative5"  data-action="show-recommends" data-action-value="75d87c263ae2">5</button></div></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-in-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/75d87c263ae2"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link avatar u-inline u-baseColor--link"  href="https://medium.com/@diogo.lucas" data-action="show-user-card" data-action-value="244ae5f499e4" data-action-type="hover" data-user-id="244ae5f499e4" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/40/40/0*n--V7Znp2pXv97fz." class="avatar-image avatar-image--smaller" alt="Go to the profile of Diogo Lucas"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Diogo Lucas</strong>, when you sign up for Medium. <a class="link link--accent u-accentColor--textNormal u-accentColor--textDarken u-baseColor--link"  href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Diogo Lucas</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><span class="followState js-followState buttonSet-inner" data-user-id="244ae5f499e4"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/244ae5f499e4" data-action-source="sticky_footer_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"28586-6143d83","currentUser":{"userId":"lo_c6d0b6a8723d","isVerified":false,"subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.AouowiblLn4SBKZF6cWDtA.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.4rYp3nph7xNXmlmak5XWxQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.R35emyz9xZL7YdHbIl-SvQ.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.XUyD-cfC9DG2nc9iq5x7GA.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.0oM8iNH9LgWeJY00O_ao2Q.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.caQfKUCZ18Wg2IbFBoaXiA.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1492372428644:192750215691","useragent":{"browser":"python requests","family":"","os":"","version":2.2,"supportsDesktopEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":false,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":false,"supportsScrollableMetabar":false},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"enable_onboarding":true,"ios_custom_miro_url":"https://cdn-images-1.medium.com","reengagement_notification_duration":3,"enable_adsnative_integration":true,"browsable_stream_config_bucket":"curated-topics","ios_small_post_preview_truncation_length":5.5,"ios_large_post_preview_truncation_length":5.5,"disable_ios_catalog_badging":true,"enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"enable_prepublish_share_settings":true,"enable_direct_auth_connect":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"promoted_story_placement_locations":"POST_PAGE_FOOTER","show_topics":true,"enable_search_collection_by_tag_recency_filter":true,"search_collection_by_tag_filter_min_votes":10,"enable_sms_app_promo":true,"enable_export_members":true,"enable_series_card_background_creation":true,"enable_onboarding_users_by_tag":true,"enable_ios_onboarding_notifications":true,"can_see_subscription_branding":true,"enable_subscriptions_landing_page":true,"enable_partner_program_landing_page":true,"enable_hide_broken_links":true,"enable_pay_for_custom_domain":true,"enable_promos_from_dynamo":true,"enable_promos_in_placement":true,"enable_series_promo_in_email":true,"enable_sms":true,"enable_series_in_user_profiles":true,"enable_new_logged_out_bento_operation":true,"enable_shadow_read_new_stats_source":true,"enable_topic_brief_relations":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/icons/favicon.svg":"https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico","faviconImageId":"1*W0nmth_X8nFKjn6BZ388UQ.png","fontSets":[{"id":1,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-base.by5Oi_VbnwEIvhnWIsuUjA.css"},{"id":4,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-base.g08Jj5TZPAiuPWj5YNUsSg.css"},{"id":6,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-latin-base.141WxxXgxGxNcfeza73H7Q.css"},{"id":7,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-latin-base.jMU532QDmysQMOINr-cr2A.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"2823b46b211e5d9b\",\"ot-tracer-traceid\":\"291ed79130624064\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","secret":"c14df7146e9052a1131f3c900c1f0644","token":"542599432471018|1JqjIwxSfY9jOt_KwjWEl1R7T6I","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]},"smartPublishWhitelistedPublications":["bcc38c8f6edf","f3726e2a5878","828a270689e","81c7d351c056","f30e42fd7ff8","8bf1d7d3081b","d16afa0ae7c","d8f3f6ad9c31","e74de0cedea9","15f753907972","c8c6a6b01ebd","3412b9729488","2ce4bbcf83bb","544c7006046e","7bfcdbc6b30a","a268fd916824","458a773bccd2"],"instantArticles":{"published":true,"developmentMode":false}},"mailingListArchiveUploadSizeMb":2,"availableMembershipPlans":[],"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com"}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"75d87c263ae2","versionId":"261bf2261e46","creatorId":"244ae5f499e4","creator":{"userId":"244ae5f499e4","name":"Diogo Lucas","username":"diogo.lucas","createdAt":1470620076676,"lastPostCreatedAt":1491291070622,"imageId":"0*n--V7Znp2pXv97fz.","backgroundImageId":"","bio":"","twitterScreenName":"diogoclucas","socialStats":{"userId":"244ae5f499e4","usersFollowedCount":73,"usersFollowedByCount":220,"type":"SocialStats"},"social":{"userId":"lo_5b0edcd7ae43","targetUserId":"244ae5f499e4","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"},"homeCollectionId":"","title":"Tests and physical state: an analogy","detectedLanguage":"en","latestVersion":"261bf2261e46","latestPublishedVersion":"261bf2261e46","hasUnpublishedEdits":false,"latestRev":1666,"createdAt":1476489798519,"updatedAt":1477915262140,"acceptedAt":0,"firstPublishedAt":1477915262140,"latestPublishedAt":1477915262140,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"DISCLAIMER: this is an ultra geeky, trippy post. Well, trippier…","bodyModel":{"paragraphs":[{"name":"d743","type":3,"text":"Tests and physical state: an analogy","markups":[]},{"name":"e73d","type":1,"text":"DISCLAIMER: this is an ultra geeky, trippy post. Well, trippier…","markups":[{"type":1,"start":0,"end":11}]},{"name":"a958","type":13,"text":"TL;DR","markups":[]},{"name":"2796","type":1,"text":"Having tests that break all the time (vapor) is bad, but having tests that never break (solid) is usually wasteful. Tests should be fluid enough (liquid) to break on occasion, as a result of system evolution.","markups":[]},{"name":"9ef3","type":13,"text":"Dynamical systems and Chaos Theory","markups":[]},{"name":"4972","type":1,"text":"Mathematics, this distant cousin (or antecedent, take your pick) of IT, is a frequent provider of insights into ways to model software solutions. And sometimes, it can offer quite compelling analogies.","markups":[]},{"name":"926b","type":1,"text":"A particularly interesting area in that space is called Dynamical Systems and has been the plaything for founders of our field, such as von Neumann (if you don’t know him, check him out — dude was impressive). Oh, and it spawned the whole trendy line of study named Chaos Theory. Yeah, that talk about butterflies and stuff.","markups":[{"type":3,"start":56,"end":73,"href":"https://en.wikipedia.org/wiki/Dynamical_systems_theory","title":"","rel":"","anchorType":0},{"type":3,"start":136,"end":147,"href":"https://en.wikipedia.org/wiki/John_von_Neumann","title":"","rel":"","anchorType":0},{"type":3,"start":266,"end":278,"href":"https://en.wikipedia.org/wiki/Chaos_theory","title":"","rel":"","anchorType":0}]},{"name":"0dc7","type":4,"text":"The famous Lorenz attractor. Squint your eyes really hard and you may see a butterfly. Or have cornea issues.","markups":[{"type":3,"start":11,"end":27,"href":"https://en.wikipedia.org/wiki/Lorenz_system","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*GLD9zYGGptxhnReHJbMIRg.png","originalWidth":1820,"originalHeight":1024}},{"name":"8b68","type":1,"text":"At the core of it (and pardon my oversimplification of the mathematics), is the idea that if you represent a system’s state as M and define a function f(M) → M’, that you can iterate over time. In other words, given a discrete state, there is a function that, applied to it, outputs the next step in system evolution.","markups":[{"type":2,"start":127,"end":128},{"type":2,"start":151,"end":160}]},{"name":"a501","type":1,"text":"Many interesting implementations exist out there. Edward Lorenz, for example, created a virtual, simplified simulation of atmospheric events. And discovered that small precision errors could lead the system to a completely different state within a few interactions. The mind blowing conclusion is that a small error in measurement in a chaotic system can lead to a completely inability to predict behavior over a medium/large time window. This is something that leads many to claim precise weather forecast over more than a few days is a no-go.","markups":[{"type":3,"start":50,"end":63,"href":"https://en.wikipedia.org/wiki/Edward_Norton_Lorenz","title":"","rel":"","anchorType":0}]},{"name":"f717","type":1,"text":"Another interesting case is John Conway’s Game of Life, where a matrix of dots can be either dead (0) or alive (1) and may change their state based on neighboring cell statuses. The animation below shows a bit of that system into action.","markups":[{"type":3,"start":28,"end":55,"href":"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life","title":"","rel":"","anchorType":0}]},{"name":"f5d0","type":4,"text":"Gliders guns, gliders and all sorts of crazy patterns in this animation — fun stuff!","markups":[],"layout":1,"metadata":{"id":"0*znxI3CEdIQLe3NNU.gif","originalWidth":379,"originalHeight":192}},{"name":"50bf","type":13,"text":"Dynamical systems and physical state","markups":[]},{"name":"68b8","type":1,"text":"As dynamical systems go, folks came up with an interesting analogy in the physical state of matter:","markups":[]},{"name":"32ef","type":9,"text":"solid: the system evolves quite quickly to a static state and freezes there. In a Game Of life example, this would mean all cells quickly lock into a dead or status.","markups":[{"type":1,"start":0,"end":7}]},{"name":"cff0","type":4,"text":"A game of life matrix reaching a stable equilibrium.","markups":[],"layout":1,"metadata":{"id":"0*_a3xORgqgNNe3lVQ.gif","originalWidth":256,"originalHeight":256}},{"name":"0b82","type":9,"text":"liquid: in this state, the system will eventually reach equilibrium, but it will a) take a while and b) will be cyclic. These cases represent interesting behavior, as complex patterns emerge from the interaction of simple components.","markups":[{"type":1,"start":0,"end":7}]},{"name":"e0bb","type":4,"text":"A game of life matrix in the way of reaching cyclic equilibrium. Much to my frustration, animation stops before the cycle is clear.","markups":[],"layout":1,"metadata":{"id":"0*boI775WRtQujxqjq.gif","originalWidth":256,"originalHeight":256}},{"name":"e980","type":9,"text":"vapor: in this state small oscillations generate unpredictable behavior within a few steps. Bounded systems will still eventually reach some kind of equilibrium (as the state space is finite), but it will be such a long loop it will be almost indistinguishable from no stabilization at all.","markups":[{"type":1,"start":0,"end":6}]},{"name":"8044","type":4,"text":"Not much to see here, right?","markups":[],"layout":1,"metadata":{"id":"0*0aBQUwSvTDXU1-hu.gif","originalWidth":256,"originalHeight":256}},{"name":"ceb8","type":13,"text":"Tests and physical state","markups":[]},{"name":"6c55","type":1,"text":"So yeah, this is where we come back to talk about software development. The very same analogy can be made when talking about automated tests. And similar conclusions can be reached…","markups":[]},{"name":"eed7","type":13,"text":"Vapor tests","markups":[]},{"name":"fc7b","type":1,"text":"Ever had those cases where a test will fail on occasion, with a simple action such as re-running the build taking them back to green? Yeah, we all had it — and those flaky tests are vapor. And quite nasty at that.","markups":[]},{"name":"3b3b","type":1,"text":"The big problem behind these cases is that they encourage a dangerous, slippery slope: since test failure may not indicate a problem, people tend to be lenient about it. And this can easily drive teams to miss issues hidden by a broken test or, even worse, to start accumulating test failure, even for robust cases, in a classic broken window situation.","markups":[{"type":3,"start":329,"end":352,"href":"https://en.wikipedia.org/wiki/Broken_windows_theory","title":"","rel":"","anchorType":0}]},{"name":"b5dd","type":1,"text":"Seriously, if there is one thing to keep from this post is that teams should adopt a zero-tolerance policy for flaky tests.","markups":[{"type":1,"start":64,"end":122}]},{"name":"5c46","type":1,"text":"At the end of the day, most of these frailties come from bad practices such as:","markups":[]},{"name":"3d25","type":9,"text":"depending on race conditions: here’s a classic example — you are testing a component with asynchronous behavior. An ever-recurring idea is “I know, let’s put a timer and wait for the action to process!”. The problem is, you will either need to specify a large timer (or bunches of them, in case you are testing a bunch of operations), which will slow the execution, or fine-tune it, which will open the risk of failures in some environments (“Hey, it works on my computer, so why does it fail on the build server?”). The solution to that is the implementation of any variation of an observer pattern: wait for the real async outcome to happen before moving forward.","markups":[{"type":1,"start":0,"end":29}]},{"name":"bbb9","type":9,"text":"lots of shared state: happens both on socialized and isolated tests. On isolated cases, reliance on shared global values (static values or state hidden behind annotations in the Java world, for example) tends to complicate mocking. On socialized tests, reliance on shared, persisted data (a test checks the read of a specific record/document, another one updates it) leads to these situations. The solution is to either reset global state during test setup and/or to guarantee no mutable state is shared.","markups":[{"type":1,"start":0,"end":21}]},{"name":"342b","type":9,"text":"reliance on weak assumptions: these are frequently one of the cases above, but also happen often with over reliance on external dependencies. Your tests may assume, for example, another service is always up and will always contain a fixed set of data your are based on. The solution to these cases is the creation of fake services for test execution.","markups":[{"type":1,"start":0,"end":29}]},{"name":"4ce9","type":13,"text":"Solid tests","markups":[]},{"name":"6358","type":1,"text":"“Wait, solid is good, right? There’s even an acronym that we’ve learned as a must-have!”. Well, SOLID principles are great, but if a test literally never, ever breaks, then a question is begging to be asked — what value does it provide?","markups":[{"type":3,"start":96,"end":112,"href":"https://en.wikipedia.org/wiki/SOLID_(object-oriented_design)","title":"","rel":"","anchorType":0},{"type":1,"start":147,"end":160}]},{"name":"7109","type":1,"text":"The major downside of a stagnant test is that it is a performance detractor: each second you add to test execution is an age in today’s development sense of time and an encouragement to reduce its frequency.","markups":[]},{"name":"1c9d","type":1,"text":"Solid tests may be born this way: if they are exercising code without really validating its quality, they may be just checking availability, instead of full functionality. Increasing your asserts makes these cases more relevant and dynamic.","markups":[]},{"name":"949b","type":1,"text":"A more justifiable case is when a test freezes over time. This is usually an indication that their target (AKA subject under test — SUT) has matured into a stable (perhaps even stagnant) state. In such cases, a good approach it to perform an architectural refactoring, moving the SUT into a separate component/microservice.","markups":[]},{"name":"a1dd","type":13,"text":"Liquid tests","markups":[]},{"name":"87e6","type":1,"text":"This is the ideal, middle ground solution: eventual test breakage being an indicator that things are evolving and that yeah, eventually we screw up.","markups":[]},{"name":"bd76","type":13,"text":"How do I detect these cases?","markups":[]},{"name":"8434","type":1,"text":"A pretty good question by now would be “hey, my team does a great job at not breaking the build — in this case, all of our tests would be considered solid”. Fair statement, but the point is: this is not something you should assess on a build server, but on local dev boxes.","markups":[]},{"name":"95fe","type":1,"text":"This will probably require some level of manual analysis (unfortunately a common need these days), but with the advent of tools such as industrial logic’s TDD dashboard, one can hope to see a new generation of development metrics tools coming to our aid.","markups":[{"type":3,"start":136,"end":168,"href":"https://www.industriallogic.com/tdd-dashboard/","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"763b","startIndex":0},{"name":"576d","startIndex":4}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"1*GLD9zYGGptxhnReHJbMIRg.png","filter":"","backgroundSize":"","originalWidth":1820,"originalHeight":1024,"strategy":"resample","height":0,"width":0},"wordCount":1212,"imageCount":5,"readingTime":5.40691823899371,"subtitle":"DISCLAIMER: this is an ultra geeky, trippy post. Well, trippier…","usersBySocialRecommends":[],"recommends":5,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"software-development","name":"Software Development","postCount":19063,"virtuals":{"isFollowing":false},"metadata":{"followerCount":18755,"postCount":19063,"coverImage":{"id":"1*s2fiZZtKKKIhZQ_SsHRX4g.jpeg","originalWidth":1500,"originalHeight":671}},"type":"Tag"},{"slug":"testing","name":"Testing","postCount":4339,"virtuals":{"isFollowing":false},"metadata":{"followerCount":724,"postCount":4339,"coverImage":{"id":"1*Ig5G4SyUAEjkbxz3FdanBw.jpeg","originalWidth":2048,"originalHeight":1923}},"type":"Tag"},{"slug":"chaos-theory","name":"Chaos Theory","postCount":46,"virtuals":{"isFollowing":false},"metadata":{"followerCount":6,"postCount":46,"coverImage":{"id":"1*8V93dgN0E4bVBY1zTLbWhA.jpeg","originalWidth":400,"originalHeight":267}},"type":"Tag"},{"slug":"tdd","name":"Tdd","postCount":626,"virtuals":{"isFollowing":false},"metadata":{"followerCount":250,"postCount":626,"coverImage":{"id":"1*P6G0iLp_UhsygFqMpmNfpg.gif","originalWidth":1904,"originalHeight":1952}},"type":"Tag"},{"slug":"agile","name":"Agile","postCount":9831,"virtuals":{"isFollowing":false},"metadata":{"followerCount":3482,"postCount":9831,"coverImage":{"id":"1*86zBV92RfLM9lY9wcWVIUA.jpeg","originalWidth":5616,"originalHeight":3744,"isFeatured":true}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":1,"links":{"entries":[],"version":"0.3","generatedAt":1477915263835},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":0},"coverless":true,"slug":"tests-and-physical-state-an-analogy","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"tests-and-physical-state-an-analogy-75d87c263ae2","previewContent":{"bodyModel":{"paragraphs":[{"name":"d743","type":3,"text":"Tests and physical state: an analogy","markups":[],"alignment":1},{"name":"e73d","type":1,"text":"DISCLAIMER: this is an ultra geeky, trippy post. Well, trippier…","markups":[{"type":1,"start":0,"end":11}],"alignment":1},{"name":"a958","type":13,"text":"TL;DR","markups":[],"alignment":1},{"name":"2796","type":1,"text":"Having tests that break all the time (vapor) is bad, but having tests that never break (solid) is usually wasteful. Tests should be fluid…","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2","mediumUrl":"https://medium.com/@diogo.lucas/tests-and-physical-state-an-analogy-75d87c263ae2","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"244ae5f499e4":{"userId":"244ae5f499e4","name":"Diogo Lucas","username":"diogo.lucas","createdAt":1470620076676,"lastPostCreatedAt":1491291070622,"imageId":"0*n--V7Znp2pXv97fz.","backgroundImageId":"","bio":"","twitterScreenName":"diogoclucas","socialStats":{"userId":"244ae5f499e4","usersFollowedCount":73,"usersFollowedByCount":220,"type":"SocialStats"},"social":{"userId":"lo_5b0edcd7ae43","targetUserId":"244ae5f499e4","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"}},"Social":{"244ae5f499e4":{"userId":"lo_5b0edcd7ae43","targetUserId":"244ae5f499e4","type":"Social"}},"SocialStats":{"244ae5f499e4":{"userId":"244ae5f499e4","usersFollowedCount":73,"usersFollowedByCount":220,"type":"SocialStats"}}}})
// ]]></script></body></html>