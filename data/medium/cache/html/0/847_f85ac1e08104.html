<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio</title><link rel="canonical" href="https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104"><meta name="title" content="Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio"><meta name="referrer" content="unsafe-url"><meta name="description" content="In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback from our customers and interested users who requested testing…"><meta property="og:title" content="Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio"><meta property="og:url" content="https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/0*udrhcLH0XGSXzppt.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback…"><meta name="twitter:description" content="In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback…"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/0*udrhcLH0XGSXzppt.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@Coder_HarryLee"><meta property="author" content="Harry Lee"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@Coder_HarryLee"><meta property="fb:smart_publish:robots" content="noauto"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2017-03-29T09:09:24.658Z"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="30 min read"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":450,"height":205,"url":"https://cdn-images-1.medium.com/max/450/0*udrhcLH0XGSXzppt.png"},"datePublished":"2017-03-29T09:09:24.658Z","dateModified":"2017-03-29T09:09:24.658Z","headline":"Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio","name":"Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio","keywords":["Programming","Open Source","Sonarqube","DevOps","Csharp"],"author":{"@type":"Person","name":"Harry Lee","url":"https://medium.com/@Coder_HarryLee"},"creator":["Harry Lee"],"mainEntityOfPage":"https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104"}</script><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/f85ac1e08104"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/f85ac1e08104"><meta property="al:android:url" content="medium://p/f85ac1e08104"><meta property="al:web:url" content="https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/f85ac1e08104" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.g2e09PlZK_j3Lw2AgNmbfQ.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]);_asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-sizeViewHeight100 {height: " + height + "px !important;}.u-sizeViewHeight110 {height: " + Math.round(1.1 * height) + "px !important;}.u-sizeViewHeightMin100 {min-height: " + height + "px !important;}.u-sizeViewHeightMax100 {max-height: " + height + "px !important;}section.section-image--coverFade {height: " + height + "px;}.section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg" color="#171717"></head><body itemscope class=" postShowScreen is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar"><div class="metabar-inner u-marginAuto u-maxWidth1000 u-paddingLeft20 u-paddingRight20 js-metabarMiddle"><div class="metabar-block metabar-block--left u-floatLeft u-height65 u-xs-height56"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><span class="svgIcon svgIcon--logoNew svgIcon--45px is-flushLeft"><svg class="svgIcon-use" width="45" height="45"  viewBox="-17 18 45 45" data-multipart="true"><path d="M11.525 28.078c-.472-.225-.858.002-.858.506v20.044l8.616 4.113c.948.46 1.717.14 1.717-.7v-19.3a.22.22 0 0 0-.124-.19l-9.35-4.46v-.01z"/><path d="M.333 43.696l9.83-15.247c.278-.43.89-.6 1.36-.38l9.364 4.47c.06.03.082.1.047.15L10.666 48.63.333 43.698v-.002z"/><path d="M-8.57 28.35c-.786-.375-1.053-.096-.592.62L.333 43.696l10.333 4.932L.356 32.635a.156.156 0 0 0-.06-.054l-8.866-4.23z"/><path d="M.333 52.033c0 .84-.643 1.22-1.43.844l-8.045-3.84c-.472-.224-.858-.82-.858-1.325V28.89c0-.672.515-.976 1.145-.675l9.133 4.36a.092.092 0 0 1 .055.084v19.37z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="metabar-block u-floatRight u-xs-absolute u-xs-textAlignRight u-xs-right0 u-xs-marginRight20 u-height65 u-xs-height56"><div class="buttonSet"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-lineHeight30 u-height32"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40Coder_HarryLee%2Fanalysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104" data-action="sign-in-prompt" data-redirect="https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104" data-action-source="nav_signup">Sign in / Sign up</a></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-sizeViewHeightMin100 u-overflowHidden postArticle postArticle--full u-marginBottom40"  lang="en"><header class="container u-maxWidth740"><div class="postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="postMetaLockup postMetaLockup--authorWithBio u-flex js-postMetaLockup"><div class="u-flex0"><a class="link avatar u-baseColor--link"  href="https://medium.com/@Coder_HarryLee?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="d282b2777ae0" data-action-type="hover" data-user-id="d282b2777ae0" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*SgXtZaPRcuXvPvf29R1hfQ.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Harry Lee"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><a class="link link link--darken link--darker u-baseColor--link"  href="https://medium.com/@Coder_HarryLee?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="d282b2777ae0" data-action-type="hover" data-user-id="d282b2777ae0" dir="auto">Harry Lee</a><span class="followState js-followState buttonSet-inner" data-user-id="d282b2777ae0"><button class="button u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/d282b2777ae0" data-action-source="post_header_lockup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span><div class="postMetaInline u-noWrapWithEllipsis u-xs-normalWrap u-xs-lineClamp2">Enthusiastic developer</div><div class="postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2017-03-29T09:09:24.658Z">Mar 29</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="30 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="f85ac1e08104" data-source="post_page" data-tracking-context="postPage"><section name="1fea" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="398e" id="398e" class="graf graf--h3 graf--leading graf--title">Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio</h1><p name="e9f6" id="e9f6" class="graf graf--p graf-after--h3">In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback from our customers and interested users who requested testing the plugin on a real project. As the interest in this subject is not decreasing, we decided to test the plugin on a C# project PascalABC.NET. Also, it should be borne in mind, that SonarQube have their own static analyzer of C# code — SonarC#. To make the report more complete, we decided to test SonarC# as well. The objective of this work was not the comparison of the analyzers, but the demonstration of the main peculiarities of their interaction with the SonarQube service. Plain comparison of the analyzers would not be fair due to the fact that PVS-Studio is a specialized tool for bug detection and potential vulnerabilities, while SonarQube is a service for the assessment of the code quality by a large number of parameters: code duplication, compliance with the code standards, unit tests coverage, potential bugs in the code, density of comments in the code, technical debt and so on.</p><figure name="716d" id="716d" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 450px; max-height: 205px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45.6%;"></div><img class="graf-image" data-image-id="0*udrhcLH0XGSXzppt.png" data-width="450" data-height="205" src="https://cdn-images-1.medium.com/max/800/0*udrhcLH0XGSXzppt.png"></div></figure><h3 name="7959" id="7959" class="graf graf--h3 graf-after--figure">Introduction</h3><p name="27d5" id="27d5" class="graf graf--p graf-after--h3">Before reading this article, I recommend having a look at other <a href="https://www.viva64.com/en/b/0452/" data-href="https://www.viva64.com/en/b/0452/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">posts</a>, where we give a description of the SonarQube platform and integration of PVS-Studio with it.</p><p name="66fe" id="66fe" class="graf graf--p graf-after--p">Now let us talk about the checked project. PascalABC.NET is the new generation Pascal programming language that combines simplicity of classic Pascal, a great number of modern extensions and broad capabilities of Microsoft .NET Framework. It has its own development environment and also a Web-environment for the creation of programs in PascalABC.NET, C#, Visual Basic.NET, F#, IronPython. The project is Written in C# and is distributed under a free software license LGPLv3. <a href="http://pascalabc.net/en/" data-href="http://pascalabc.net/en/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">The site of the project</a>. The source code can be downloaded from the <a href="https://github.com/pascalabcnet/pascalabcnet" data-href="https://github.com/pascalabcnet/pascalabcnet" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">repository</a> on GitHub.</p><p name="a215" id="a215" class="graf graf--p graf-after--p">PascalABC.NET solution has 2628 files with the extension ‘cs’, which contain about 752 thousand lines of code (the metrics were obtained using the <a href="http://www.campwoodsw.com/sourcemonitor.html" data-href="http://www.campwoodsw.com/sourcemonitor.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">SourceMonitor</a> utility). Thus, the project has a reasonable size for our research purposes.</p><h3 name="5710" id="5710" class="graf graf--h3 graf-after--p">SonarC#</h3><p name="6c5f" id="6c5f" class="graf graf--p graf-after--h3">As it was stated earlier, the <a href="https://sonarqube.com/about" data-href="https://sonarqube.com/about" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">SonarQube</a> service has its own analyzer of C# code. To add an open project to the site and perform the analysis, it was enough to perform several simple actions.</p><p name="e672" id="e672" class="graf graf--p graf-after--p">To register on the SonarQube site, I used a GitHub account. Then I used the quick start <a href="https://about.sonarqube.com/get-started/" data-href="https://about.sonarqube.com/get-started/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">instructions</a>. The whole process of setting, including binding of the PascalABC.NET project to the account, getting the unique key of the organization and configuration on the local computer took me about 15 minutes. The analysis of the project took another 10 minutes. After that, the <a href="https://sonarqube.com/organizations/skhrenov-github/projects" data-href="https://sonarqube.com/organizations/skhrenov-github/projects" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">result</a> was uploaded to the SonarQube site, where it can be accessed by anyone.</p><p name="240d" id="240d" class="graf graf--p graf-after--p">SonarQube issued 3636 warnings about possible errors in PascalABC.NET code:</p><figure name="7a61" id="7a61" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 299px; max-height: 258px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 86.3%;"></div><img class="graf-image" data-image-id="0*EuYxoDNsbx2kGvOn.png" data-width="299" data-height="258" src="https://cdn-images-1.medium.com/max/800/0*EuYxoDNsbx2kGvOn.png"></div></figure><p name="5ed8" id="5ed8" class="graf graf--p graf-after--figure">Among them: 8 blocking (require immediate fix), 64 critical, 1742 important and 1822 not critical. There were no informational messages. Let us have a look at these warnings, find interesting errors and see the percentage of false positives in the analysis. To do it, we use convenient filtration means by various metrics, provided by SonarQube service. Let us start with blocker warnings.</p><h3 name="1126" id="1126" class="graf graf--h3 graf-after--p">Blocker</h3><figure name="022d" id="022d" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 291px; max-height: 425px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 146%;"></div><img class="graf-image" data-image-id="0*TMkgKPJX1eHy0joi.png" data-width="291" data-height="425" src="https://cdn-images-1.medium.com/max/800/0*TMkgKPJX1eHy0joi.png"></div></figure><p name="41f0" id="41f0" class="graf graf--p graf-after--figure">As we see, the blocker warnings are issued for two rules: infinite recursion and disposing IDisposable-resources. Here is an example of a blocker-warning:</p><figure name="de7e" id="de7e" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 456px; max-height: 319px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 70%;"></div><img class="graf-image" data-image-id="0*4g_tjeDFJFARutWd.png" data-width="456" data-height="319" src="https://cdn-images-1.medium.com/max/800/0*4g_tjeDFJFARutWd.png"></div></figure><p name="9469" id="9469" class="graf graf--p graf-after--figure">In the get-section of the <em class="markup--em markup--p-em">Instance</em> property, the program erroneously returns <em class="markup--em markup--p-em">Instance</em> instead of <em class="markup--em markup--p-em">instance</em>, which causes infinite recursion.</p><p name="9fd6" id="9fd6" class="graf graf--p graf-after--p">All the other warnings of the Blocker level are also errors.</p><h3 name="7a98" id="7a98" class="graf graf--h3 graf-after--p">Critical</h3><figure name="b6fd" id="b6fd" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 291px; max-height: 396px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 136.1%;"></div><img class="graf-image" data-image-id="0*DftyI0s5UKmjSvPB.png" data-width="291" data-height="396" src="https://cdn-images-1.medium.com/max/800/0*DftyI0s5UKmjSvPB.png"></div></figure><p name="794a" id="794a" class="graf graf--p graf-after--figure">There were 64 warnings of the Critical level for the rule of inappropriate type casting. Let us have a look at one of such warnings:</p><figure name="74d6" id="74d6" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 506px; max-height: 253px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50%;"></div><img class="graf-image" data-image-id="0*rTHLkZYdbKCC-tmc.png" data-width="506" data-height="253" src="https://cdn-images-1.medium.com/max/800/0*rTHLkZYdbKCC-tmc.png"></div></figure><p name="54e5" id="54e5" class="graf graf--p graf-after--figure">Having studied the code and the list of implementations, I agreed with the analyzer: at the moment there really isn’t any type that implements both <em class="markup--em markup--p-em">IBaseScope</em> and <em class="markup--em markup--p-em">IComparable</em> interfaces, so the result of the check of <em class="markup--em markup--p-em">boxItem.Item is IComparable </em>will always be <em class="markup--em markup--p-em">false.</em> However, I would not consider it an error in this case, because, firstly, the mere presence of such check eliminates the subsequent throw of an exception when attempting to cast the type <em class="markup--em markup--p-em">(IComparable)boxItem.Item.</em> Secondly, at any moment a programmer may add a reference to <em class="markup--em markup--p-em">dll </em>to the the solution, where we will have the declaration of a type that would implement both interfaces <em class="markup--em markup--p-em">IBaseScope</em> and <em class="markup--em markup--p-em">IComparable</em>. Perhaps, that was the plan of a developer when he was doing the type casting only after the check. The reviewed warning should be put to the Minor warning, not critical for the execution; its presence on the Critical level is most likely a false positive.</p><p name="2044" id="2044" class="graf graf--p graf-after--p">The remaining 63 warnings are similar to the one we had a look at.</p><h3 name="61e2" id="61e2" class="graf graf--h3 graf-after--p">Major</h3><p name="f74a" id="f74a" class="graf graf--p graf-after--h3">There were quite a lot of warnings on this level — 1742 for 15 types of diagnostics:</p><figure name="a7cb" id="a7cb" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 273px; max-height: 711px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 260.40000000000003%;"></div><img class="graf-image" data-image-id="0*OwK_Sk14N_3rBmHP.png" data-width="273" data-height="711" src="https://cdn-images-1.medium.com/max/800/0*OwK_Sk14N_3rBmHP.png"></div></figure><p name="9983" id="9983" class="graf graf--p graf-after--figure">Let’s go through the list of warnings to find real bugs and evaluate the real capabilities of the analyzer.</p><p name="77eb" id="77eb" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">General exceptions should never be thrown</strong></p><p name="4649" id="4649" class="graf graf--p graf-after--p">The rule reports that a general type exception is thrown with the <em class="markup--em markup--p-em">throw</em> operator. There were 634 similar constructs found in the code of PascalABC.NET project. The majority is of the following kind:</p><figure name="4fc6" id="4fc6" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 490px; max-height: 222px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45.300000000000004%;"></div><img class="graf-image" data-image-id="0*paRc4mPVvfv6HODp.png" data-width="490" data-height="222" src="https://cdn-images-1.medium.com/max/800/0*paRc4mPVvfv6HODp.png"></div></figure><p name="084e" id="084e" class="graf graf--p graf-after--figure">Also there are a lot (more than 600) constructs that look like “stubs” in the code, that were intentionally written by the developers.</p><figure name="2d1b" id="2d1b" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 484px; max-height: 149px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 30.8%;"></div><img class="graf-image" data-image-id="0*xVjAYf88QY-UPRiO.png" data-width="484" data-height="149" src="https://cdn-images-1.medium.com/max/800/0*xVjAYf88QY-UPRiO.png"></div></figure><p name="a087" id="a087" class="graf graf--p graf-after--figure">Of course, throwing a general exception is considered as “bad manners”. However, it seems to me that this are not errors at all. Moreover, it is unlikely that the code’s authors deliberately multiplied them so much. Yes, apparently, the exception handling in PascalABC.NET leaves much to be desired. Nevertheless, the best place for these 634 similar warnings is in the Minor section or among the false positives of the analyzer.</p><p name="4b44" id="4b44" class="graf graf--p graf-after--p">By the way, this is a good example, showing the difference between SonarC# and PVS-Studio. SonarC# indicates “smells” in the code and is quite right, issuing these warnings. They help to judge about the quality of the project. From our point of view, as the developers of PVS-Studio analyzer, these are false positives, because we are focused on finding bugs and security issues.</p><p name="1092" id="1092" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Dead stores should be removed</strong></p><p name="9f0f" id="9f0f" class="graf graf--p graf-after--p">This is also quite an extensive group of 618 warnings concerning a repeated variable assigning, when it is not used in any way between those assignments. We see the following pattern prevailing:</p><figure name="c8fc" id="c8fc" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 426px; max-height: 203px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.699999999999996%;"></div><img class="graf-image" data-image-id="0*9SaC8fu_U2MIEq69.png" data-width="426" data-height="203" src="https://cdn-images-1.medium.com/max/800/0*9SaC8fu_U2MIEq69.png"></div></figure><p name="19f6" id="19f6" class="graf graf--p graf-after--figure">The variable is initialized during the declaration, and then, without using the new value, it is assigned with another value. Of course, it’s a bad ideas to do so. We may raise questions concerning saving the resources and suspicions about a different error or a typo. But in fact, neither one of these structures is an error. It is unclear again, why are these warnings placed in the section of major severity? To my mind, these are false positives.</p><p name="5888" id="5888" class="graf graf--p graf-after--p">There are several warnings that are certainly false-positives:</p><figure name="63fd" id="63fd" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 426px; max-height: 271px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 63.6%;"></div><img class="graf-image" data-image-id="0*ty_pp736IKyxI4Ei.png" data-width="426" data-height="271" src="https://cdn-images-1.medium.com/max/800/0*ty_pp736IKyxI4Ei.png"></div></figure><p name="bc6d" id="bc6d" class="graf graf--p graf-after--figure">If we follow the recommendations of the analyzer in this case, then we may ruin the logic of the program.</p><p name="4d8b" id="4d8b" class="graf graf--p graf-after--p">Thus, I could not find any real bugs among those 618 warnings from the reviewed group.</p><p name="00ba" id="00ba" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Floating point numbers should not be tested for equality</strong></p><p name="bc75" id="bc75" class="graf graf--p graf-after--p">151 warnings were issued for the comparison constructions, where one or both operands have a real type. Indeed, such comparisons often give an erroneous result that is related to peculiarities of storing the real variables in memory and may vary, for example, depending on the compiler settings. Such constructions can work for a very long time without any problems. Therefore, a programmer has to decide about the falsity in each particular code fragment. For example, if the values being compared are a result of mathematical calculations, then, the direct comparison of these values is usually wrong. If you are comparing two real constants, then probably it is done deliberately and there is no error.</p><p name="dab7" id="dab7" class="graf graf--p graf-after--p">In the code of PascalABC.NET I saw mostly the following pattern of comparing with a real variable:</p><figure name="b516" id="b516" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 560px; max-height: 172px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 30.7%;"></div><img class="graf-image" data-image-id="0*oMtDGYEz3RzUlRKB.png" data-width="560" data-height="172" src="https://cdn-images-1.medium.com/max/800/0*oMtDGYEz3RzUlRKB.png"></div></figure><p name="3be1" id="3be1" class="graf graf--p graf-after--figure">Note that there are both comparisons of two real variables and a real variable with an integer type variable. Of course, this code is not completely safe, since it is unknown how the compared values were obtained. Can we speak of a real error here? I find it difficult to give a definite answer. However, the code probably needs to be reviewed.</p><p name="df52" id="df52" class="graf graf--p graf-after--p">By the way, PVS-Studio analyzer also warns about such suspicious comparisons, but these diagnostics refer to the Low reliability level and are not recommended for studying.</p><p name="a1d8" id="a1d8" class="graf graf--p graf-after--p">There are also obvious false positives among the issued warnings:</p><figure name="9121" id="9121" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 560px; max-height: 108px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 19.3%;"></div><img class="graf-image" data-image-id="0*NJ7b9Je3aO_4wR9z.png" data-width="560" data-height="108" src="https://cdn-images-1.medium.com/max/800/0*NJ7b9Je3aO_4wR9z.png"></div></figure><p name="ba15" id="ba15" class="graf graf--p graf-after--figure">In this case two variables of <em class="markup--em markup--p-em">byte</em> type get compared: The variables <em class="markup--em markup--p-em">left</em> and <em class="markup--em markup--p-em">right</em> have the type <em class="markup--em markup--p-em">byte_const_node</em>:</p><pre name="ee62" id="ee62" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">class</strong> byte_const_node : concrete_constant&lt;byte&gt;,<br>                               SemanticTree.IByteConstantNode<br>{<br>  <strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">byte_const_node</strong>(byte value, location loc)<br>      : <strong class="markup--strong markup--pre-strong">base</strong>(value, loc)<br>  {<br>  }<br>  ....<br>}</code></pre><pre name="4a5d" id="4a5d" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> abstract <strong class="markup--strong markup--pre-strong">class</strong> concrete_constant&lt;ConstantType&gt; : constant_node<br>{<br>  <strong class="markup--strong markup--pre-strong">private</strong> ConstantType _constant_value;<br>  <strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">concrete_constant</strong>(ConstantType value, location loc) :<br>    <strong class="markup--strong markup--pre-strong">base</strong>(compiled_type_node.get_type_node(typeof(ConstantType)), loc)<br>  {<br>    _constant_value = value;<br>  }<br>  ....<br>  <strong class="markup--strong markup--pre-strong">public</strong> ConstantType constant_value<br>  {<br>    get<br>    {<br>      <strong class="markup--strong markup--pre-strong">return</strong> _constant_value;<br>    }<br>    ....<br>  }<br>  ....<br>  }<br>  ....<br>}</code></pre><p name="ab8d" id="ab8d" class="graf graf--p graf-after--pre">I think this group is reasonably placed to the Major section. However, I would not consider all the warnings to be errors. It is up to the author to decide in each particular case.</p><p name="8a16" id="8a16" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Multiline blocks should be enclosed in curly braces</strong></p><p name="baff" id="baff" class="graf graf--p graf-after--p">This is a group of 108 warnings, including potential formatting errors that affect the logic of the program execution. I found quite suspicious constructs here. Example:</p><figure name="c599" id="c599" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 560px; max-height: 171px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 30.5%;"></div><img class="graf-image" data-image-id="0*4lAmY9ltjlL6BYJY.png" data-width="560" data-height="171" src="https://cdn-images-1.medium.com/max/800/0*4lAmY9ltjlL6BYJY.png"></div></figure><p name="dd1e" id="dd1e" class="graf graf--p graf-after--figure">In this fragment, the brackets are possibly missing. In any case, a developer should format the code for better understanding of the program logic.</p><p name="56f6" id="56f6" class="graf graf--p graf-after--p">Another similar warning:</p><figure name="31f3" id="31f3" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 515px; max-height: 174px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 33.800000000000004%;"></div><img class="graf-image" data-image-id="0*7CNPdUjDHziFDBia.png" data-width="515" data-height="174" src="https://cdn-images-1.medium.com/max/800/0*7CNPdUjDHziFDBia.png"></div></figure><p name="1434" id="1434" class="graf graf--p graf-after--figure">There is no error, but the code looks sloppy. Refactoring is needed here.</p><p name="e545" id="e545" class="graf graf--p graf-after--p">In general, all the warnings from this group are issued correctly, but they haven’t detected real errors.</p><p name="e462" id="e462" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Null pointers should not be dereferenced</strong></p><p name="2bf0" id="2bf0" class="graf graf--p graf-after--p">75 warnings about possible access by the null reference. In this block I found interesting mistakes:</p><figure name="ae39" id="ae39" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 361px; max-height: 137px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 38%;"></div><img class="graf-image" data-image-id="0*HWMwMObI88gsEgOd.png" data-width="361" data-height="137" src="https://cdn-images-1.medium.com/max/800/0*HWMwMObI88gsEgOd.png"></div></figure><p name="f4a7" id="f4a7" class="graf graf--p graf-after--figure">Indeed, previously the variable <em class="markup--em markup--p-em">returned_scope </em>has always been verified against null before it was used, but in this case, it was forgotten.</p><pre name="5484" id="5484" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> override <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">visit</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (returned_scope != null &amp;&amp; ....)<br>  {<br>    ....<br>  }<br>  <strong class="markup--strong markup--pre-strong">else</strong> <strong class="markup--strong markup--pre-strong">if</strong> (returned_scope != null)<br>  {<br>    ....<br>  }<br>  returned_scope.declaringUnit = entry_scope;  // &lt;=<br>  ....<br>}</code></pre><p name="c547" id="c547" class="graf graf--p graf-after--pre">A similar bug:</p><figure name="1851" id="1851" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 458px; max-height: 149px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 32.5%;"></div><img class="graf-image" data-image-id="0*a1Okl3Uj2X4soPuG.png" data-width="458" data-height="149" src="https://cdn-images-1.medium.com/max/800/0*a1Okl3Uj2X4soPuG.png"></div></figure><p name="5416" id="5416" class="graf graf--p graf-after--figure">In the first case, the variable <em class="markup--em markup--p-em">pi</em> is verified against null before using, but further on, when accessing <em class="markup--em markup--p-em">pi.CompilationUnit </em>it is forgotten.</p><p name="4047" id="4047" class="graf graf--p graf-after--p">This block of warnings has some number of not very obvious errors and false positives. I would rate the percentage of finding real bugs here equal to 85%. A very good result.</p><p name="426a" id="426a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Conditions should not unconditionally evaluate to “true” or to “false”</strong></p><p name="36b7" id="36b7" class="graf graf--p graf-after--p">This block of warnings is related to the conditions that are true regardless of the program logic. Here is a typical of the errors found:</p><figure name="22a2" id="22a2" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 394px; max-height: 264px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 67%;"></div><img class="graf-image" data-image-id="0*psRe_RH9pUZMGvMq.png" data-width="394" data-height="264" src="https://cdn-images-1.medium.com/max/800/0*psRe_RH9pUZMGvMq.png"></div></figure><p name="2335" id="2335" class="graf graf--p graf-after--figure">This code is strange and needs reviewing. Perhaps, we have a serious mistake here.</p><p name="127f" id="127f" class="graf graf--p graf-after--p">All in all, the group has about 70% of such errors.</p><p name="b655" id="b655" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Exceptions should not be thrown from property getters</strong></p><p name="64e3" id="64e3" class="graf graf--p graf-after--p">You should not throw exceptions to get section of the property, and if it is necessary to use methods instead of properties. This group contains 46 such warnings. The vast majority of them are “stubs”, left by the developers intentionally or due to forgetfulness:</p><figure name="c483" id="c483" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 337px; max-height: 164px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 48.699999999999996%;"></div><img class="graf-image" data-image-id="0*P3BCVNzyv5FeCbfM.png" data-width="337" data-height="164" src="https://cdn-images-1.medium.com/max/800/0*P3BCVNzyv5FeCbfM.png"></div></figure><p name="effe" id="effe" class="graf graf--p graf-after--figure">There are also quite correct constructions that require refactoring.</p><figure name="2fa8" id="2fa8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 406px; max-height: 225px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 55.400000000000006%;"></div><img class="graf-image" data-image-id="0*7LjV9BowleShc1DV.png" data-width="406" data-height="225" src="https://cdn-images-1.medium.com/max/800/0*7LjV9BowleShc1DV.png"></div></figure><p name="df30" id="df30" class="graf graf--p graf-after--figure">Nevertheless, I do not believe these warnings to be errors. I think it would be more rational to classify them as Minor bugs.</p><p name="deb7" id="deb7" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Static fields should not be updated in constructors</strong></p><p name="b938" id="b938" class="graf graf--p graf-after--p">The diagnostic about updating static fields in constructors: this can lead to inconsistent behavior, because the field will be newly initialized for all instances of the class. In sum total, the analyzer issued 26 warnings of this kind for PascalABC.NET project. I have not found real errors among them. Here are a couple examples of the detected code fragments:</p><figure name="a0d0" id="a0d0" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 391px; max-height: 305px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 78%;"></div><img class="graf-image" data-image-id="0*-sEpJvGC73Rs__fo.png" data-width="391" data-height="305" src="https://cdn-images-1.medium.com/max/800/0*-sEpJvGC73Rs__fo.png"></div></figure><p name="49bd" id="49bd" class="graf graf--p graf-after--figure">Every time a reference to a new instance of a class is written to the static variable <em class="markup--em markup--p-em">_instance.</em> Judging by the variable name, it was an intended action.</p><figure name="3161" id="3161" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 378px; max-height: 338px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 89.4%;"></div><img class="graf-image" data-image-id="0*ayvdGnTuwhX5Z3Wa.png" data-width="378" data-height="338" src="https://cdn-images-1.medium.com/max/800/0*ayvdGnTuwhX5Z3Wa.png"></div></figure><p name="151e" id="151e" class="graf graf--p graf-after--figure">The flag <em class="markup--em markup--p-em">parsers_loaded </em>indicates that at least one class item was already created. Nothing criminal.</p><p name="da7e" id="da7e" class="graf graf--p graf--startsWithDoubleQuote graf-after--p"><strong class="markup--strong markup--p-strong">“=+” should not be used instead of “+=”</strong></p><p name="36d7" id="36d7" class="graf graf--p graf-after--p">Quite an interesting diagnostic that instead of the “-=” operator it was erroneously written “=-”. The analyzer issued 9 warnings of this kind. Unfortunately, they are all false positives. 6 warnings are issued for constructions that are declarations of variables, where the operator “-=” is not possible at all.</p><figure name="26e2" id="26e2" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 316px; max-height: 230px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 72.8%;"></div><img class="graf-image" data-image-id="0*dYDgf05nMXsIt5-k.png" data-width="316" data-height="230" src="https://cdn-images-1.medium.com/max/800/0*dYDgf05nMXsIt5-k.png"></div></figure><p name="d46b" id="d46b" class="graf graf--p graf-after--figure">The other 3 warnings are apparently caused by the fact that the authors of the code don’t like using spaces for formatting the code:</p><figure name="03ac" id="03ac" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 410px; max-height: 145px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 35.4%;"></div><img class="graf-image" data-image-id="0*XXJqJXvjIw5SqFeL.png" data-width="410" data-height="145" src="https://cdn-images-1.medium.com/max/800/0*XXJqJXvjIw5SqFeL.png"></div></figure><p name="b7db" id="b7db" class="graf graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">Related “if/else if” statements should not have the same condition</strong></p><p name="2c5e" id="2c5e" class="graf graf--p graf-after--p">5 warnings were issued for code fragments with the same condition in the <em class="markup--em markup--p-em">if</em> and <em class="markup--em markup--p-em">else</em> blocks. Often this code is either erroneous already, or it has the possibility of an error. In our case, 4 of 5 warnings had simple duplication of conditions, as well as of an execution block, which of course is suspicious, but not a coarse mistake. One warning is more interesting:</p><figure name="5905" id="5905" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 560px; max-height: 266px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.5%;"></div><img class="graf-image" data-image-id="0*DYyAFaof2cQVmWP-.png" data-width="560" data-height="266" src="https://cdn-images-1.medium.com/max/800/0*DYyAFaof2cQVmWP-.png"></div></figure><p name="3fed" id="3fed" class="graf graf--p graf-after--figure">Before the first part of the <em class="markup--em markup--p-em">if</em> block was commented out, it was different from the following condition in the consecutive <em class="markup--em markup--p-em">else if</em> block. Also note the execution block of the second <em class="markup--em markup--p-em">else if</em>: it is empty. There is only one operator: “;”. This is very strange and suspicious code.</p><p name="ec2a" id="ec2a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Short-circuit logic should be used in boolean contexts</strong></p><p name="485c" id="485c" class="graf graf--p graf-after--p">The diagnostic warns for example about a possible erroneous use of the <em class="markup--em markup--p-em">&amp;</em> operator instead of <em class="markup--em markup--p-em">&amp;&amp;</em> in the expressions of <em class="markup--em markup--p-em">bool</em> type. There were found 5 such suspicious constructions. They all, in one way or another, require attention, although they may not contain errors. Here is an example of one of them:</p><figure name="61f6" id="61f6" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 550px; max-height: 182px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 33.1%;"></div><img class="graf-image" data-image-id="0*a8TlZxTW1GBQCUVc.png" data-width="550" data-height="182" src="https://cdn-images-1.medium.com/max/800/0*a8TlZxTW1GBQCUVc.png"></div></figure><p name="cae8" id="cae8" class="graf graf--p graf-after--figure">In this case, we cannot exactly state that using the “|” operator is a mistake, because in the right part of it is a property with complex logic inside which is checked. Perhaps the developer’s aim was to make the two conditions to be always checked.</p><p name="33e3" id="33e3" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Exceptions should not be explicitly rethrown</strong></p><p name="c4d6" id="c4d6" class="graf graf--p graf-after--p">The diagnostic about the loss of the exception stack. The analyzer issued 4 identical warnings:</p><figure name="b79a" id="b79a" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 428px; max-height: 214px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50%;"></div><img class="graf-image" data-image-id="0*omKF40Z8yHRzE8jZ.png" data-width="428" data-height="214" src="https://cdn-images-1.medium.com/max/800/0*omKF40Z8yHRzE8jZ.png"></div></figure><p name="3a7b" id="3a7b" class="graf graf--p graf-after--figure">Of course, we should not write like this. It would be hard to debug the application further on. However, all these warnings are not too critical. To my mind, they should go to the Minor section.</p><p name="4041" id="4041" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Variables should not be self-assigned</strong></p><p name="7438" id="7438" class="graf graf--p graf-after--p">3 warning about setting the value of the variable to itself. Here is an example of one of the detected code fragments:</p><figure name="ed3b" id="ed3b" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 366px; max-height: 159px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.4%;"></div><img class="graf-image" data-image-id="0*EW37Q2YLI1pXMMCA.png" data-width="366" data-height="159" src="https://cdn-images-1.medium.com/max/800/0*EW37Q2YLI1pXMMCA.png"></div></figure><p name="75cc" id="75cc" class="graf graf--p graf-after--figure">This code is strange and apparently erroneous. The declaration of <em class="markup--em markup--p-em">visitNode </em>is like this<em class="markup--em markup--p-em">:</em></p><pre name="c60b" id="c60b" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">protected</strong> <strong class="markup--strong markup--pre-strong">bool</strong> visitNode = true;</code></pre><p name="2205" id="2205" class="graf graf--p graf-after--pre">In total, there are two errors in this group of warnings.</p><p name="b512" id="b512" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Identical expressions should not be used on both sides of a binary operator</strong></p><p name="6efd" id="6efd" class="graf graf--p graf-after--p">The diagnostic searches for conditions, which have identical subexpressions. 2 suspicious constructs were detected. There is no evident error there, but perhaps the code should work and look differently. Here is an example of one of the warnings:</p><figure name="fa9c" id="fa9c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 417px; max-height: 136px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 32.6%;"></div><img class="graf-image" data-image-id="0*PSkTOPpCsS9bjutU.png" data-width="417" data-height="136" src="https://cdn-images-1.medium.com/max/800/0*PSkTOPpCsS9bjutU.png"></div></figure><p name="67b2" id="67b2" class="graf graf--p graf-after--figure">Strange code. Perhaps, a programmer forgot to replace the second check.</p><p name="abbe" id="abbe" class="graf graf--p graf--startsWithDoubleQuote graf-after--p"><strong class="markup--strong markup--p-strong">“ToString()” method should not return null</strong></p><p name="7718" id="7718" class="graf graf--p graf-after--p">This is the last group of warnings in the Major section. The overloading of the <em class="markup--em markup--p-em">ToString()</em> method is implemented incorrectly. 2 warnings are issued and both of them are errors. Here is an example of one of them:</p><figure name="aba6" id="aba6" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 448px; max-height: 301px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 67.2%;"></div><img class="graf-image" data-image-id="0*D6q7MLhYkckKx0Pi.png" data-width="448" data-height="301" src="https://cdn-images-1.medium.com/max/800/0*D6q7MLhYkckKx0Pi.png"></div></figure><p name="76e4" id="76e4" class="graf graf--p graf-after--figure">It’s incorrect to return <em class="markup--em markup--p-em">null</em> from the overloaded <em class="markup--em markup--p-em">ToString() </em>method.<em class="markup--em markup--p-em"> string.Empty</em> should be used instead.</p><h3 name="dea0" id="dea0" class="graf graf--h3 graf-after--p">Minor</h3><p name="8520" id="8520" class="graf graf--p graf-after--h3">There were 1822 warnings issued here. As this level is not a critical one, it is unlikely that I will find any really interesting bugs. Also, this level usually has a large percentage of false positives. That’s why I won’t be looking at the Minor level bugs in this article.</p><h3 name="c21c" id="c21c" class="graf graf--h3 graf-after--p">The results of the SonarC# check</h3><p name="9cb1" id="9cb1" class="graf graf--p graf-after--h3">To sum up, I should say that in general, the analyzer found real bugs on the Blocker, Critical and Major (I found 268 erroneous or extremely suspicious constructs per 1814 warnings); some of them were of real interest. Nevertheless, the percentage of false positives is still very high and is more than 85%. This greatly complicates the analysis of the results.</p><h3 name="8783" id="8783" class="graf graf--h3 graf-after--p">PVS-Studio plugin for SonarQube</h3><p name="0166" id="0166" class="graf graf--p graf-after--h3">A whole <a href="https://www.viva64.com/en/m/0037/" data-href="https://www.viva64.com/en/m/0037/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">documentation section</a> on our website is devoted to the integration of PVS-Studio analyzer report to SonarQube. It took me about 15 minutes to set up the integration “from scratch”. Another 15 minutes were spent on the project check and loading the results to the local server of SonarQube.</p><p name="b6a6" id="b6a6" class="graf graf--p graf-after--p">PVS-Studio issued 1039 warnings for PascalABC.NET code. Among them were: 156 warnings of the Critical level, 541 — Major and 342-Minor.</p><figure name="aab4" id="aab4" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 302px; max-height: 259px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 85.8%;"></div><img class="graf-image" data-image-id="0*e9QLwj8Gty3E0KNn.png" data-width="302" data-height="259" src="https://cdn-images-1.medium.com/max/800/0*e9QLwj8Gty3E0KNn.png"></div></figure><p name="4b6a" id="4b6a" class="graf graf--p graf-after--figure">We are not going to review the Minor level warnings, as the percentage of false positives is usually too high here.</p><p name="833e" id="833e" class="graf graf--p graf-after--p">The distribution of warnings on the Critical level:</p><figure name="db19" id="db19" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 284px; max-height: 745px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 262.3%;"></div><img class="graf-image" data-image-id="0*WE_isqKPMOPsiqfg.png" data-width="284" data-height="745" src="https://cdn-images-1.medium.com/max/800/0*WE_isqKPMOPsiqfg.png"></div></figure><p name="d242" id="d242" class="graf graf--p graf-after--figure">The distribution of warnings on the Major level:</p><figure name="e690" id="e690" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 284px; max-height: 745px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 262.3%;"></div><img class="graf-image" data-image-id="0*xlzSsOjl5rUX0Xud.png" data-width="284" data-height="745" src="https://cdn-images-1.medium.com/max/800/0*xlzSsOjl5rUX0Xud.png"></div></figure><p name="d939" id="d939" class="graf graf--p graf-after--figure">Having analyzed 697 warnings on the Critical and Major level, I found out that 204 warnings can be called false positives. This is 29% of the total number of warnings on the first and second severity level. Thus, the percentage of detecting real errors and suspicious constructs on the project PascalABC.NET is 71%. In terms of the number of code lines (KLOC), it is 0.66 errors per KLOC. Let us take a look at the most interesting of the detected errors. For convenience, I have sorted the errors by the number of the diagnostics in ascending order.</p><p name="e6ab" id="e6ab" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Copy-Paste</strong></p><p name="027b" id="027b" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3001/" data-href="https://www.viva64.com/en/w/v3001/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3001</a> There are identical sub-expressions ‘token.Kind == openBracketToken’ to the left and to the right of the ‘||’ operator. ICSharpCode.SharpDevelop NRefactoryInsightWindowHandler.cs 66</p><pre name="bd03" id="bd03" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">readonly <strong class="markup--strong markup--pre-strong">int</strong> eofToken,<br>             commaToken,<br>             openParensToken,<br>             closeParensToken,<br>             openBracketToken,<br>             closeBracketToken,<br>             openBracesToken,<br>             closeBracesToken,<br>             statementEndToken;</code></pre><pre name="0b91" id="0b91" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">InitializeOpenedInsightWindow</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (token.Kind == openParensToken || <br>      token.Kind == openBracketToken ||<br>      token.Kind == openBracketToken) {  // &lt;=<br>    bracketCount++;<br>  }<br>  ....<br>}</code></pre><p name="2abd" id="2abd" class="graf graf--p graf-after--pre">In the condition of the <em class="markup--em markup--p-em">if</em> block, the equation <em class="markup--em markup--p-em">token.Kind == openBracketToken </em>is checked twice. You may find a field with a very similar name <em class="markup--em markup--p-em">openBracesToken </em>among the fields declared in the class. Perhaps this field was skipped in the condition. In this case, a correct variant will be like this:</p><pre name="3d1e" id="3d1e" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">InitializeOpenedInsightWindow</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (token.Kind == openParensToken || <br>      token.Kind == openBracketToken ||<br>      token.Kind == openBracesToken) {<br>    bracketCount++;<br>  }<br>  ....<br>}</code></pre><p name="74a2" id="74a2" class="graf graf--p graf-after--pre">Similar errors in the code:</p><ul class="postList"><li name="9768" id="9768" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3001/" data-href="https://www.viva64.com/en/w/v3001/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3001</a> There are identical sub-expressions ‘File.Exists(pdbFileName)’ to the left and to the right of the ‘&amp;&amp;’ operator. VisualPascalABCNET RunnerManagerHandlers.cs 165</li><li name="7890" id="7890" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3001/" data-href="https://www.viva64.com/en/w/v3001/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3001</a> There are identical sub-expressions ‘_pascal_set_constant.values != null’ to the left and to the right of the ‘&amp;&amp;’ operator. TreeConverter syntax_tree_visitor.cs 4553</li></ul><p name="e0b8" id="e0b8" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Inadvertence</strong></p><p name="89c4" id="89c4" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3003/" data-href="https://www.viva64.com/en/w/v3003/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3003</a> The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 597, 631. ParserTools SyntaxTreeComparer.cs 597</p><pre name="ad94" id="ad94" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">CompareInternal</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (left is ident)<br>    CompareInternal(left as ident, right as ident);<br>  ....<br>  <strong class="markup--strong markup--pre-strong">else</strong> <strong class="markup--strong markup--pre-strong">if</strong> (left is int64_const)<br>    CompareInternal(left as int64_const, right as int64_const);<br>  ....<br>  <strong class="markup--strong markup--pre-strong">else</strong> <strong class="markup--strong markup--pre-strong">if</strong> (left is int64_const)<br>    CompareInternal(left as int64_const, right as int64_const);  <br>  ....<br>}</code></pre><p name="3607" id="3607" class="graf graf--p graf-after--pre">The code fragment really contains about 30 similar checks, two of which are completely identical. Perhaps, there is no mistake here, the code was just carelessly copied. But one of the checks, according to the initial plan of the developer, could look different. In this situation we deal with a serious logic error.</p><p name="4c93" id="4c93" class="graf graf--p graf-after--p">Similar errors:</p><ul class="postList"><li name="8262" id="8262" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3003/" data-href="https://www.viva64.com/en/w/v3003/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3003</a> The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 1599, 1611. ParserTools SyntaxTreeComparer.cs 1599</li><li name="b853" id="b853" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3003/" data-href="https://www.viva64.com/en/w/v3003/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3003</a> The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 1611, 1615. ParserTools SyntaxTreeComparer.cs 1611</li><li name="7bad" id="7bad" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3003/" data-href="https://www.viva64.com/en/w/v3003/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3003</a> The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 103, 209. SyntaxVisitors SimplePrettyPrinterVisitor.cs 103</li></ul><p name="1957" id="1957" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Copy-Paste v2.0</strong></p><p name="4a89" id="4a89" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. VisualPascalABCNET CodeCompletionWindow.cs 204</p><pre name="1362" id="1362" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">HandleMouseWheel</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (System.Windows.Forms.SystemInformation.MouseWheelScrollLines<br>      &gt; 0) {<br>    newValue = <strong class="markup--strong markup--pre-strong">this</strong>.vScrollBar.Value -<br>      (control.TextEditorProperties.MouseWheelScrollDown ? 1 : -1) *<br>      multiplier;<br>  } <strong class="markup--strong markup--pre-strong">else</strong> {<br>    newValue = <strong class="markup--strong markup--pre-strong">this</strong>.vScrollBar.Value -<br>      (control.TextEditorProperties.MouseWheelScrollDown ? 1 : -1) *<br>      multiplier;<br>  }<br>  ....<br>}</code></pre><p name="8d1c" id="8d1c" class="graf graf--p graf-after--pre">Both branches of the <em class="markup--em markup--p-em">if</em> block have identical subexpressions. In this case, it is difficult to draw a conclusion about the correct version of the fragment, but in the current state the code will not work as expected.</p><p name="4476" id="4476" class="graf graf--p graf-after--p">Such errors in the code:</p><ul class="postList"><li name="69ba" id="69ba" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 439</li><li name="5bd1" id="5bd1" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 2338</li><li name="f62e" id="f62e" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 4062</li><li name="c32d" id="c32d" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 5971</li><li name="dac6" id="dac6" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 6069</li><li name="eef5" id="eef5" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. CodeCompletion CodeFormatter.cs 1254</li><li name="5567" id="5567" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. CodeCompletion DomConverter.cs 428</li><li name="2eca" id="2eca" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. TreeConverter type_table.cs 380</li><li name="ca31" id="ca31" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. TreeConverter type_table.cs 401</li><li name="9010" id="9010" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3004/" data-href="https://www.viva64.com/en/w/v3004/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3004</a> The ‘then’ statement is equivalent to the ‘else’ statement. TreeConverter type_table.cs 424</li></ul><p name="7112" id="7112" class="graf graf--p graf-after--li">I have cited only 10 bugs of this kind out of 20.</p><p name="cb6f" id="cb6f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">A variable is assigned to itself</strong></p><p name="27c8" id="27c8" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3005/" data-href="https://www.viva64.com/en/w/v3005/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3005</a> The ‘miGenerateRealization.Visible’ variable is assigned to itself. VisualPascalABCNET OptionsManager.cs 342</p><pre name="1161" id="1161" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">UpdateUserOptions</strong>()<br>{<br>  ....<br>  tsViewIntellisensePanel.Visible = tssmIntellisence.Visible = <br>  tsGotoDefinition.Visible = tsGotoRealization.Visible =<br>  tsFindAllReferences.Visible = miGenerateRealization.Visible =<br>  miGenerateRealization.Visible = cmGenerateRealization.Visible =<br>  cmsCodeCompletion.Visible = cmFindAllReferences.Visible = <br>  cmGotoDefinition.Visible = cmGotoRealization.Visible = <br>  UserOptions.AllowCodeCompletion;<br>}</code></pre><p name="22d2" id="22d2" class="graf graf--p graf-after--pre">The variable <em class="markup--em markup--p-em">miGenerateRealization.Visible </em>receives the same value twice during the assignment. Probably, the unnecessary assignment was added by accident. However, instead of one of the <em class="markup--em markup--p-em">miGenerateRealization.Visible </em>variables, there could be some other variable that is now not initialized.</p><p name="aced" id="aced" class="graf graf--p graf-after--p">Here is another similar error.</p><p name="51fd" id="51fd" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3005/" data-href="https://www.viva64.com/en/w/v3005/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3005</a> The ‘visitNode’ variable is assigned to itself. SyntaxVisitors SimplePrettyPrinterVisitor.cs 106</p><p name="4ec7" id="4ec7" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Repeated assignment</strong></p><p name="6e1f" id="6e1f" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3008/" data-href="https://www.viva64.com/en/w/v3008/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3008</a> The ‘codeCompileUnit’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 126, 124. VisualPascalABCNET CodeDomHostLoader.cs 126</p><pre name="b066" id="b066" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">CodeCompileUnit codeCompileUnit = null;<br><strong class="markup--strong markup--pre-strong">private</strong> DesignSurface Designer;<br>....<br><strong class="markup--strong markup--pre-strong">protected</strong> override CodeCompileUnit <strong class="markup--strong markup--pre-strong">Parse</strong>()<br>{<br>  ....<br>  CodeCompileUnit ccu = null;<br>  DesignSurface ds = <strong class="markup--strong markup--pre-strong">new</strong> DesignSurface();<br>  ....<br>  ccu = cg.GetCodeCompileUnit(idh);<br>  ....<br>  codeCompileUnit = ccu;<br>  Designer = ds;<br>  codeCompileUnit = ccu;  // &lt;=<br>  ....<br>}</code></pre><p name="919b" id="919b" class="graf graf--p graf-after--pre">You can see in the code that there is no logical explanation of the repeated assignment of the same value to the <em class="markup--em markup--p-em">codeCompileUnit </em>variable.</p><p name="0939" id="0939" class="graf graf--p graf-after--p">Such errors in the code:</p><ul class="postList"><li name="ec0b" id="ec0b" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3008/" data-href="https://www.viva64.com/en/w/v3008/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3008</a> The ‘mSTEPToolStripMenuItem_Enabled’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 541, 532. VisualPascalABCNET VisibilityService.cs 541</li><li name="d872" id="d872" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3008/" data-href="https://www.viva64.com/en/w/v3008/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3008</a> The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 62, 60. NETGenerator Helpers.cs 62</li><li name="9f41" id="9f41" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3008/" data-href="https://www.viva64.com/en/w/v3008/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3008</a> The ‘loc’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 2123, 2122. TreeConverter compilation_context.cs 2123</li><li name="a695" id="a695" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3008/" data-href="https://www.viva64.com/en/w/v3008/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3008</a> The ‘cnfn.function_code’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 260, 259. TreeConverter functions_calls.cs 260</li><li name="c89c" id="c89c" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3008/" data-href="https://www.viva64.com/en/w/v3008/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3008</a> The ‘namespace_func.function_code’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 267, 266. TreeConverter functions_calls.cs 267</li><li name="ba4d" id="ba4d" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3008/" data-href="https://www.viva64.com/en/w/v3008/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3008</a> The ‘ti.init_meth’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 1739, 1735. NETGenerator NETGenerator.cs 1739</li></ul><p name="4d25" id="4d25" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">The result of the method is always the same</strong></p><p name="d238" id="d238" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3009/" data-href="https://www.viva64.com/en/w/v3009/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3009</a> It’s odd that this method always returns one and the same value of ‘false’. NETGenerator NETGenerator.cs 5434</p><pre name="660c" id="660c" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">private</strong> <strong class="markup--strong markup--pre-strong">bool</strong> <strong class="markup--strong markup--pre-strong">BeginOnForNode</strong>(IStatementNode value)<br>{<br>    //if (value is IForNode) return true;<br>    IStatementsListNode stats = value as IStatementsListNode;<br>    <strong class="markup--strong markup--pre-strong">if</strong> (stats == null) <strong class="markup--strong markup--pre-strong">return</strong> false;<br>    <strong class="markup--strong markup--pre-strong">if</strong> (stats.statements.Length == 0) <strong class="markup--strong markup--pre-strong">return</strong> false;<br>    //if (stats.statements[0] is IForNode) return true;<br>    <strong class="markup--strong markup--pre-strong">return</strong> false;<br>}</code></pre><p name="a7f6" id="a7f6" class="graf graf--p graf-after--pre">Probably, this issue was caused by inattention during the refactoring. Previously there were code blocks that returned <em class="markup--em markup--p-em">true. </em>Now they are commented out, and the method, regardless of the result of its work, will return <em class="markup--em markup--p-em">false</em>.</p><p name="ebeb" id="ebeb" class="graf graf--p graf-after--p">Similar errors in the code:</p><ul class="postList"><li name="90c8" id="90c8" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3009/" data-href="https://www.viva64.com/en/w/v3009/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3009</a> It’s odd that this method always returns one and the same value of ‘0’. PABCNETC CommandConsoleCompiler.cs 297</li><li name="9741" id="9741" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3009/" data-href="https://www.viva64.com/en/w/v3009/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3009</a> It’s odd that this method always returns one and the same value of ‘0’. PABCNETCclear CommandConsoleCompiler.cs 266</li></ul><p name="f5ce" id="f5ce" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Inattention</strong></p><p name="98c1" id="98c1" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3010/" data-href="https://www.viva64.com/en/w/v3010/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3010</a> The return value of function ‘OrderBy’ is required to be utilized. ICSharpCode.SharpDevelop RefactoringService.cs 86</p><pre name="32c0" id="32c0" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">static</strong> IEnumerable&lt;ITreeNode&lt;IClass&gt;&gt; FindDerivedClassesTree(....)<br>{<br>  ....<br>  var result = <strong class="markup--strong markup--pre-strong">new</strong> List&lt;TreeNode&lt;IClass&gt;&gt;();<br>  ....<br>  result.OrderBy(node =&gt; node.Content.FullyQualifiedName);  // &lt;=<br>  <strong class="markup--strong markup--pre-strong">return</strong> result;<br>}</code></pre><p name="6010" id="6010" class="graf graf--p graf-after--pre">The result of sorting the <em class="markup--em markup--p-em">result</em> list is not stored anywhere. The corrected version of the fragment given above:</p><pre name="029f" id="029f" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">static</strong> IEnumerable&lt;ITreeNode&lt;IClass&gt;&gt; FindDerivedClassesTree(....)<br>{<br>  ....<br>  var result = <strong class="markup--strong markup--pre-strong">new</strong> List&lt;TreeNode&lt;IClass&gt;&gt;();<br>  ....<br>  <strong class="markup--strong markup--pre-strong">return</strong> result.OrderBy(node =&gt; node.Content.FullyQualifiedName);<br>}</code></pre><p name="5b34" id="5b34" class="graf graf--p graf-after--pre">One more similar bug:</p><p name="a75e" id="a75e" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3010/" data-href="https://www.viva64.com/en/w/v3010/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3010</a> The return value of function ‘ToString’ is required to be utilized. CodeCompletion SymTable.cs 2145</p><p name="6b96" id="6b96" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">A logic problem</strong></p><p name="adb4" id="adb4" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3018/" data-href="https://www.viva64.com/en/w/v3018/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3018</a> Consider inspecting the application’s logic. It’s possible that ‘else’ keyword is missing. VisualPascalABCNET InsightWindow.cs 145</p><pre name="b3a9" id="b3a9" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">HandleMouseWheel</strong>(MouseEventArgs e)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (e.Delta &gt; 0) {<br>    <strong class="markup--strong markup--pre-strong">if</strong> (control.TextEditorProperties.MouseWheelScrollDown) {<br>      CurrentData = (CurrentData + 1) % DataProvider.InsightDataCount;<br>    } <strong class="markup--strong markup--pre-strong">else</strong> {<br>      CurrentData = (CurrentData + DataProvider.InsightDataCount - 1)<br>        % DataProvider.InsightDataCount;<br>    }<br>  } <strong class="markup--strong markup--pre-strong">if</strong> (e.Delta &lt; 0) {  // &lt;=<br>      <strong class="markup--strong markup--pre-strong">if</strong> (control.TextEditorProperties.MouseWheelScrollDown) {<br>        CurrentData = (CurrentData + DataProvider.InsightDataCount<br>          - 1) % DataProvider.InsightDataCount;<br>      } <strong class="markup--strong markup--pre-strong">else</strong> {<br>        CurrentData = (CurrentData + 1) %<br>          DataProvider.InsightDataCount;<br>      }<br>  }<br>  ....<br>}</code></pre><p name="87cf" id="87cf" class="graf graf--p graf-after--pre">Pay attention to the condition <em class="markup--em markup--p-em">f (e.Delta &lt; 0)</em>. Looking at the formatting of the code and the program logic, we may say that perhaps the keyword <em class="markup--em markup--p-em">else</em> is missing here. However, only the author can give an exact answer about the specifics of this construction.</p><p name="6648" id="6648" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">A classic error when working with the “as” operator</strong></p><p name="6295" id="6295" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘baseScope’, ‘this.baseScope’. CodeCompletion SymTable.cs 3497</p><pre name="12b1" id="12b1" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">TypeScope</strong>(...., SymScope baseScope)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">this</strong>.baseScope = baseScope as TypeScope;<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (baseScope == null)<br>  {<br>    ....<br>  }<br>  ....<br>}</code></pre><p name="05d4" id="05d4" class="graf graf--p graf-after--pre">After casting the <em class="markup--em markup--p-em">baseScope </em>argument to the <em class="markup--em markup--p-em">TypeScope, </em>by mistake this argument gets verified against <em class="markup--em markup--p-em">null, </em>not the field <em class="markup--em markup--p-em">this.baseScope.</em> Correct variant of the code:</p><pre name="9521" id="9521" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">TypeScope</strong>(...., SymScope baseScope)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">this</strong>.baseScope = baseScope as TypeScope;<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (<strong class="markup--strong markup--pre-strong">this</strong>.baseScope == null)<br>  {<br>    ....<br>  }<br>  ....<br>}</code></pre><p name="3e4f" id="3e4f" class="graf graf--p graf-after--pre">Similar errors in the code:</p><ul class="postList"><li name="5300" id="5300" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘ts’. CodeCompletion ExpressionVisitor.cs 1595</li><li name="2e9a" id="2e9a" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘tmp_scope’. CodeCompletion DomSyntaxTreeVisitor.cs 1553</li><li name="7cff" id="7cff" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘ts.elementType’. CodeCompletion DomSyntaxTreeVisitor.cs 2815</li><li name="d335" id="d335" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘es.elementType’. CodeCompletion DomSyntaxTreeVisitor.cs 2828</li><li name="eb10" id="eb10" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 21</li><li name="839b" id="839b" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 91</li><li name="dc71" id="dc71" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 115</li><li name="eeaf" id="eeaf" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 138</li><li name="7378" id="7378" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3019/" data-href="https://www.viva64.com/en/w/v3019/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3019</a> Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘rr’, ‘mrr’. ICSharpCode.SharpDevelop RefactoringService.cs 330</li></ul><p name="0d47" id="0d47" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Sloppy code</strong></p><p name="78c5" id="78c5" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘t == null’ is always true. VisualPascalABCNET Debugger.cs 141</p><pre name="2b09" id="2b09" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">static</strong> Type <strong class="markup--strong markup--pre-strong">GetTypeForStatic</strong>(string name)<br>{<br>  Type t = stand_types[name] as Type;<br>  <strong class="markup--strong markup--pre-strong">if</strong> (t != null) <strong class="markup--strong markup--pre-strong">return</strong> t;<br>  <strong class="markup--strong markup--pre-strong">if</strong> (t == null)  //  &lt;=<br>    foreach (string s in ns_ht.Keys)<br>    {<br>      ....<br>    }<br>  t = PascalABCCompiler.NetHelper.NetHelper.FindType(name);<br>  ....<br>}</code></pre><p name="72ef" id="72ef" class="graf graf--p graf-after--pre">There is no error here, but the program looks very uncareful.</p><p name="28f2" id="28f2" class="graf graf--p graf-after--p">Similar constructions in the code:</p><ul class="postList"><li name="8bf5" id="8bf5" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 91</li><li name="ef49" id="ef49" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 114</li><li name="d7e9" id="d7e9" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 136</li><li name="70c3" id="70c3" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 183</li><li name="0cb3" id="0cb3" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘defaultCompletionElement == null &amp;&amp; data != null’ is always false. VisualPascalABCNET CodeCompletionProvider.cs 507</li><li name="71e0" id="71e0" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘inRecalculateNeedsRedraw’ is always false. VisualPascalABCNET DynamicTreeView.cs 1103</li><li name="21ed" id="21ed" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘expressionResult != null &amp;&amp; expressionResult != “”’ is always false. VisualPascalABCNET CodeCompletionActions.cs 225</li><li name="8d69" id="8d69" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘SaveCanceled’ is always false. VisualPascalABCNET FileOperations.cs 442</li><li name="d100" id="d100" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘!SaveCanceled’ is always true. VisualPascalABCNET FileOperations.cs 450</li><li name="4cf1" id="4cf1" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3022/" data-href="https://www.viva64.com/en/w/v3022/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3022</a> Expression ‘_format_expr.format2 != null’ is always true. VisualPascalABCNET ExpressionEvaluation.cs 7028</li></ul><p name="2bad" id="2bad" class="graf graf--p graf-after--li">I’ve given only the first 10 warnings out of the list of 45.</p><p name="69b2" id="69b2" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Redundant check or an error?</strong></p><p name="3e75" id="3e75" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3030/" data-href="https://www.viva64.com/en/w/v3030/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3030</a> Recurring check. The ‘upperScopeWhereVarsAreCaptured != scope’ condition was already verified in line 383. TreeConverter CapturedVariablesSubstitutionClassGenerator.cs 391</p><pre name="048b" id="048b" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">private</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">VisitCapturedVar</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (upperScopeWhereVarsAreCaptured != scope)<br>  {<br>  ....<br>    <strong class="markup--strong markup--pre-strong">if</strong> (upperScopeWhereVarsAreCaptured != scope)<br>    {<br>      ....<br>    }<br>    ....<br>  }<br>  ....    <br>}</code></pre><p name="0aa3" id="0aa3" class="graf graf--p graf-after--pre">Typically, such constructions are not error, but there is a chance that one of the checks was to contain a different condition.</p><p name="ff0d" id="ff0d" class="graf graf--p graf-after--p">Similar errors in the code:</p><ul class="postList"><li name="082b" id="082b" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3030/" data-href="https://www.viva64.com/en/w/v3030/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3030</a> Recurring check. The ‘kav.Count == 0’ condition was already verified in line 2515. ParserTools DefaultLanguageInformation.cs 2518</li><li name="588d" id="588d" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3030/" data-href="https://www.viva64.com/en/w/v3030/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3030</a> Recurring check. The ‘ret_tn != null’ condition was already verified in line 289. CodeCompletion FindReferences.cs 291</li><li name="8d43" id="8d43" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3030/" data-href="https://www.viva64.com/en/w/v3030/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3030</a> Recurring check. The ‘kav.Count == 0’ condition was already verified in line 885. VBNETParser LanguageInformation.cs 888</li></ul><p name="4195" id="4195" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Strange formatting</strong></p><p name="2710" id="2710" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3033/" data-href="https://www.viva64.com/en/w/v3033/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3033</a> It is possible that this ‘else’ branch must apply to the previous ‘if’ statement. TreeConverter syntax_tree_visitor.cs 14894</p><pre name="57cd" id="57cd" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> override <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">visit</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (_var_def_statement.inital_value != null)<br>    <strong class="markup--strong markup--pre-strong">if</strong> (is_event) AddError(....);<br>  <strong class="markup--strong markup--pre-strong">else</strong><br>  {<br>    ....<br>  }<br>  ....<br>}</code></pre><p name="3816" id="3816" class="graf graf--p graf-after--pre">According to the logic of the program, the <em class="markup--em markup--p-em">else</em> keyword refers to the <em class="markup--em markup--p-em">if (is_event) </em>condition block. However, the code is formatted in such a way that creates quite a different impression. Perhaps, another pair of <em class="markup--em markup--p-em">{} </em>brackets would solve this problem.</p><p name="ab00" id="ab00" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">A typo</strong></p><p name="0d8a" id="0d8a" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3038/" data-href="https://www.viva64.com/en/w/v3038/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3038</a> The ‘enum_consts[i]’ argument was passed to ‘Compare’ method several times. It is possible that other argument should be passed instead. CodeCompletion SymTable.cs 2206</p><pre name="b22c" id="b22c" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">private</strong> List&lt;string&gt; enum_consts = <strong class="markup--strong markup--pre-strong">new</strong> List&lt;string&gt;();<br><strong class="markup--strong markup--pre-strong">public</strong> override <strong class="markup--strong markup--pre-strong">bool</strong> <strong class="markup--strong markup--pre-strong">IsEqual</strong>(SymScope ts)<br>{<br>  EnumScope es = ts as EnumScope;<br>  <strong class="markup--strong markup--pre-strong">if</strong> (es == null) <strong class="markup--strong markup--pre-strong">return</strong> false;<br>  <strong class="markup--strong markup--pre-strong">if</strong> (enum_consts.Count != es.enum_consts.Count) <strong class="markup--strong markup--pre-strong">return</strong> false;<br>  <strong class="markup--strong markup--pre-strong">for</strong> (<strong class="markup--strong markup--pre-strong">int</strong> i = 0; i &lt; es.enum_consts.Count; i++)<br>    <strong class="markup--strong markup--pre-strong">if</strong> (string.Compare(enum_consts[i],<br>                       <strong class="markup--strong markup--pre-strong">this</strong>.enum_consts[i], true) != 0)  // &lt;=<br>      <strong class="markup--strong markup--pre-strong">return</strong> false;<br>  <strong class="markup--strong markup--pre-strong">return</strong> true;<br>}</code></pre><p name="b7d4" id="b7d4" class="graf graf--p graf-after--pre">Unfortunately, the <em class="markup--em markup--p-em">IsEqual </em>method doesn’t have the declaration of the local variable <em class="markup--em markup--p-em">enum_consts</em>. That’s why the elements of the <em class="markup--em markup--p-em">enum_consts</em> inside the <em class="markup--em markup--p-em">for</em> loop are compared with themselves. Judging by the way<em class="markup--em markup--p-em"> IsEqual </em>method looks, we can make an assumption about the correct variant of the code:</p><pre name="6128" id="6128" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> override <strong class="markup--strong markup--pre-strong">bool</strong> <strong class="markup--strong markup--pre-strong">IsEqual</strong>(SymScope ts)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">for</strong> (<strong class="markup--strong markup--pre-strong">int</strong> i = 0; i &lt; es.enum_consts.Count; i++)<br>    <strong class="markup--strong markup--pre-strong">if</strong> (string.Compare(enum_consts[i],<br>                       es.enum_consts[i], true) != 0)<br>    ....<br>}</code></pre><p name="fbf9" id="fbf9" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">The problem with the logic v2.0</strong></p><p name="bf10" id="bf10" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3043/" data-href="https://www.viva64.com/en/w/v3043/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3043</a> The code’s operational logic does not correspond with its formatting. The statement is indented to the right, but it is always executed. It is possible that curly brackets are missing. VBNETParser LanguageInformation.cs 1002</p><pre name="3709" id="3709" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> override string <strong class="markup--strong markup--pre-strong">FindExpression</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">switch</strong> (ch)<br>  {<br>    ....<br>    <strong class="markup--strong markup--pre-strong">case</strong> &#39;(&#39;:<br>      <strong class="markup--strong markup--pre-strong">if</strong> (kav.Count == 0)<br>      {<br>        ....<br>      }<br>      <strong class="markup--strong markup--pre-strong">else</strong> sb.Insert(0, ch); punkt_sym = true;<br>      <strong class="markup--strong markup--pre-strong">break</strong>;<br>  }<br>  ....<br>}</code></pre><p name="774f" id="774f" class="graf graf--p graf-after--pre">The assignment <em class="markup--em markup--p-em">punkt_sym = true </em>will be executed regardless of the result of the check <em class="markup--em markup--p-em">kav.Count == 0</em>. However, the code formatted in such a way that we have an impression that this will be done only upon the condition <em class="markup--em markup--p-em">kav.Count != 0</em>.</p><p name="d2da" id="d2da" class="graf graf--p graf-after--p">Another similar error:</p><p name="7896" id="7896" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3043/" data-href="https://www.viva64.com/en/w/v3043/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3043</a> The code’s operational logic does not correspond with its formatting. The statement is indented to the right, but it is always executed. It is possible that curly brackets are missing. ICSharpCode.SharpDevelop AbstractConsolePad.cs 159</p><p name="d568" id="d568" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">A loss of an exception stack</strong></p><p name="093a" id="093a" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3052/" data-href="https://www.viva64.com/en/w/v3052/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3052</a> The original exception object ‘e’ was swallowed. Stack of original exception could be lost. NETGenerator NETGenerator.cs 925</p><pre name="3252" id="3252" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">ConvertFromTree</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">try</strong><br>  {<br>    ....<br>  }<br>  <strong class="markup--strong markup--pre-strong">catch</strong> (System.Runtime.InteropServices.COMException e)<br>  {<br>    <strong class="markup--strong markup--pre-strong">throw</strong> <strong class="markup--strong markup--pre-strong">new</strong> TreeConverter.SaveAssemblyError(e.Message);<br>  }<br>  ....<br>}</code></pre><p name="afc3" id="afc3" class="graf graf--p graf-after--pre">From the object of the thrown exception of the <em class="markup--em markup--p-em">COMException </em>type, the developer uses only the text of the message. Apparently, this is a deliberate action, because further on, an exception of the <em class="markup--em markup--p-em">SaveAssemblyError </em>type is thrown, whose constructor doesn’t require anything besides the text of the message:</p><pre name="7ad4" id="7ad4" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">class</strong> SaveAssemblyError : CompilationError<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">SaveAssemblyError</strong>(string text)<br>  {<br>    _text = text;<br>  }<br>  ....<br>}</code></pre><p name="c115" id="c115" class="graf graf--p graf-after--pre">Of course, it is a right of the author to implement in such a way. However, the exception handling in this case doesn’t look complete.</p><p name="0acf" id="0acf" class="graf graf--p graf-after--p">Similar errors in the code:</p><ul class="postList"><li name="2589" id="2589" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3052/" data-href="https://www.viva64.com/en/w/v3052/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3052</a> The original exception object ‘e’ was swallowed. Stack of original exception could be lost. NETGenerator NETGenerator.cs 929</li><li name="64f0" id="64f0" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3052/" data-href="https://www.viva64.com/en/w/v3052/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3052</a> The original exception object ‘ex’ was swallowed. Stack of original exception could be lost. ICSharpCode.SharpDevelop ReferenceFolderNodeCommands.cs 92</li><li name="0a96" id="0a96" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3052/" data-href="https://www.viva64.com/en/w/v3052/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3052</a> The original exception object ‘ex’ was swallowed. Stack of original exception could be lost. TreeConverter syntax_tree_visitor.cs 16324</li></ul><p name="2b1d" id="2b1d" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Substring handling error</strong></p><p name="b6ce" id="b6ce" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3053/" data-href="https://www.viva64.com/en/w/v3053/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3053</a> An excessive expression. Examine the substrings ‘reduction’ and ‘reduction(‘. TreeConverter OpenMP.cs 267</p><pre name="10e1" id="10e1" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">private</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">ProcessClauses</strong>(string Text, ....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (....)<br>  {<br>    ....<br>  }<br>  <strong class="markup--strong markup--pre-strong">else</strong> <strong class="markup--strong markup--pre-strong">if</strong> (AllowReduction &amp;&amp; <br>          (Text.StartsWith(&quot;reduction&quot;) ||<br>           Text.StartsWith(&quot;reduction(&quot;)))<br>  {<br>    ....<br>  }<br>  ....<br>}</code></pre><p name="08f6" id="08f6" class="graf graf--p graf-after--pre">In this case the search of the “<em class="markup--em markup--p-em">reduction(</em>“ substring is meaningless, because earlier there will always be a “reduction” substring found.</p><p name="360f" id="360f" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Erroneous initialization order</strong></p><p name="3643" id="3643" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3070/" data-href="https://www.viva64.com/en/w/v3070/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3070</a> Uninitialized variable ‘event_add_method_prefix’ is used when initializing the ‘event_add_method_nameformat’ variable. TreeConverter compiler_string_consts.cs 313</p><pre name="6953" id="6953" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">static</strong> <strong class="markup--strong markup--pre-strong">class</strong> compiler_string_consts<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">static</strong> string event_add_method_nameformat =<br>         event_add_method_prefix + &quot;{0}&quot;;<br>  ....<br>  <strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">static</strong> string event_add_method_prefix = &quot;add_&quot;;<br>  ....<br>}</code></pre><p name="c880" id="c880" class="graf graf--p graf-after--pre">The string <em class="markup--em markup--p-em">event_add_method_nameformat </em>will get<em class="markup--em markup--p-em"> “{0}” </em>value instead of the expected <em class="markup--em markup--p-em">“add_{0}” </em>in the result of the code fragment execution. To fix this, we should switch places of the field initialization strings:</p><pre name="124a" id="124a" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">static</strong> <strong class="markup--strong markup--pre-strong">class</strong> compiler_string_consts<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">static</strong> string event_add_method_prefix = &quot;add_&quot;;<br>  ....<br>  <strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">static</strong> string event_add_method_nameformat =<br>         event_add_method_prefix + &quot;{0}&quot;;<br>  ....<br>}</code></pre><p name="3a5c" id="3a5c" class="graf graf--p graf-after--pre">Another similar error:</p><p name="9d3f" id="9d3f" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3070/" data-href="https://www.viva64.com/en/w/v3070/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3070</a> Uninitialized variable ‘event_remove_method_prefix’ is used when initializing the ‘event_remove_method_nameformat’ variable. TreeConverter compiler_string_consts.cs 314</p><p name="acaf" id="acaf" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Access by null reference: sloppy refactoring</strong></p><p name="c625" id="c625" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘tc’. CodeCompletion CodeCompletionPCUReader.cs 736</p><pre name="6e9f" id="6e9f" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">private</strong> TypeScope <strong class="markup--strong markup--pre-strong">GetTemplateInstance</strong>()<br>{<br>  TypeScope tc = null;//GetTemplateClassReference();<br>  <strong class="markup--strong markup--pre-strong">int</strong> params_count = br.ReadInt32();<br>  <strong class="markup--strong markup--pre-strong">for</strong> (<strong class="markup--strong markup--pre-strong">int</strong> i = 0; i &lt; params_count; i++)<br>  {<br>    tc.AddGenericInstanciation(GetTypeReference());  // &lt;=<br>  }<br>  <strong class="markup--strong markup--pre-strong">return</strong> tc;<br>}</code></pre><p name="15c9" id="15c9" class="graf graf--p graf-after--pre">As we see, previously, the variable <em class="markup--em markup--p-em">tc </em>is initialized with the value <em class="markup--em markup--p-em">GetTemplateClassReference()</em>. However, now it is <em class="markup--em markup--p-em">null</em>. As a result, on the first iteration of the <em class="markup--em markup--p-em">for</em> loop we will get the error of the access by the null reference. Perhaps, the error hasn’t revealed itself yet, as the calls of the method <em class="markup--em markup--p-em">GetTemplateInstance() </em>are absent in the code. There is no guarantee, that in the future it will be the same.</p><p name="4122" id="4122" class="graf graf--p graf-after--p">Similar errors in the code:</p><ul class="postList"><li name="2c0e" id="2c0e" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7334</li><li name="05a8" id="05a8" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7336</li><li name="cafc" id="cafc" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7338</li><li name="4563" id="4563" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7340</li><li name="3ecb" id="3ecb" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7409</li><li name="5821" id="5821" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7411</li><li name="6137" id="6137" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7413</li><li name="4d02" id="4d02" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3080/" data-href="https://www.viva64.com/en/w/v3080/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3080</a> Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7415</li></ul><p name="aaac" id="aaac" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Access by the null reference: inattentiveness</strong></p><p name="ae2a" id="ae2a" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘VisualEnvironmentCompiler.RemoteCompiler’ object was used before it was verified against null. Check lines: 52, 54. CompilerController CompilerControllerPlugin.cs 52</p><pre name="1a96" id="1a96" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">CompilerController_VisualPascalABCPlugin</strong>(....)<br>{<br>  ....<br>  VisualEnvironmentCompiler.RemoteCompiler.InternalDebug.RunOnMono = <br>    CompilerInformation.cbRunMono.Checked;<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (VisualEnvironmentCompiler.RemoteCompiler != null)<br>    ....<br>}</code></pre><p name="a25b" id="a25b" class="graf graf--p graf-after--pre">The verification of the variable against <em class="markup--em markup--p-em">null</em> is done after it was used. Correct variant of the code:</p><pre name="b1cb" id="b1cb" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">CompilerController_VisualPascalABCPlugin</strong>(....)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (VisualEnvironmentCompiler.RemoteCompiler != null)<br>  {<br>    VisualEnvironmentCompiler.RemoteCompiler.<br>    InternalDebug.RunOnMono = <br>      CompilerInformation.cbRunMono.Checked;<br>    ....<br>  }<br>}</code></pre><p name="5ba5" id="5ba5" class="graf graf--p graf-after--pre">Similar errors in the code:</p><ul class="postList"><li name="7e77" id="7e77" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘cun’ object was used before it was verified against null. Check lines: 400, 401. Compiler PCUReader.cs 400</li><li name="9b11" id="9b11" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘cnfn.ConnectedToType.element_type’ object was used before it was verified against null. Check lines: 2918, 2930. Compiler PCUReader.cs 2918</li><li name="2402" id="2402" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘_currentTreeNode’ object was used before it was verified against null. Check lines: 590, 593. TreeConverter CapturedVariablesTreeBuilder.cs 590</li><li name="d5ef" id="d5ef" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘Units’ object was used before it was verified against null. Check lines: 3031, 3073. Compiler Compiler.cs 3031</li><li name="fbd1" id="fbd1" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘frm’ object was used before it was verified against null. Check lines: 2358, 2364. NETGenerator NETGenerator.cs 2358</li><li name="8eb3" id="8eb3" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘InitalValue’ object was used before it was verified against null. Check lines: 2915, 2918. NETGenerator NETGenerator.cs 2915</li><li name="c1a4" id="c1a4" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘InitalValue’ object was used before it was verified against null. Check lines: 2952, 2956. NETGenerator NETGenerator.cs 2952</li><li name="b846" id="b846" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘InitalValue’ object was used before it was verified against null. Check lines: 3005, 3009. NETGenerator NETGenerator.cs 3005</li><li name="34cc" id="34cc" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘InitalValue’ object was used before it was verified against null. Check lines: 3041, 3045. NETGenerator NETGenerator.cs 3041</li><li name="f491" id="f491" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3095/" data-href="https://www.viva64.com/en/w/v3095/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3095</a> The ‘InitalValue’ object was used before it was verified against null. Check lines: 3103, 3107. NETGenerator NETGenerator.cs 3103</li></ul><p name="a10a" id="a10a" class="graf graf--p graf-after--li">I have cited here the first 10 similar errors out of more than 40.</p><p name="f70d" id="f70d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Infinite recursion: x2</strong></p><p name="44a5" id="44a5" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3110/" data-href="https://www.viva64.com/en/w/v3110/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3110</a> Possible infinite recursion inside ‘SetRange’ method. TreeConverter SymbolInfoArrayList.cs 439</p><p name="37b7" id="37b7" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3110/" data-href="https://www.viva64.com/en/w/v3110/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3110</a> Possible infinite recursion inside ‘SetRange’ method. TreeConverter SymbolInfoArrayList.cs 444</p><pre name="6280" id="6280" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">SetRange</strong>(<strong class="markup--strong markup--pre-strong">int</strong> index,SymbolInfo[] tnarr)<br>{<br>  SetRange(index,tnarr);<br>}</code></pre><pre name="441c" id="441c" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">void</strong> <strong class="markup--strong markup--pre-strong">SetRange</strong>(<strong class="markup--strong markup--pre-strong">int</strong> index,SymbolInfoArrayList tnarl)<br>{<br>  SetRange(index,tnarl);<br>}</code></pre><p name="b691" id="b691" class="graf graf--p graf-after--pre">Here are two methods at once that implement an infinite recursion. Both methods are similar and differ only by the type of the second argument. They aren’t used anywhere in the code. At least, they aren’t used yet.</p><p name="5901" id="5901" class="graf graf--p graf-after--p">Similar errors in the code:</p><ul class="postList"><li name="6330" id="6330" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3110/" data-href="https://www.viva64.com/en/w/v3110/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3110</a> Possible infinite recursion inside ‘node_kind’ property. TreeConverter functions.cs 2528</li><li name="9b01" id="9b01" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3110/" data-href="https://www.viva64.com/en/w/v3110/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3110</a> Possible infinite recursion inside ‘node_location_kind’ property. TreeConverter functions.cs 2590</li><li name="af35" id="af35" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3110/" data-href="https://www.viva64.com/en/w/v3110/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3110</a> Possible infinite recursion inside ‘node_kind’ property. TreeConverter functions.cs 2693</li><li name="eab1" id="eab1" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3110/" data-href="https://www.viva64.com/en/w/v3110/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3110</a> Possible infinite recursion inside ‘node_location_kind’ property. TreeConverter functions.cs 2704</li><li name="6f57" id="6f57" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3110/" data-href="https://www.viva64.com/en/w/v3110/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3110</a> Possible infinite recursion inside ‘Instance’ property. ParserTools LanguageInformation.cs 549</li></ul><p name="7ff0" id="7ff0" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">Careless initialization of the Equals method</strong></p><p name="260d" id="260d" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3115/" data-href="https://www.viva64.com/en/w/v3115/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3115</a> Passing ‘null’ to ‘Equals’ method should not result in ‘NullReferenceException’. ICSharpCode.SharpDevelop ServiceReferenceMapFile.cs 31</p><pre name="fa63" id="fa63" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> override <strong class="markup--strong markup--pre-strong">bool</strong> <strong class="markup--strong markup--pre-strong">Equals</strong>(object obj)<br>{<br>  var rhs = obj as ServiceReferenceMapFile;<br>  <strong class="markup--strong markup--pre-strong">return</strong> FileName == rhs.FileName;  // &lt;=<br>}</code></pre><p name="e932" id="e932" class="graf graf--p graf-after--pre">The author of this code fragment was rather careless about the security issues in his work. At least one check against <em class="markup--em markup--p-em">null</em> of the <em class="markup--em markup--p-em">rhs</em> variable is missing after its initialization. To avoid doing extra work, it’s better to do a preliminary check of the <em class="markup--em markup--p-em">obj</em> variable against <em class="markup--em markup--p-em">null</em>:</p><pre name="13b4" id="13b4" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> override <strong class="markup--strong markup--pre-strong">bool</strong> <strong class="markup--strong markup--pre-strong">Equals</strong>(object obj)<br>{<br>  <strong class="markup--strong markup--pre-strong">if</strong> (obj == null || !(obj is ServiceReferenceMapFile))<br>    <strong class="markup--strong markup--pre-strong">return</strong> false;<br>  var rhs = obj as ServiceReferenceMapFile;<br>  <strong class="markup--strong markup--pre-strong">return</strong> FileName == rhs.FileName;<br>}</code></pre><p name="dd11" id="dd11" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">Insufficient number of checks</strong></p><p name="f116" id="f116" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘resources’ object was used after it was verified against null. Check lines: 215, 211. VisualPascalABCNET DesignerResourceService.cs 215</p><pre name="91e8" id="91e8" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> System.Resources.IResourceReader<br>  <strong class="markup--strong markup--pre-strong">GetResourceReader</strong>(System.Globalization.CultureInfo info)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (resources != null &amp;&amp; resources.ContainsKey(info.Name)) {<br>    resourceStorage = resources[info.Name];<br>  } <strong class="markup--strong markup--pre-strong">else</strong> {<br>    resourceStorage = <strong class="markup--strong markup--pre-strong">new</strong> ResourceStorage();<br>    resources[info.Name] = resourceStorage;  // &lt;=<br>  }<br>  ....<br>}</code></pre><p name="1257" id="1257" class="graf graf--p graf-after--pre">The variable <em class="markup--em markup--p-em">resources </em>is verified against <em class="markup--em markup--p-em">null, </em>but it’s not enough, because the <em class="markup--em markup--p-em">else</em> block doesn’t have such a check. In certain circumstances, this will inevitably lead to access by null reference. The code should be corrected:</p><pre name="20e8" id="20e8" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0"><strong class="markup--strong markup--pre-strong">public</strong> System.Resources.IResourceReader<br>  <strong class="markup--strong markup--pre-strong">GetResourceReader</strong>(System.Globalization.CultureInfo info)<br>{<br>  ....<br>  <strong class="markup--strong markup--pre-strong">if</strong> (resources != null) {<br>    <strong class="markup--strong markup--pre-strong">if</strong> (resources.ContainsKey(info.Name)) {<br>      resourceStorage = resources[info.Name];<br>    } <strong class="markup--strong markup--pre-strong">else</strong> {<br>      resourceStorage = <strong class="markup--strong markup--pre-strong">new</strong> ResourceStorage();<br>      resources[info.Name] = resourceStorage;<br>    }<br>  }<br>  ....<br>}</code></pre><p name="f326" id="f326" class="graf graf--p graf-after--pre">Similar errors in the code:</p><ul class="postList"><li name="4a11" id="4a11" class="graf graf--li graf-after--p"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘this._grid’ object was used after it was verified against null. Check lines: 751, 746. VisualPascalABCNET TreeGridNode.cs 751</li><li name="60a9" id="60a9" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘this._grid’ object was used after it was verified against null. Check lines: 774, 770. VisualPascalABCNET TreeGridNode.cs 774</li><li name="da06" id="da06" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘node.Parent’ object was used after it was verified against null. Check lines: 369, 350. VisualPascalABCNET TreeGridView.cs 369</li><li name="6cb8" id="6cb8" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘CurrentCodeFileDocument’ object was used after it was verified against null. Check lines: 395, 384. VisualPascalABCNET WindowOperations.cs 395</li><li name="351e" id="351e" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘value.main_function’ object was used after it was verified against null. Check lines: 948, 942. LanguageConverter Visitor.cs 948</li><li name="e403" id="e403" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘left.prim_val’ object was used after it was verified against null. Check lines: 4711, 4699. VisualPascalABCNET ExpressionEvaluation.cs 4711</li><li name="bbed" id="bbed" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘left.obj_val’ object was used after it was verified against null. Check lines: 4849, 4822. VisualPascalABCNET ExpressionEvaluation.cs 4849</li><li name="0751" id="0751" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘to’ object was used after it was verified against null. Check lines: 335, 327. TreeConverter CapturedVariablesTreeBuilder.cs 335</li><li name="efc8" id="efc8" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘dii_left’ object was used after it was verified against null. Check lines: 256, 254. TreeConverter LambdaHelper.cs 256</li><li name="0a57" id="0a57" class="graf graf--li graf-after--li"><a href="https://www.viva64.com/en/w/v3125/" data-href="https://www.viva64.com/en/w/v3125/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">V3125</a> The ‘t’ object was used after it was verified against null. Check lines: 23, 20. TreeConverter semantic_checks_for_sugar.cs 23</li></ul><p name="5fc0" id="5fc0" class="graf graf--p graf-after--li">I have provided only 10 similar errors out of more than 80 (eighty!).</p><p name="56ed" id="56ed" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Erroneous initialization order</strong></p><p name="6733" id="6733" class="graf graf--p graf-after--p"><a href="https://www.viva64.com/en/w/v3128/" data-href="https://www.viva64.com/en/w/v3128/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">V3128</a> The ‘dockPanel’ field is used before it is initialized in constructor. ICSharpCode.SharpDevelop SearchResultsPad.cs 49</p><pre name="ad02" id="ad02" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code u-paddingRight0 u-marginRight0">....<br>DockPanel dockPanel;<br>....<br><strong class="markup--strong markup--pre-strong">public</strong> <strong class="markup--strong markup--pre-strong">SearchResultsPad</strong>()<br>{<br>  ....<br>  defaultToolbarItems = ToolBarService.<br>    CreateToolBarItems(dockPanel, ....);  // &lt;=<br>  foreach (object toolBarItem in defaultToolbarItems) {<br>    toolBar.Items.Add(toolBarItem);<br>  }<br>  ....<br>  dockPanel = <strong class="markup--strong markup--pre-strong">new</strong> DockPanel {<br>    Children = { toolBar, contentPlaceholder }<br>  };<br>  ....<br>}</code></pre><p name="915c" id="915c" class="graf graf--p graf-after--pre">The field <em class="markup--em markup--p-em">dockPanel </em>is firstly used in the constructor <em class="markup--em markup--p-em">SearchResultsPad, </em>and then it is initialized. Even if in the method <em class="markup--em markup--p-em">CreateToolBarItems </em>or in the nested methods the first argument the equality to <em class="markup--em markup--p-em">null</em> is presupposed, the method will most probably return null.<em class="markup--em markup--p-em"> </em>This will lead to more errors when using the variable <em class="markup--em markup--p-em">defaultToolbarItems</em>.</p><h3 name="6d3a" id="6d3a" class="graf graf--h3 graf-after--p">Statistics</h3><p name="7eef" id="7eef" class="graf graf--p graf-after--h3">I see the overall picture as follows. The analyzers SonarC# and PVS-Studio solve different tasks. SonarC# is designed to assess and monitor the quality of the code. Therefore, it warns about the code “smells” and errors. PVS-Studio is focused on finding bugs or code fragments that may later lead to errors. Of course, there are some messages of these analyzers that are very similar, but they are designed for different needs:</p><ul class="postList"><li name="1733" id="1733" class="graf graf--li graf-after--p">SonarC# — is a regular multifactor analysis of metrics and warnings aimed to control the quality of the code;</li><li name="15dc" id="15dc" class="graf graf--li graf-after--li">PVS-Studio allows to start looking for errors at any time and thus improve the quality of the code.</li></ul><p name="d87e" id="d87e" class="graf graf--p graf-after--li">Here is a summary table of PascalABC.NET analysis results (warnings of Blocker, Critical and Major levels):</p><figure name="4a21" id="4a21" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 504px; max-height: 120px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 23.799999999999997%;"></div><img class="graf-image" data-image-id="0*GEz2B0cJC-3qUdcm.png" data-width="504" data-height="120" src="https://cdn-images-1.medium.com/max/800/0*GEz2B0cJC-3qUdcm.png"></div></figure><p name="ce6a" id="ce6a" class="graf graf--p graf-after--figure">I would like to note once again that the analyzers cannot be directly compared by the number of the found bugs and the false positives. SonarC# tries issuing warnings for the code that may be poorly written, but does not contain an error. This helps to evaluate the quality of the code. PVS-Studio, in its turn, prefers to keep silent or issue a warning with Low level of reliability. At the same time, it tries to detect as many errors as possible and is taught to find a large amount of defects, leading to program failures.</p><h3 name="17b0" id="17b0" class="graf graf--h3 graf-after--p">Conclusion</h3><p name="e4bb" id="e4bb" class="graf graf--p graf-after--h3">So, as it was expected, I didn’t have any problems working with PVS-Studio and SonarC# for SonarQube. All functions and features of the tools are documented. Once you upload the results to the SonarQube server, you get the access to numerous functional abilities to assess the quality of your software product. As for the bug search by the source code analyzers, both tools showed decent results.</p><p name="fdc7" id="fdc7" class="graf graf--p graf-after--p">It’ll take minimum effort and time to upload and analyze the project online on the <a href="https://sonarqube.com/" data-href="https://sonarqube.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">SonarQube</a> site.</p><p name="3ac9" id="3ac9" class="graf graf--p graf-after--p">Using PVS-Studio plugin for the integration of the results of its work in SonarQube isn’t hard at all as well. The only limitation — you’ll need an <a href="https://www.viva64.com/en/order/" data-href="https://www.viva64.com/en/order/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Enterprise version</a> of the analyzer. If there is no need to integrate with SonarQube, you can use PVS-Studio as a separate tool.</p><p name="f2dc" id="f2dc" class="graf graf--p graf-after--p">Download and try PVS-Studio: <a href="https://www.viva64.com/en/pvs-studio/" data-href="https://www.viva64.com/en/pvs-studio/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">http://www.viva64.com/en/pvs-studio/</a></p><p name="a944" id="a944" class="graf graf--p graf-after--p graf--trailing">To purchase a commercial license, please <a href="https://www.viva64.com/en/about-feedback/" data-href="https://www.viva64.com/en/about-feedback/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">contact</a> us via the email. You can also write to us to get a temporary license key for a comprehensive investigation of PVS-Studio, if you want to avoid the <a href="https://www.viva64.com/en/m/0009/" data-href="https://www.viva64.com/en/m/0009/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">limitations</a> of the demo version.</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"  href="https://medium.com/tag/programming?source=post" data-action-source="post">Programming</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/open-source?source=post" data-action-source="post">Open Source</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/sonarqube?source=post" data-action-source="post">Sonarqube</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/devops?source=post" data-action-source="post">DevOps</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/csharp?source=post" data-action-source="post">Csharp</a></li></ul></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="f85ac1e08104" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_footer"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/f85ac1e08104" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="show-recommends" data-action-value="f85ac1e08104">10</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></div></div></div></div><div class="js-postPromotionWrapper postPromotionWrapper" data-location-id="footer_above_post_attribution"></div><div class="container u-maxWidth740 js-postAttributionFooterContainer u-paddingTop20 u-paddingBottom20 u-marginTop10 u-borderTopLightest u-xs-paddingTop10 u-xs-paddingBottom10"><div class="row js-postFooterInfo"><div class="col u-size12of12"><li class="u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="d282b2777ae0"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/d282b2777ae0" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell "><a class="link avatar u-baseColor--link"  href="https://medium.com/@Coder_HarryLee?source=footer_card" title="Go to the profile of Harry Lee" aria-label="Go to the profile of Harry Lee" data-action-source="footer_card" data-user-id="d282b2777ae0" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*SgXtZaPRcuXvPvf29R1hfQ.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Harry Lee"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://medium.com/@Coder_HarryLee" property="cc:attributionName" title="Go to the profile of Harry Lee" aria-label="Go to the profile of Harry Lee" rel="author cc:attributionUrl" data-user-id="d282b2777ae0" dir="auto">Harry Lee</a></h3><p class="u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Enthusiastic developer</p></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-readNext"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed"><ul><li class="u-uiTextSemibold u-textAlignCenter u-textColorNormal u-fontSize12 u-textUppercase">Share</li><li class="u-textAlignCenter"><div class="js-actionRecommend" data-post-id="f85ac1e08104" data-is-icon-29px="true" data-is-vertical="true" data-has-recommend-list="true" data-source="post_share_widget"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/f85ac1e08104" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal  u-block u-marginAuto u-marginTopNegative5"  data-action="show-recommends" data-action-value="f85ac1e08104">10</button></div></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-in-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/f85ac1e08104"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link avatar u-inline u-baseColor--link"  href="https://medium.com/@Coder_HarryLee" data-action="show-user-card" data-action-value="d282b2777ae0" data-action-type="hover" data-user-id="d282b2777ae0" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/40/40/1*SgXtZaPRcuXvPvf29R1hfQ.jpeg" class="avatar-image avatar-image--smaller" alt="Go to the profile of Harry Lee"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Harry Lee</strong>, when you sign up for Medium. <a class="link link--accent u-accentColor--textNormal u-accentColor--textDarken u-baseColor--link"  href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Harry Lee</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><span class="followState js-followState buttonSet-inner" data-user-id="d282b2777ae0"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/d282b2777ae0" data-action-source="sticky_footer_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"28586-6143d83","currentUser":{"userId":"lo_1f36fdab1add","isVerified":false,"subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.AouowiblLn4SBKZF6cWDtA.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.4rYp3nph7xNXmlmak5XWxQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.R35emyz9xZL7YdHbIl-SvQ.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.XUyD-cfC9DG2nc9iq5x7GA.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.0oM8iNH9LgWeJY00O_ao2Q.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.caQfKUCZ18Wg2IbFBoaXiA.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1492371020559:8185f245ad4b","useragent":{"browser":"python requests","family":"","os":"","version":2.2,"supportsDesktopEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":false,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":false,"supportsScrollableMetabar":false},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"enable_onboarding":true,"ios_custom_miro_url":"https://cdn-images-1.medium.com","reengagement_notification_duration":3,"enable_adsnative_integration":true,"browsable_stream_config_bucket":"curated-topics","ios_small_post_preview_truncation_length":5.5,"ios_large_post_preview_truncation_length":5.5,"disable_ios_catalog_badging":true,"enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"enable_prepublish_share_settings":true,"enable_direct_auth_connect":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"promoted_story_placement_locations":"POST_PAGE_FOOTER","show_topics":true,"enable_search_collection_by_tag_recency_filter":true,"search_collection_by_tag_filter_min_votes":10,"enable_sms_app_promo":true,"enable_export_members":true,"enable_series_card_background_creation":true,"enable_loyal_writers_onboarding":true,"enable_onboarding_hybrid_users":true,"enable_onboarding_users_by_tag":true,"enable_ios_onboarding_notifications":true,"can_see_subscription_branding":true,"enable_subscriptions_landing_page":true,"enable_partner_program_landing_page":true,"enable_hide_broken_links":true,"enable_pay_for_custom_domain":true,"enable_promos_from_dynamo":true,"enable_promos_in_placement":true,"enable_series_promo_in_email":true,"enable_sms":true,"enable_series_in_user_profiles":true,"enable_new_logged_out_bento_operation":true,"enable_topic_brief_relations":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/icons/favicon.svg":"https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico","faviconImageId":"1*W0nmth_X8nFKjn6BZ388UQ.png","fontSets":[{"id":1,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-base.by5Oi_VbnwEIvhnWIsuUjA.css"},{"id":4,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-base.g08Jj5TZPAiuPWj5YNUsSg.css"},{"id":6,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-latin-base.141WxxXgxGxNcfeza73H7Q.css"},{"id":7,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-latin-base.jMU532QDmysQMOINr-cr2A.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"5386cfc81bd240e2\",\"ot-tracer-traceid\":\"5228976067ef3b1d\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","secret":"c14df7146e9052a1131f3c900c1f0644","token":"542599432471018|1JqjIwxSfY9jOt_KwjWEl1R7T6I","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]},"smartPublishWhitelistedPublications":["bcc38c8f6edf","f3726e2a5878","828a270689e","81c7d351c056","f30e42fd7ff8","8bf1d7d3081b","d16afa0ae7c","d8f3f6ad9c31","e74de0cedea9","15f753907972","c8c6a6b01ebd","3412b9729488","2ce4bbcf83bb","544c7006046e","7bfcdbc6b30a","a268fd916824","458a773bccd2"],"instantArticles":{"published":true,"developmentMode":false}},"mailingListArchiveUploadSizeMb":2,"availableMembershipPlans":[],"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com"}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"f85ac1e08104","versionId":"30d0c9b8a346","creatorId":"d282b2777ae0","creator":{"userId":"d282b2777ae0","name":"Harry Lee","username":"Coder_HarryLee","createdAt":1443768668252,"lastPostCreatedAt":1492180033243,"imageId":"1*SgXtZaPRcuXvPvf29R1hfQ.jpeg","backgroundImageId":"1*SzGmibZF821aB2wHA7GqPQ.jpeg","bio":"Enthusiastic developer","twitterScreenName":"","socialStats":{"userId":"d282b2777ae0","usersFollowedCount":43,"usersFollowedByCount":134,"type":"SocialStats"},"social":{"userId":"lo_6abea7a669b5","targetUserId":"d282b2777ae0","type":"Social"},"facebookAccountId":"135775956779876","allowNotes":1,"type":"User"},"homeCollectionId":"","title":"Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio","detectedLanguage":"en","latestVersion":"30d0c9b8a346","latestPublishedVersion":"30d0c9b8a346","hasUnpublishedEdits":false,"latestRev":654,"createdAt":1490778432687,"updatedAt":1490778564658,"acceptedAt":0,"firstPublishedAt":1490778564658,"latestPublishedAt":1490778564658,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback…","bodyModel":{"paragraphs":[{"name":"398e","type":3,"text":"Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio","markups":[]},{"name":"e9f6","type":1,"text":"In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback from our customers and interested users who requested testing the plugin on a real project. As the interest in this subject is not decreasing, we decided to test the plugin on a C# project PascalABC.NET. Also, it should be borne in mind, that SonarQube have their own static analyzer of C# code — SonarC#. To make the report more complete, we decided to test SonarC# as well. The objective of this work was not the comparison of the analyzers, but the demonstration of the main peculiarities of their interaction with the SonarQube service. Plain comparison of the analyzers would not be fair due to the fact that PVS-Studio is a specialized tool for bug detection and potential vulnerabilities, while SonarQube is a service for the assessment of the code quality by a large number of parameters: code duplication, compliance with the code standards, unit tests coverage, potential bugs in the code, density of comments in the code, technical debt and so on.","markups":[]},{"name":"716d","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*udrhcLH0XGSXzppt.png","originalWidth":450,"originalHeight":205}},{"name":"7959","type":3,"text":"Introduction","markups":[]},{"name":"27d5","type":1,"text":"Before reading this article, I recommend having a look at other posts, where we give a description of the SonarQube platform and integration of PVS-Studio with it.","markups":[{"type":3,"start":64,"end":69,"href":"https://www.viva64.com/en/b/0452/","title":"","rel":"","anchorType":0}]},{"name":"66fe","type":1,"text":"Now let us talk about the checked project. PascalABC.NET is the new generation Pascal programming language that combines simplicity of classic Pascal, a great number of modern extensions and broad capabilities of Microsoft .NET Framework. It has its own development environment and also a Web-environment for the creation of programs in PascalABC.NET, C#, Visual Basic.NET, F#, IronPython. The project is Written in C# and is distributed under a free software license LGPLv3. The site of the project. The source code can be downloaded from the repository on GitHub.","markups":[{"type":3,"start":476,"end":499,"href":"http://pascalabc.net/en/","title":"","rel":"","anchorType":0},{"type":3,"start":544,"end":554,"href":"https://github.com/pascalabcnet/pascalabcnet","title":"","rel":"","anchorType":0}]},{"name":"a215","type":1,"text":"PascalABC.NET solution has 2628 files with the extension ‘cs’, which contain about 752 thousand lines of code (the metrics were obtained using the SourceMonitor utility). Thus, the project has a reasonable size for our research purposes.","markups":[{"type":3,"start":147,"end":160,"href":"http://www.campwoodsw.com/sourcemonitor.html","title":"","rel":"","anchorType":0}]},{"name":"5710","type":3,"text":"SonarC#","markups":[]},{"name":"6c5f","type":1,"text":"As it was stated earlier, the SonarQube service has its own analyzer of C# code. To add an open project to the site and perform the analysis, it was enough to perform several simple actions.","markups":[{"type":3,"start":30,"end":39,"href":"https://sonarqube.com/about","title":"","rel":"","anchorType":0}]},{"name":"e672","type":1,"text":"To register on the SonarQube site, I used a GitHub account. Then I used the quick start instructions. The whole process of setting, including binding of the PascalABC.NET project to the account, getting the unique key of the organization and configuration on the local computer took me about 15 minutes. The analysis of the project took another 10 minutes. After that, the result was uploaded to the SonarQube site, where it can be accessed by anyone.","markups":[{"type":3,"start":88,"end":100,"href":"https://about.sonarqube.com/get-started/","title":"","rel":"","anchorType":0},{"type":3,"start":373,"end":379,"href":"https://sonarqube.com/organizations/skhrenov-github/projects","title":"","rel":"","anchorType":0}]},{"name":"240d","type":1,"text":"SonarQube issued 3636 warnings about possible errors in PascalABC.NET code:","markups":[]},{"name":"7a61","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*EuYxoDNsbx2kGvOn.png","originalWidth":299,"originalHeight":258}},{"name":"5ed8","type":1,"text":"Among them: 8 blocking (require immediate fix), 64 critical, 1742 important and 1822 not critical. There were no informational messages. Let us have a look at these warnings, find interesting errors and see the percentage of false positives in the analysis. To do it, we use convenient filtration means by various metrics, provided by SonarQube service. Let us start with blocker warnings.","markups":[]},{"name":"1126","type":3,"text":"Blocker","markups":[]},{"name":"022d","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*TMkgKPJX1eHy0joi.png","originalWidth":291,"originalHeight":425}},{"name":"41f0","type":1,"text":"As we see, the blocker warnings are issued for two rules: infinite recursion and disposing IDisposable-resources. Here is an example of a blocker-warning:","markups":[]},{"name":"de7e","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*4g_tjeDFJFARutWd.png","originalWidth":456,"originalHeight":319}},{"name":"9469","type":1,"text":"In the get-section of the Instance property, the program erroneously returns Instance instead of instance, which causes infinite recursion.","markups":[{"type":2,"start":26,"end":34},{"type":2,"start":77,"end":85},{"type":2,"start":97,"end":105}]},{"name":"9fd6","type":1,"text":"All the other warnings of the Blocker level are also errors.","markups":[]},{"name":"7a98","type":3,"text":"Critical","markups":[]},{"name":"b6fd","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*DftyI0s5UKmjSvPB.png","originalWidth":291,"originalHeight":396}},{"name":"794a","type":1,"text":"There were 64 warnings of the Critical level for the rule of inappropriate type casting. Let us have a look at one of such warnings:","markups":[]},{"name":"74d6","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*rTHLkZYdbKCC-tmc.png","originalWidth":506,"originalHeight":253}},{"name":"54e5","type":1,"text":"Having studied the code and the list of implementations, I agreed with the analyzer: at the moment there really isn’t any type that implements both IBaseScope and IComparable interfaces, so the result of the check of boxItem.Item is IComparable will always be false. However, I would not consider it an error in this case, because, firstly, the mere presence of such check eliminates the subsequent throw of an exception when attempting to cast the type (IComparable)boxItem.Item. Secondly, at any moment a programmer may add a reference to dll to the the solution, where we will have the declaration of a type that would implement both interfaces IBaseScope and IComparable. Perhaps, that was the plan of a developer when he was doing the type casting only after the check. The reviewed warning should be put to the Minor warning, not critical for the execution; its presence on the Critical level is most likely a false positive.","markups":[{"type":2,"start":148,"end":158},{"type":2,"start":163,"end":174},{"type":2,"start":217,"end":245},{"type":2,"start":260,"end":266},{"type":2,"start":454,"end":480},{"type":2,"start":541,"end":545},{"type":2,"start":648,"end":658},{"type":2,"start":663,"end":674}]},{"name":"2044","type":1,"text":"The remaining 63 warnings are similar to the one we had a look at.","markups":[]},{"name":"61e2","type":3,"text":"Major","markups":[]},{"name":"f74a","type":1,"text":"There were quite a lot of warnings on this level — 1742 for 15 types of diagnostics:","markups":[]},{"name":"a7cb","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*OwK_Sk14N_3rBmHP.png","originalWidth":273,"originalHeight":711}},{"name":"9983","type":1,"text":"Let’s go through the list of warnings to find real bugs and evaluate the real capabilities of the analyzer.","markups":[]},{"name":"77eb","type":1,"text":"General exceptions should never be thrown","markups":[{"type":1,"start":0,"end":41}]},{"name":"4649","type":1,"text":"The rule reports that a general type exception is thrown with the throw operator. There were 634 similar constructs found in the code of PascalABC.NET project. The majority is of the following kind:","markups":[{"type":2,"start":66,"end":71}]},{"name":"4fc6","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*paRc4mPVvfv6HODp.png","originalWidth":490,"originalHeight":222}},{"name":"084e","type":1,"text":"Also there are a lot (more than 600) constructs that look like “stubs” in the code, that were intentionally written by the developers.","markups":[]},{"name":"2d1b","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*xVjAYf88QY-UPRiO.png","originalWidth":484,"originalHeight":149}},{"name":"a087","type":1,"text":"Of course, throwing a general exception is considered as “bad manners”. However, it seems to me that this are not errors at all. Moreover, it is unlikely that the code’s authors deliberately multiplied them so much. Yes, apparently, the exception handling in PascalABC.NET leaves much to be desired. Nevertheless, the best place for these 634 similar warnings is in the Minor section or among the false positives of the analyzer.","markups":[]},{"name":"4b44","type":1,"text":"By the way, this is a good example, showing the difference between SonarC# and PVS-Studio. SonarC# indicates “smells” in the code and is quite right, issuing these warnings. They help to judge about the quality of the project. From our point of view, as the developers of PVS-Studio analyzer, these are false positives, because we are focused on finding bugs and security issues.","markups":[]},{"name":"1092","type":1,"text":"Dead stores should be removed","markups":[{"type":1,"start":0,"end":29}]},{"name":"9f0f","type":1,"text":"This is also quite an extensive group of 618 warnings concerning a repeated variable assigning, when it is not used in any way between those assignments. We see the following pattern prevailing:","markups":[]},{"name":"c8fc","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*9SaC8fu_U2MIEq69.png","originalWidth":426,"originalHeight":203}},{"name":"19f6","type":1,"text":"The variable is initialized during the declaration, and then, without using the new value, it is assigned with another value. Of course, it’s a bad ideas to do so. We may raise questions concerning saving the resources and suspicions about a different error or a typo. But in fact, neither one of these structures is an error. It is unclear again, why are these warnings placed in the section of major severity? To my mind, these are false positives.","markups":[]},{"name":"5888","type":1,"text":"There are several warnings that are certainly false-positives:","markups":[]},{"name":"63fd","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*ty_pp736IKyxI4Ei.png","originalWidth":426,"originalHeight":271}},{"name":"bc6d","type":1,"text":"If we follow the recommendations of the analyzer in this case, then we may ruin the logic of the program.","markups":[]},{"name":"4d8b","type":1,"text":"Thus, I could not find any real bugs among those 618 warnings from the reviewed group.","markups":[]},{"name":"00ba","type":1,"text":"Floating point numbers should not be tested for equality","markups":[{"type":1,"start":0,"end":56}]},{"name":"bc75","type":1,"text":"151 warnings were issued for the comparison constructions, where one or both operands have a real type. Indeed, such comparisons often give an erroneous result that is related to peculiarities of storing the real variables in memory and may vary, for example, depending on the compiler settings. Such constructions can work for a very long time without any problems. Therefore, a programmer has to decide about the falsity in each particular code fragment. For example, if the values being compared are a result of mathematical calculations, then, the direct comparison of these values is usually wrong. If you are comparing two real constants, then probably it is done deliberately and there is no error.","markups":[]},{"name":"dab7","type":1,"text":"In the code of PascalABC.NET I saw mostly the following pattern of comparing with a real variable:","markups":[]},{"name":"b516","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*oMtDGYEz3RzUlRKB.png","originalWidth":560,"originalHeight":172}},{"name":"3be1","type":1,"text":"Note that there are both comparisons of two real variables and a real variable with an integer type variable. Of course, this code is not completely safe, since it is unknown how the compared values were obtained. Can we speak of a real error here? I find it difficult to give a definite answer. However, the code probably needs to be reviewed.","markups":[]},{"name":"df52","type":1,"text":"By the way, PVS-Studio analyzer also warns about such suspicious comparisons, but these diagnostics refer to the Low reliability level and are not recommended for studying.","markups":[]},{"name":"a1d8","type":1,"text":"There are also obvious false positives among the issued warnings:","markups":[]},{"name":"9121","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*NJ7b9Je3aO_4wR9z.png","originalWidth":560,"originalHeight":108}},{"name":"ba15","type":1,"text":"In this case two variables of byte type get compared: The variables left and right have the type byte_const_node:","markups":[{"type":2,"start":30,"end":34},{"type":2,"start":68,"end":72},{"type":2,"start":77,"end":82},{"type":2,"start":97,"end":112}]},{"name":"ee62","type":8,"text":"public class byte_const_node : concrete_constant\x3cbyte\x3e,\n                               SemanticTree.IByteConstantNode\n{\n  public byte_const_node(byte value, location loc)\n      : base(value, loc)\n  {\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":212},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":12},{"type":1,"start":122,"end":128},{"type":1,"start":129,"end":144},{"type":1,"start":179,"end":183}]},{"name":"4a5d","type":8,"text":"public abstract class concrete_constant\x3cConstantType\x3e : constant_node\n{\n  private ConstantType _constant_value;\n  public concrete_constant(ConstantType value, location loc) :\n    base(compiled_type_node.get_type_node(typeof(ConstantType)), loc)\n  {\n    _constant_value = value;\n  }\n  ....\n  public ConstantType constant_value\n  {\n    get\n    {\n      return _constant_value;\n    }\n    ....\n  }\n  ....\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":412},{"type":1,"start":0,"end":6},{"type":1,"start":16,"end":21},{"type":1,"start":74,"end":81},{"type":1,"start":114,"end":120},{"type":1,"start":121,"end":138},{"type":1,"start":179,"end":183},{"type":1,"start":291,"end":297},{"type":1,"start":350,"end":356}]},{"name":"ab8d","type":1,"text":"I think this group is reasonably placed to the Major section. However, I would not consider all the warnings to be errors. It is up to the author to decide in each particular case.","markups":[]},{"name":"8a16","type":1,"text":"Multiline blocks should be enclosed in curly braces","markups":[{"type":1,"start":0,"end":51}]},{"name":"baff","type":1,"text":"This is a group of 108 warnings, including potential formatting errors that affect the logic of the program execution. I found quite suspicious constructs here. Example:","markups":[]},{"name":"c599","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*4lAmY9ltjlL6BYJY.png","originalWidth":560,"originalHeight":171}},{"name":"dd1e","type":1,"text":"In this fragment, the brackets are possibly missing. In any case, a developer should format the code for better understanding of the program logic.","markups":[]},{"name":"56f6","type":1,"text":"Another similar warning:","markups":[]},{"name":"31f3","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*7CNPdUjDHziFDBia.png","originalWidth":515,"originalHeight":174}},{"name":"1434","type":1,"text":"There is no error, but the code looks sloppy. Refactoring is needed here.","markups":[]},{"name":"e545","type":1,"text":"In general, all the warnings from this group are issued correctly, but they haven’t detected real errors.","markups":[]},{"name":"e462","type":1,"text":"Null pointers should not be dereferenced","markups":[{"type":1,"start":0,"end":40}]},{"name":"2bf0","type":1,"text":"75 warnings about possible access by the null reference. In this block I found interesting mistakes:","markups":[]},{"name":"ae39","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*HWMwMObI88gsEgOd.png","originalWidth":361,"originalHeight":137}},{"name":"f4a7","type":1,"text":"Indeed, previously the variable returned_scope has always been verified against null before it was used, but in this case, it was forgotten.","markups":[{"type":2,"start":32,"end":47}]},{"name":"5484","type":8,"text":"public override void visit(....)\n{\n  ....\n  if (returned_scope != null && ....)\n  {\n    ....\n  }\n  else if (returned_scope != null)\n  {\n    ....\n  }\n  returned_scope.declaringUnit = entry_scope;  // \x3c=\n  ....\n}","markups":[{"type":10,"start":0,"end":210},{"type":1,"start":0,"end":6},{"type":1,"start":16,"end":20},{"type":1,"start":21,"end":26},{"type":1,"start":44,"end":46},{"type":1,"start":99,"end":103},{"type":1,"start":104,"end":106}]},{"name":"c547","type":1,"text":"A similar bug:","markups":[]},{"name":"1851","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*a1Okl3Uj2X4soPuG.png","originalWidth":458,"originalHeight":149}},{"name":"5416","type":1,"text":"In the first case, the variable pi is verified against null before using, but further on, when accessing pi.CompilationUnit it is forgotten.","markups":[{"type":2,"start":32,"end":34},{"type":2,"start":105,"end":124}]},{"name":"4047","type":1,"text":"This block of warnings has some number of not very obvious errors and false positives. I would rate the percentage of finding real bugs here equal to 85%. A very good result.","markups":[]},{"name":"426a","type":1,"text":"Conditions should not unconditionally evaluate to “true” or to “false”","markups":[{"type":1,"start":0,"end":70}]},{"name":"36b7","type":1,"text":"This block of warnings is related to the conditions that are true regardless of the program logic. Here is a typical of the errors found:","markups":[]},{"name":"22a2","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*psRe_RH9pUZMGvMq.png","originalWidth":394,"originalHeight":264}},{"name":"2335","type":1,"text":"This code is strange and needs reviewing. Perhaps, we have a serious mistake here.","markups":[]},{"name":"127f","type":1,"text":"All in all, the group has about 70% of such errors.","markups":[]},{"name":"b655","type":1,"text":"Exceptions should not be thrown from property getters","markups":[{"type":1,"start":0,"end":53}]},{"name":"64e3","type":1,"text":"You should not throw exceptions to get section of the property, and if it is necessary to use methods instead of properties. This group contains 46 such warnings. The vast majority of them are “stubs”, left by the developers intentionally or due to forgetfulness:","markups":[]},{"name":"c483","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*P3BCVNzyv5FeCbfM.png","originalWidth":337,"originalHeight":164}},{"name":"effe","type":1,"text":"There are also quite correct constructions that require refactoring.","markups":[]},{"name":"2fa8","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*7LjV9BowleShc1DV.png","originalWidth":406,"originalHeight":225}},{"name":"df30","type":1,"text":"Nevertheless, I do not believe these warnings to be errors. I think it would be more rational to classify them as Minor bugs.","markups":[]},{"name":"deb7","type":1,"text":"Static fields should not be updated in constructors","markups":[{"type":1,"start":0,"end":51}]},{"name":"b938","type":1,"text":"The diagnostic about updating static fields in constructors: this can lead to inconsistent behavior, because the field will be newly initialized for all instances of the class. In sum total, the analyzer issued 26 warnings of this kind for PascalABC.NET project. I have not found real errors among them. Here are a couple examples of the detected code fragments:","markups":[]},{"name":"a0d0","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*-sEpJvGC73Rs__fo.png","originalWidth":391,"originalHeight":305}},{"name":"49bd","type":1,"text":"Every time a reference to a new instance of a class is written to the static variable _instance. Judging by the variable name, it was an intended action.","markups":[{"type":2,"start":86,"end":96}]},{"name":"3161","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*ayvdGnTuwhX5Z3Wa.png","originalWidth":378,"originalHeight":338}},{"name":"151e","type":1,"text":"The flag parsers_loaded indicates that at least one class item was already created. Nothing criminal.","markups":[{"type":2,"start":9,"end":24}]},{"name":"da7e","type":1,"text":"“=+” should not be used instead of “+=”","markups":[{"type":1,"start":0,"end":39}]},{"name":"36d7","type":1,"text":"Quite an interesting diagnostic that instead of the “-=” operator it was erroneously written “=-”. The analyzer issued 9 warnings of this kind. Unfortunately, they are all false positives. 6 warnings are issued for constructions that are declarations of variables, where the operator “-=” is not possible at all.","markups":[]},{"name":"26e2","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*dYDgf05nMXsIt5-k.png","originalWidth":316,"originalHeight":230}},{"name":"d46b","type":1,"text":"The other 3 warnings are apparently caused by the fact that the authors of the code don’t like using spaces for formatting the code:","markups":[]},{"name":"03ac","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*XXJqJXvjIw5SqFeL.png","originalWidth":410,"originalHeight":145}},{"name":"b7db","type":1,"text":"Related “if/else if” statements should not have the same condition","markups":[{"type":1,"start":0,"end":66}]},{"name":"2c5e","type":1,"text":"5 warnings were issued for code fragments with the same condition in the if and else blocks. Often this code is either erroneous already, or it has the possibility of an error. In our case, 4 of 5 warnings had simple duplication of conditions, as well as of an execution block, which of course is suspicious, but not a coarse mistake. One warning is more interesting:","markups":[{"type":2,"start":73,"end":75},{"type":2,"start":80,"end":84}]},{"name":"5905","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*DYyAFaof2cQVmWP-.png","originalWidth":560,"originalHeight":266}},{"name":"3fed","type":1,"text":"Before the first part of the if block was commented out, it was different from the following condition in the consecutive else if block. Also note the execution block of the second else if: it is empty. There is only one operator: “;”. This is very strange and suspicious code.","markups":[{"type":2,"start":29,"end":31},{"type":2,"start":122,"end":129},{"type":2,"start":181,"end":188}]},{"name":"ec2a","type":1,"text":"Short-circuit logic should be used in boolean contexts","markups":[{"type":1,"start":0,"end":54}]},{"name":"485c","type":1,"text":"The diagnostic warns for example about a possible erroneous use of the & operator instead of && in the expressions of bool type. There were found 5 such suspicious constructions. They all, in one way or another, require attention, although they may not contain errors. Here is an example of one of them:","markups":[{"type":2,"start":71,"end":72},{"type":2,"start":93,"end":95},{"type":2,"start":118,"end":122}]},{"name":"61f6","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*a8TlZxTW1GBQCUVc.png","originalWidth":550,"originalHeight":182}},{"name":"cae8","type":1,"text":"In this case, we cannot exactly state that using the “|” operator is a mistake, because in the right part of it is a property with complex logic inside which is checked. Perhaps the developer’s aim was to make the two conditions to be always checked.","markups":[]},{"name":"33e3","type":1,"text":"Exceptions should not be explicitly rethrown","markups":[{"type":1,"start":0,"end":44}]},{"name":"c4d6","type":1,"text":"The diagnostic about the loss of the exception stack. The analyzer issued 4 identical warnings:","markups":[]},{"name":"b79a","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*omKF40Z8yHRzE8jZ.png","originalWidth":428,"originalHeight":214}},{"name":"3a7b","type":1,"text":"Of course, we should not write like this. It would be hard to debug the application further on. However, all these warnings are not too critical. To my mind, they should go to the Minor section.","markups":[]},{"name":"4041","type":1,"text":"Variables should not be self-assigned","markups":[{"type":1,"start":0,"end":37}]},{"name":"7438","type":1,"text":"3 warning about setting the value of the variable to itself. Here is an example of one of the detected code fragments:","markups":[]},{"name":"ed3b","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*EW37Q2YLI1pXMMCA.png","originalWidth":366,"originalHeight":159}},{"name":"75cc","type":1,"text":"This code is strange and apparently erroneous. The declaration of visitNode is like this:","markups":[{"type":2,"start":66,"end":76},{"type":2,"start":88,"end":89}]},{"name":"c60b","type":8,"text":"protected bool visitNode = true;","markups":[{"type":10,"start":0,"end":32},{"type":1,"start":0,"end":9},{"type":1,"start":10,"end":14}]},{"name":"2205","type":1,"text":"In total, there are two errors in this group of warnings.","markups":[]},{"name":"b512","type":1,"text":"Identical expressions should not be used on both sides of a binary operator","markups":[{"type":1,"start":0,"end":75}]},{"name":"6efd","type":1,"text":"The diagnostic searches for conditions, which have identical subexpressions. 2 suspicious constructs were detected. There is no evident error there, but perhaps the code should work and look differently. Here is an example of one of the warnings:","markups":[]},{"name":"fa9c","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*PSkTOPpCsS9bjutU.png","originalWidth":417,"originalHeight":136}},{"name":"67b2","type":1,"text":"Strange code. Perhaps, a programmer forgot to replace the second check.","markups":[]},{"name":"abbe","type":1,"text":"“ToString()” method should not return null","markups":[{"type":1,"start":0,"end":42}]},{"name":"7718","type":1,"text":"This is the last group of warnings in the Major section. The overloading of the ToString() method is implemented incorrectly. 2 warnings are issued and both of them are errors. Here is an example of one of them:","markups":[{"type":2,"start":80,"end":90}]},{"name":"aba6","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*D6q7MLhYkckKx0Pi.png","originalWidth":448,"originalHeight":301}},{"name":"76e4","type":1,"text":"It’s incorrect to return null from the overloaded ToString() method. string.Empty should be used instead.","markups":[{"type":2,"start":25,"end":29},{"type":2,"start":50,"end":61},{"type":2,"start":68,"end":81}]},{"name":"dea0","type":3,"text":"Minor","markups":[]},{"name":"8520","type":1,"text":"There were 1822 warnings issued here. As this level is not a critical one, it is unlikely that I will find any really interesting bugs. Also, this level usually has a large percentage of false positives. That’s why I won’t be looking at the Minor level bugs in this article.","markups":[]},{"name":"c21c","type":3,"text":"The results of the SonarC# check","markups":[]},{"name":"9cb1","type":1,"text":"To sum up, I should say that in general, the analyzer found real bugs on the Blocker, Critical and Major (I found 268 erroneous or extremely suspicious constructs per 1814 warnings); some of them were of real interest. Nevertheless, the percentage of false positives is still very high and is more than 85%. This greatly complicates the analysis of the results.","markups":[]},{"name":"8783","type":3,"text":"PVS-Studio plugin for SonarQube","markups":[]},{"name":"0166","type":1,"text":"A whole documentation section on our website is devoted to the integration of PVS-Studio analyzer report to SonarQube. It took me about 15 minutes to set up the integration “from scratch”. Another 15 minutes were spent on the project check and loading the results to the local server of SonarQube.","markups":[{"type":3,"start":8,"end":29,"href":"https://www.viva64.com/en/m/0037/","title":"","rel":"","anchorType":0}]},{"name":"b6a6","type":1,"text":"PVS-Studio issued 1039 warnings for PascalABC.NET code. Among them were: 156 warnings of the Critical level, 541 — Major and 342-Minor.","markups":[]},{"name":"aab4","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*e9QLwj8Gty3E0KNn.png","originalWidth":302,"originalHeight":259}},{"name":"4b6a","type":1,"text":"We are not going to review the Minor level warnings, as the percentage of false positives is usually too high here.","markups":[]},{"name":"833e","type":1,"text":"The distribution of warnings on the Critical level:","markups":[]},{"name":"db19","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*WE_isqKPMOPsiqfg.png","originalWidth":284,"originalHeight":745}},{"name":"d242","type":1,"text":"The distribution of warnings on the Major level:","markups":[]},{"name":"e690","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*xlzSsOjl5rUX0Xud.png","originalWidth":284,"originalHeight":745}},{"name":"d939","type":1,"text":"Having analyzed 697 warnings on the Critical and Major level, I found out that 204 warnings can be called false positives. This is 29% of the total number of warnings on the first and second severity level. Thus, the percentage of detecting real errors and suspicious constructs on the project PascalABC.NET is 71%. In terms of the number of code lines (KLOC), it is 0.66 errors per KLOC. Let us take a look at the most interesting of the detected errors. For convenience, I have sorted the errors by the number of the diagnostics in ascending order.","markups":[]},{"name":"e6ab","type":1,"text":"Copy-Paste","markups":[{"type":1,"start":0,"end":10}]},{"name":"027b","type":1,"text":"V3001 There are identical sub-expressions ‘token.Kind == openBracketToken’ to the left and to the right of the ‘||’ operator. ICSharpCode.SharpDevelop NRefactoryInsightWindowHandler.cs 66","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3001/","title":"","rel":"","anchorType":0}]},{"name":"bd03","type":8,"text":"readonly int eofToken,\n             commaToken,\n             openParensToken,\n             closeParensToken,\n             openBracketToken,\n             closeBracketToken,\n             openBracesToken,\n             closeBracesToken,\n             statementEndToken;","markups":[{"type":10,"start":0,"end":264},{"type":1,"start":9,"end":12}]},{"name":"0b91","type":8,"text":"public void InitializeOpenedInsightWindow(....)\n{\n  ....\n  if (token.Kind == openParensToken || \n      token.Kind == openBracketToken ||\n      token.Kind == openBracketToken) {  // \x3c=\n    bracketCount++;\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":216},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":41},{"type":1,"start":59,"end":61}]},{"name":"2abd","type":1,"text":"In the condition of the if block, the equation token.Kind == openBracketToken is checked twice. You may find a field with a very similar name openBracesToken among the fields declared in the class. Perhaps this field was skipped in the condition. In this case, a correct variant will be like this:","markups":[{"type":2,"start":24,"end":26},{"type":2,"start":47,"end":78},{"type":2,"start":142,"end":158}]},{"name":"3d1e","type":8,"text":"public void InitializeOpenedInsightWindow(....)\n{\n  ....\n  if (token.Kind == openParensToken || \n      token.Kind == openBracketToken ||\n      token.Kind == openBracesToken) {\n    bracketCount++;\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":208},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":41},{"type":1,"start":59,"end":61}]},{"name":"74a2","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"9768","type":9,"text":"V3001 There are identical sub-expressions ‘File.Exists(pdbFileName)’ to the left and to the right of the ‘&&’ operator. VisualPascalABCNET RunnerManagerHandlers.cs 165","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3001/","title":"","rel":"","anchorType":0}]},{"name":"7890","type":9,"text":"V3001 There are identical sub-expressions ‘_pascal_set_constant.values != null’ to the left and to the right of the ‘&&’ operator. TreeConverter syntax_tree_visitor.cs 4553","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3001/","title":"","rel":"","anchorType":0}]},{"name":"e0b8","type":1,"text":"Inadvertence","markups":[{"type":1,"start":0,"end":12}]},{"name":"89c4","type":1,"text":"V3003 The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 597, 631. ParserTools SyntaxTreeComparer.cs 597","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3003/","title":"","rel":"","anchorType":0}]},{"name":"ad94","type":8,"text":"public void CompareInternal(....)\n{\n  ....\n  if (left is ident)\n    CompareInternal(left as ident, right as ident);\n  ....\n  else if (left is int64_const)\n    CompareInternal(left as int64_const, right as int64_const);\n  ....\n  else if (left is int64_const)\n    CompareInternal(left as int64_const, right as int64_const);  \n  ....\n}","markups":[{"type":10,"start":0,"end":332},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":27},{"type":1,"start":45,"end":47},{"type":1,"start":125,"end":129},{"type":1,"start":130,"end":132},{"type":1,"start":228,"end":232},{"type":1,"start":233,"end":235}]},{"name":"3607","type":1,"text":"The code fragment really contains about 30 similar checks, two of which are completely identical. Perhaps, there is no mistake here, the code was just carelessly copied. But one of the checks, according to the initial plan of the developer, could look different. In this situation we deal with a serious logic error.","markups":[]},{"name":"4c93","type":1,"text":"Similar errors:","markups":[]},{"name":"8262","type":9,"text":"V3003 The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 1599, 1611. ParserTools SyntaxTreeComparer.cs 1599","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3003/","title":"","rel":"","anchorType":0}]},{"name":"b853","type":9,"text":"V3003 The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 1611, 1615. ParserTools SyntaxTreeComparer.cs 1611","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3003/","title":"","rel":"","anchorType":0}]},{"name":"7bad","type":9,"text":"V3003 The use of ‘if (A) {…} else if (A) {…}’ pattern was detected. There is a probability of logical error presence. Check lines: 103, 209. SyntaxVisitors SimplePrettyPrinterVisitor.cs 103","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3003/","title":"","rel":"","anchorType":0}]},{"name":"1957","type":1,"text":"Copy-Paste v2.0","markups":[{"type":1,"start":0,"end":15}]},{"name":"4a89","type":1,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. VisualPascalABCNET CodeCompletionWindow.cs 204","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"1362","type":8,"text":"public void HandleMouseWheel(....)\n{\n  ....\n  if (System.Windows.Forms.SystemInformation.MouseWheelScrollLines\n      \x3e 0) {\n    newValue = this.vScrollBar.Value -\n      (control.TextEditorProperties.MouseWheelScrollDown ? 1 : -1) *\n      multiplier;\n  } else {\n    newValue = this.vScrollBar.Value -\n      (control.TextEditorProperties.MouseWheelScrollDown ? 1 : -1) *\n      multiplier;\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":399},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":28},{"type":1,"start":46,"end":48},{"type":1,"start":139,"end":143},{"type":1,"start":254,"end":258},{"type":1,"start":276,"end":280}]},{"name":"8d1c","type":1,"text":"Both branches of the if block have identical subexpressions. In this case, it is difficult to draw a conclusion about the correct version of the fragment, but in the current state the code will not work as expected.","markups":[{"type":2,"start":21,"end":23}]},{"name":"4476","type":1,"text":"Such errors in the code:","markups":[]},{"name":"69ba","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 439","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"5bd1","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 2338","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"f62e","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 4062","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"c32d","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 5971","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"dac6","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. NETGenerator NETGenerator.cs 6069","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"eef5","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. CodeCompletion CodeFormatter.cs 1254","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"5567","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. CodeCompletion DomConverter.cs 428","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"2eca","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. TreeConverter type_table.cs 380","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"ca31","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. TreeConverter type_table.cs 401","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"9010","type":9,"text":"V3004 The ‘then’ statement is equivalent to the ‘else’ statement. TreeConverter type_table.cs 424","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3004/","title":"","rel":"","anchorType":0}]},{"name":"7112","type":1,"text":"I have cited only 10 bugs of this kind out of 20.","markups":[]},{"name":"cb6f","type":1,"text":"A variable is assigned to itself","markups":[{"type":1,"start":0,"end":32}]},{"name":"27c8","type":1,"text":"V3005 The ‘miGenerateRealization.Visible’ variable is assigned to itself. VisualPascalABCNET OptionsManager.cs 342","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3005/","title":"","rel":"","anchorType":0}]},{"name":"1161","type":8,"text":"public void UpdateUserOptions()\n{\n  ....\n  tsViewIntellisensePanel.Visible = tssmIntellisence.Visible = \n  tsGotoDefinition.Visible = tsGotoRealization.Visible =\n  tsFindAllReferences.Visible = miGenerateRealization.Visible =\n  miGenerateRealization.Visible = cmGenerateRealization.Visible =\n  cmsCodeCompletion.Visible = cmFindAllReferences.Visible = \n  cmGotoDefinition.Visible = cmGotoRealization.Visible = \n  UserOptions.AllowCodeCompletion;\n}","markups":[{"type":10,"start":0,"end":447},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":29}]},{"name":"22d2","type":1,"text":"The variable miGenerateRealization.Visible receives the same value twice during the assignment. Probably, the unnecessary assignment was added by accident. However, instead of one of the miGenerateRealization.Visible variables, there could be some other variable that is now not initialized.","markups":[{"type":2,"start":13,"end":43},{"type":2,"start":187,"end":217}]},{"name":"aced","type":1,"text":"Here is another similar error.","markups":[]},{"name":"51fd","type":1,"text":"V3005 The ‘visitNode’ variable is assigned to itself. SyntaxVisitors SimplePrettyPrinterVisitor.cs 106","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3005/","title":"","rel":"","anchorType":0}]},{"name":"4ec7","type":1,"text":"Repeated assignment","markups":[{"type":1,"start":0,"end":19}]},{"name":"6e1f","type":1,"text":"V3008 The ‘codeCompileUnit’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 126, 124. VisualPascalABCNET CodeDomHostLoader.cs 126","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3008/","title":"","rel":"","anchorType":0}]},{"name":"b066","type":8,"text":"CodeCompileUnit codeCompileUnit = null;\nprivate DesignSurface Designer;\n....\nprotected override CodeCompileUnit Parse()\n{\n  ....\n  CodeCompileUnit ccu = null;\n  DesignSurface ds = new DesignSurface();\n  ....\n  ccu = cg.GetCodeCompileUnit(idh);\n  ....\n  codeCompileUnit = ccu;\n  Designer = ds;\n  codeCompileUnit = ccu;  // \x3c=\n  ....\n}","markups":[{"type":10,"start":0,"end":333},{"type":1,"start":40,"end":47},{"type":1,"start":77,"end":86},{"type":1,"start":112,"end":117},{"type":1,"start":180,"end":183}]},{"name":"919b","type":1,"text":"You can see in the code that there is no logical explanation of the repeated assignment of the same value to the codeCompileUnit variable.","markups":[{"type":2,"start":113,"end":129}]},{"name":"0939","type":1,"text":"Such errors in the code:","markups":[]},{"name":"ec0b","type":9,"text":"V3008 The ‘mSTEPToolStripMenuItem_Enabled’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 541, 532. VisualPascalABCNET VisibilityService.cs 541","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3008/","title":"","rel":"","anchorType":0}]},{"name":"d872","type":9,"text":"V3008 The variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 62, 60. NETGenerator Helpers.cs 62","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3008/","title":"","rel":"","anchorType":0}]},{"name":"9f41","type":9,"text":"V3008 The ‘loc’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 2123, 2122. TreeConverter compilation_context.cs 2123","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3008/","title":"","rel":"","anchorType":0}]},{"name":"a695","type":9,"text":"V3008 The ‘cnfn.function_code’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 260, 259. TreeConverter functions_calls.cs 260","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3008/","title":"","rel":"","anchorType":0}]},{"name":"c89c","type":9,"text":"V3008 The ‘namespace_func.function_code’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 267, 266. TreeConverter functions_calls.cs 267","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3008/","title":"","rel":"","anchorType":0}]},{"name":"ba4d","type":9,"text":"V3008 The ‘ti.init_meth’ variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 1739, 1735. NETGenerator NETGenerator.cs 1739","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3008/","title":"","rel":"","anchorType":0}]},{"name":"4d25","type":1,"text":"The result of the method is always the same","markups":[{"type":1,"start":0,"end":43}]},{"name":"d238","type":1,"text":"V3009 It’s odd that this method always returns one and the same value of ‘false’. NETGenerator NETGenerator.cs 5434","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3009/","title":"","rel":"","anchorType":0}]},{"name":"660c","type":8,"text":"private bool BeginOnForNode(IStatementNode value)\n{\n    //if (value is IForNode) return true;\n    IStatementsListNode stats = value as IStatementsListNode;\n    if (stats == null) return false;\n    if (stats.statements.Length == 0) return false;\n    //if (stats.statements[0] is IForNode) return true;\n    return false;\n}","markups":[{"type":10,"start":0,"end":320},{"type":1,"start":0,"end":7},{"type":1,"start":8,"end":12},{"type":1,"start":13,"end":27},{"type":1,"start":160,"end":162},{"type":1,"start":179,"end":185},{"type":1,"start":197,"end":199},{"type":1,"start":231,"end":237},{"type":1,"start":305,"end":311}]},{"name":"a7f6","type":1,"text":"Probably, this issue was caused by inattention during the refactoring. Previously there were code blocks that returned true. Now they are commented out, and the method, regardless of the result of its work, will return false.","markups":[{"type":2,"start":119,"end":125},{"type":2,"start":219,"end":224}]},{"name":"ebeb","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"90c8","type":9,"text":"V3009 It’s odd that this method always returns one and the same value of ‘0’. PABCNETC CommandConsoleCompiler.cs 297","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3009/","title":"","rel":"","anchorType":0}]},{"name":"9741","type":9,"text":"V3009 It’s odd that this method always returns one and the same value of ‘0’. PABCNETCclear CommandConsoleCompiler.cs 266","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3009/","title":"","rel":"","anchorType":0}]},{"name":"f5ce","type":1,"text":"Inattention","markups":[{"type":1,"start":0,"end":11}]},{"name":"98c1","type":1,"text":"V3010 The return value of function ‘OrderBy’ is required to be utilized. ICSharpCode.SharpDevelop RefactoringService.cs 86","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3010/","title":"","rel":"","anchorType":0}]},{"name":"32c0","type":8,"text":"static IEnumerable\x3cITreeNode\x3cIClass\x3e\x3e FindDerivedClassesTree(....)\n{\n  ....\n  var result = new List\x3cTreeNode\x3cIClass\x3e\x3e();\n  ....\n  result.OrderBy(node =\x3e node.Content.FullyQualifiedName);  // \x3c=\n  return result;\n}","markups":[{"type":10,"start":0,"end":212},{"type":1,"start":0,"end":6},{"type":1,"start":91,"end":94},{"type":1,"start":196,"end":202}]},{"name":"6010","type":1,"text":"The result of sorting the result list is not stored anywhere. The corrected version of the fragment given above:","markups":[{"type":2,"start":26,"end":32}]},{"name":"029f","type":8,"text":"static IEnumerable\x3cITreeNode\x3cIClass\x3e\x3e FindDerivedClassesTree(....)\n{\n  ....\n  var result = new List\x3cTreeNode\x3cIClass\x3e\x3e();\n  ....\n  return result.OrderBy(node =\x3e node.Content.FullyQualifiedName);\n}","markups":[{"type":10,"start":0,"end":195},{"type":1,"start":0,"end":6},{"type":1,"start":91,"end":94},{"type":1,"start":130,"end":136}]},{"name":"5b34","type":1,"text":"One more similar bug:","markups":[]},{"name":"a75e","type":1,"text":"V3010 The return value of function ‘ToString’ is required to be utilized. CodeCompletion SymTable.cs 2145","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3010/","title":"","rel":"","anchorType":0}]},{"name":"6b96","type":1,"text":"A logic problem","markups":[{"type":1,"start":0,"end":15}]},{"name":"adb4","type":1,"text":"V3018 Consider inspecting the application’s logic. It’s possible that ‘else’ keyword is missing. VisualPascalABCNET InsightWindow.cs 145","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3018/","title":"","rel":"","anchorType":0}]},{"name":"b3a9","type":8,"text":"public void HandleMouseWheel(MouseEventArgs e)\n{\n  ....\n  if (e.Delta \x3e 0) {\n    if (control.TextEditorProperties.MouseWheelScrollDown) {\n      CurrentData = (CurrentData + 1) % DataProvider.InsightDataCount;\n    } else {\n      CurrentData = (CurrentData + DataProvider.InsightDataCount - 1)\n        % DataProvider.InsightDataCount;\n    }\n  } if (e.Delta \x3c 0) {  // \x3c=\n      if (control.TextEditorProperties.MouseWheelScrollDown) {\n        CurrentData = (CurrentData + DataProvider.InsightDataCount\n          - 1) % DataProvider.InsightDataCount;\n      } else {\n        CurrentData = (CurrentData + 1) %\n          DataProvider.InsightDataCount;\n      }\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":665},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":28},{"type":1,"start":58,"end":60},{"type":1,"start":81,"end":83},{"type":1,"start":215,"end":219},{"type":1,"start":343,"end":345},{"type":1,"start":375,"end":377},{"type":1,"start":555,"end":559}]},{"name":"87cf","type":1,"text":"Pay attention to the condition f (e.Delta \x3c 0). Looking at the formatting of the code and the program logic, we may say that perhaps the keyword else is missing here. However, only the author can give an exact answer about the specifics of this construction.","markups":[{"type":2,"start":31,"end":46},{"type":2,"start":145,"end":149}]},{"name":"6648","type":1,"text":"A classic error when working with the “as” operator","markups":[{"type":1,"start":0,"end":51}]},{"name":"6295","type":1,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘baseScope’, ‘this.baseScope’. CodeCompletion SymTable.cs 3497","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"12b1","type":8,"text":"public TypeScope(...., SymScope baseScope)\n{\n  ....\n  this.baseScope = baseScope as TypeScope;\n  ....\n  if (baseScope == null)\n  {\n    ....\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":152},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":16},{"type":1,"start":54,"end":58},{"type":1,"start":104,"end":106}]},{"name":"05d4","type":1,"text":"After casting the baseScope argument to the TypeScope, by mistake this argument gets verified against null, not the field this.baseScope. Correct variant of the code:","markups":[{"type":2,"start":18,"end":28},{"type":2,"start":44,"end":55},{"type":2,"start":102,"end":108},{"type":2,"start":122,"end":137}]},{"name":"9521","type":8,"text":"public TypeScope(...., SymScope baseScope)\n{\n  ....\n  this.baseScope = baseScope as TypeScope;\n  ....\n  if (this.baseScope == null)\n  {\n    ....\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":157},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":16},{"type":1,"start":54,"end":58},{"type":1,"start":104,"end":106},{"type":1,"start":108,"end":112}]},{"name":"3e4f","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"5300","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘ts’. CodeCompletion ExpressionVisitor.cs 1595","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"2e9a","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘tmp_scope’. CodeCompletion DomSyntaxTreeVisitor.cs 1553","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"7cff","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘ts.elementType’. CodeCompletion DomSyntaxTreeVisitor.cs 2815","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"d335","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘returned_scope’, ‘es.elementType’. CodeCompletion DomSyntaxTreeVisitor.cs 2828","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"eb10","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 21","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"839b","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 91","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"dc71","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 115","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"eeaf","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘node’, ‘solutionFolderNode’. ICSharpCode.SharpDevelop SolutionNodeCommands.cs 138","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"7378","type":9,"text":"V3019 Possibly an incorrect variable is compared to null after type conversion using ‘as’ keyword. Check variables ‘rr’, ‘mrr’. ICSharpCode.SharpDevelop RefactoringService.cs 330","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3019/","title":"","rel":"","anchorType":0}]},{"name":"0d47","type":1,"text":"Sloppy code","markups":[{"type":1,"start":0,"end":11}]},{"name":"78c5","type":1,"text":"V3022 Expression ‘t == null’ is always true. VisualPascalABCNET Debugger.cs 141","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"2b09","type":8,"text":"public static Type GetTypeForStatic(string name)\n{\n  Type t = stand_types[name] as Type;\n  if (t != null) return t;\n  if (t == null)  //  \x3c=\n    foreach (string s in ns_ht.Keys)\n    {\n      ....\n    }\n  t = PascalABCCompiler.NetHelper.NetHelper.FindType(name);\n  ....\n}","markups":[{"type":10,"start":0,"end":269},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":13},{"type":1,"start":19,"end":35},{"type":1,"start":91,"end":93},{"type":1,"start":106,"end":112},{"type":1,"start":118,"end":120}]},{"name":"72ef","type":1,"text":"There is no error here, but the program looks very uncareful.","markups":[]},{"name":"28f2","type":1,"text":"Similar constructions in the code:","markups":[]},{"name":"8bf5","type":9,"text":"V3022 Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 91","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"ef49","type":9,"text":"V3022 Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 114","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"d7e9","type":9,"text":"V3022 Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 136","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"70c3","type":9,"text":"V3022 Expression ‘CodeCompletion.CodeCompletionController.CurrentParser == null’ is always false. VisualPascalABCNET CodeCompletionKeyHandler.cs 183","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"0cb3","type":9,"text":"V3022 Expression ‘defaultCompletionElement == null && data != null’ is always false. VisualPascalABCNET CodeCompletionProvider.cs 507","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"71e0","type":9,"text":"V3022 Expression ‘inRecalculateNeedsRedraw’ is always false. VisualPascalABCNET DynamicTreeView.cs 1103","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"21ed","type":9,"text":"V3022 Expression ‘expressionResult != null && expressionResult != “”’ is always false. VisualPascalABCNET CodeCompletionActions.cs 225","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"8d69","type":9,"text":"V3022 Expression ‘SaveCanceled’ is always false. VisualPascalABCNET FileOperations.cs 442","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"d100","type":9,"text":"V3022 Expression ‘!SaveCanceled’ is always true. VisualPascalABCNET FileOperations.cs 450","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"4cf1","type":9,"text":"V3022 Expression ‘_format_expr.format2 != null’ is always true. VisualPascalABCNET ExpressionEvaluation.cs 7028","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3022/","title":"","rel":"","anchorType":0}]},{"name":"2bad","type":1,"text":"I’ve given only the first 10 warnings out of the list of 45.","markups":[]},{"name":"69b2","type":1,"text":"Redundant check or an error?","markups":[{"type":1,"start":0,"end":28}]},{"name":"3e75","type":1,"text":"V3030 Recurring check. The ‘upperScopeWhereVarsAreCaptured != scope’ condition was already verified in line 383. TreeConverter CapturedVariablesSubstitutionClassGenerator.cs 391","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3030/","title":"","rel":"","anchorType":0}]},{"name":"048b","type":8,"text":"private void VisitCapturedVar(....)\n{\n  ....\n  if (upperScopeWhereVarsAreCaptured != scope)\n  {\n  ....\n    if (upperScopeWhereVarsAreCaptured != scope)\n    {\n      ....\n    }\n    ....\n  }\n  ....    \n}","markups":[{"type":10,"start":0,"end":200},{"type":1,"start":0,"end":7},{"type":1,"start":8,"end":12},{"type":1,"start":13,"end":29},{"type":1,"start":47,"end":49},{"type":1,"start":107,"end":109}]},{"name":"0aa3","type":1,"text":"Typically, such constructions are not error, but there is a chance that one of the checks was to contain a different condition.","markups":[]},{"name":"ff0d","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"082b","type":9,"text":"V3030 Recurring check. The ‘kav.Count == 0’ condition was already verified in line 2515. ParserTools DefaultLanguageInformation.cs 2518","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3030/","title":"","rel":"","anchorType":0}]},{"name":"588d","type":9,"text":"V3030 Recurring check. The ‘ret_tn != null’ condition was already verified in line 289. CodeCompletion FindReferences.cs 291","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3030/","title":"","rel":"","anchorType":0}]},{"name":"8d43","type":9,"text":"V3030 Recurring check. The ‘kav.Count == 0’ condition was already verified in line 885. VBNETParser LanguageInformation.cs 888","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3030/","title":"","rel":"","anchorType":0}]},{"name":"4195","type":1,"text":"Strange formatting","markups":[{"type":1,"start":0,"end":18}]},{"name":"2710","type":1,"text":"V3033 It is possible that this ‘else’ branch must apply to the previous ‘if’ statement. TreeConverter syntax_tree_visitor.cs 14894","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3033/","title":"","rel":"","anchorType":0}]},{"name":"57cd","type":8,"text":"public override void visit(....)\n{\n  ....\n  if (_var_def_statement.inital_value != null)\n    if (is_event) AddError(....);\n  else\n  {\n    ....\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":155},{"type":1,"start":0,"end":6},{"type":1,"start":16,"end":20},{"type":1,"start":21,"end":26},{"type":1,"start":44,"end":46},{"type":1,"start":93,"end":95},{"type":1,"start":125,"end":129}]},{"name":"3816","type":1,"text":"According to the logic of the program, the else keyword refers to the if (is_event) condition block. However, the code is formatted in such a way that creates quite a different impression. Perhaps, another pair of {} brackets would solve this problem.","markups":[{"type":2,"start":43,"end":47},{"type":2,"start":70,"end":84},{"type":2,"start":214,"end":217}]},{"name":"ab00","type":1,"text":"A typo","markups":[{"type":1,"start":0,"end":6}]},{"name":"0d8a","type":1,"text":"V3038 The ‘enum_consts[i]’ argument was passed to ‘Compare’ method several times. It is possible that other argument should be passed instead. CodeCompletion SymTable.cs 2206","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3038/","title":"","rel":"","anchorType":0}]},{"name":"b22c","type":8,"text":"private List\x3cstring\x3e enum_consts = new List\x3cstring\x3e();\npublic override bool IsEqual(SymScope ts)\n{\n  EnumScope es = ts as EnumScope;\n  if (es == null) return false;\n  if (enum_consts.Count != es.enum_consts.Count) return false;\n  for (int i = 0; i \x3c es.enum_consts.Count; i++)\n    if (string.Compare(enum_consts[i],\n                       this.enum_consts[i], true) != 0)  // \x3c=\n      return false;\n  return true;\n}","markups":[{"type":10,"start":0,"end":415},{"type":1,"start":0,"end":7},{"type":1,"start":35,"end":38},{"type":1,"start":55,"end":61},{"type":1,"start":71,"end":75},{"type":1,"start":76,"end":83},{"type":1,"start":135,"end":137},{"type":1,"start":151,"end":157},{"type":1,"start":167,"end":169},{"type":1,"start":214,"end":220},{"type":1,"start":230,"end":233},{"type":1,"start":235,"end":238},{"type":1,"start":281,"end":283},{"type":1,"start":339,"end":343},{"type":1,"start":385,"end":391},{"type":1,"start":401,"end":407}]},{"name":"b7d4","type":1,"text":"Unfortunately, the IsEqual method doesn’t have the declaration of the local variable enum_consts. That’s why the elements of the enum_consts inside the for loop are compared with themselves. Judging by the way IsEqual method looks, we can make an assumption about the correct variant of the code:","markups":[{"type":2,"start":19,"end":27},{"type":2,"start":85,"end":96},{"type":2,"start":129,"end":140},{"type":2,"start":152,"end":155},{"type":2,"start":209,"end":218}]},{"name":"6128","type":8,"text":"public override bool IsEqual(SymScope ts)\n{\n  ....\n  for (int i = 0; i \x3c es.enum_consts.Count; i++)\n    if (string.Compare(enum_consts[i],\n                       es.enum_consts[i], true) != 0)\n    ....\n}","markups":[{"type":10,"start":0,"end":203},{"type":1,"start":0,"end":6},{"type":1,"start":16,"end":20},{"type":1,"start":21,"end":28},{"type":1,"start":53,"end":56},{"type":1,"start":58,"end":61},{"type":1,"start":104,"end":106}]},{"name":"fbf9","type":1,"text":"The problem with the logic v2.0","markups":[{"type":1,"start":0,"end":31}]},{"name":"bf10","type":1,"text":"V3043 The code’s operational logic does not correspond with its formatting. The statement is indented to the right, but it is always executed. It is possible that curly brackets are missing. VBNETParser LanguageInformation.cs 1002","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3043/","title":"","rel":"","anchorType":0}]},{"name":"3709","type":8,"text":"public override string FindExpression(....)\n{\n  ....\n  switch (ch)\n  {\n    ....\n    case '(':\n      if (kav.Count == 0)\n      {\n        ....\n      }\n      else sb.Insert(0, ch); punkt_sym = true;\n      break;\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":221},{"type":1,"start":0,"end":6},{"type":1,"start":23,"end":37},{"type":1,"start":55,"end":61},{"type":1,"start":84,"end":88},{"type":1,"start":100,"end":102},{"type":1,"start":155,"end":159},{"type":1,"start":202,"end":207}]},{"name":"774f","type":1,"text":"The assignment punkt_sym = true will be executed regardless of the result of the check kav.Count == 0. However, the code formatted in such a way that we have an impression that this will be done only upon the condition kav.Count != 0.","markups":[{"type":2,"start":15,"end":32},{"type":2,"start":87,"end":101},{"type":2,"start":219,"end":233}]},{"name":"d2da","type":1,"text":"Another similar error:","markups":[]},{"name":"7896","type":1,"text":"V3043 The code’s operational logic does not correspond with its formatting. The statement is indented to the right, but it is always executed. It is possible that curly brackets are missing. ICSharpCode.SharpDevelop AbstractConsolePad.cs 159","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3043/","title":"","rel":"","anchorType":0}]},{"name":"d568","type":1,"text":"A loss of an exception stack","markups":[{"type":1,"start":0,"end":28}]},{"name":"093a","type":1,"text":"V3052 The original exception object ‘e’ was swallowed. Stack of original exception could be lost. NETGenerator NETGenerator.cs 925","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3052/","title":"","rel":"","anchorType":0}]},{"name":"3252","type":8,"text":"public void ConvertFromTree(....)\n{\n  ....\n  try\n  {\n    ....\n  }\n  catch (System.Runtime.InteropServices.COMException e)\n  {\n    throw new TreeConverter.SaveAssemblyError(e.Message);\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":196},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":27},{"type":1,"start":45,"end":48},{"type":1,"start":68,"end":73},{"type":1,"start":130,"end":135},{"type":1,"start":136,"end":139}]},{"name":"afc3","type":1,"text":"From the object of the thrown exception of the COMException type, the developer uses only the text of the message. Apparently, this is a deliberate action, because further on, an exception of the SaveAssemblyError type is thrown, whose constructor doesn’t require anything besides the text of the message:","markups":[{"type":2,"start":47,"end":60},{"type":2,"start":196,"end":214}]},{"name":"7ad4","type":8,"text":"public class SaveAssemblyError : CompilationError\n{\n  ....\n  public SaveAssemblyError(string text)\n  {\n    _text = text;\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":133},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":12},{"type":1,"start":61,"end":67},{"type":1,"start":68,"end":85}]},{"name":"c115","type":1,"text":"Of course, it is a right of the author to implement in such a way. However, the exception handling in this case doesn’t look complete.","markups":[]},{"name":"0acf","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"2589","type":9,"text":"V3052 The original exception object ‘e’ was swallowed. Stack of original exception could be lost. NETGenerator NETGenerator.cs 929","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3052/","title":"","rel":"","anchorType":0}]},{"name":"64f0","type":9,"text":"V3052 The original exception object ‘ex’ was swallowed. Stack of original exception could be lost. ICSharpCode.SharpDevelop ReferenceFolderNodeCommands.cs 92","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3052/","title":"","rel":"","anchorType":0}]},{"name":"0a96","type":9,"text":"V3052 The original exception object ‘ex’ was swallowed. Stack of original exception could be lost. TreeConverter syntax_tree_visitor.cs 16324","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3052/","title":"","rel":"","anchorType":0}]},{"name":"2b1d","type":1,"text":"Substring handling error","markups":[{"type":1,"start":0,"end":24}]},{"name":"b6ce","type":1,"text":"V3053 An excessive expression. Examine the substrings ‘reduction’ and ‘reduction(‘. TreeConverter OpenMP.cs 267","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3053/","title":"","rel":"","anchorType":0}]},{"name":"10e1","type":8,"text":"private void ProcessClauses(string Text, ....)\n{\n  ....\n  if (....)\n  {\n    ....\n  }\n  else if (AllowReduction && \n          (Text.StartsWith(\"reduction\") ||\n           Text.StartsWith(\"reduction(\")))\n  {\n    ....\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":226},{"type":1,"start":0,"end":7},{"type":1,"start":8,"end":12},{"type":1,"start":13,"end":27},{"type":1,"start":58,"end":60},{"type":1,"start":87,"end":91},{"type":1,"start":92,"end":94}]},{"name":"08f6","type":1,"text":"In this case the search of the “reduction(“ substring is meaningless, because earlier there will always be a “reduction” substring found.","markups":[{"type":2,"start":32,"end":42}]},{"name":"360f","type":1,"text":"Erroneous initialization order","markups":[{"type":1,"start":0,"end":30}]},{"name":"3643","type":1,"text":"V3070 Uninitialized variable ‘event_add_method_prefix’ is used when initializing the ‘event_add_method_nameformat’ variable. TreeConverter compiler_string_consts.cs 313","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3070/","title":"","rel":"","anchorType":0}]},{"name":"6953","type":8,"text":"public static class compiler_string_consts\n{\n  ....\n  public static string event_add_method_nameformat =\n         event_add_method_prefix + \"{0}\";\n  ....\n  public static string event_add_method_prefix = \"add_\";\n  ....\n}","markups":[{"type":10,"start":0,"end":219},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":13},{"type":1,"start":14,"end":19},{"type":1,"start":54,"end":60},{"type":1,"start":61,"end":67},{"type":1,"start":156,"end":162},{"type":1,"start":163,"end":169}]},{"name":"c880","type":1,"text":"The string event_add_method_nameformat will get “{0}” value instead of the expected “add_{0}” in the result of the code fragment execution. To fix this, we should switch places of the field initialization strings:","markups":[{"type":2,"start":11,"end":39},{"type":2,"start":47,"end":54},{"type":2,"start":84,"end":94}]},{"name":"124a","type":8,"text":"public static class compiler_string_consts\n{\n  ....\n  public static string event_add_method_prefix = \"add_\";\n  ....\n  public static string event_add_method_nameformat =\n         event_add_method_prefix + \"{0}\";\n  ....\n}","markups":[{"type":10,"start":0,"end":219},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":13},{"type":1,"start":14,"end":19},{"type":1,"start":54,"end":60},{"type":1,"start":61,"end":67},{"type":1,"start":118,"end":124},{"type":1,"start":125,"end":131}]},{"name":"3a5c","type":1,"text":"Another similar error:","markups":[]},{"name":"9d3f","type":1,"text":"V3070 Uninitialized variable ‘event_remove_method_prefix’ is used when initializing the ‘event_remove_method_nameformat’ variable. TreeConverter compiler_string_consts.cs 314","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3070/","title":"","rel":"","anchorType":0}]},{"name":"acaf","type":1,"text":"Access by null reference: sloppy refactoring","markups":[{"type":1,"start":0,"end":44}]},{"name":"c625","type":1,"text":"V3080 Possible null dereference. Consider inspecting ‘tc’. CodeCompletion CodeCompletionPCUReader.cs 736","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"6e9f","type":8,"text":"private TypeScope GetTemplateInstance()\n{\n  TypeScope tc = null;//GetTemplateClassReference();\n  int params_count = br.ReadInt32();\n  for (int i = 0; i \x3c params_count; i++)\n  {\n    tc.AddGenericInstanciation(GetTypeReference());  // \x3c=\n  }\n  return tc;\n}","markups":[{"type":10,"start":0,"end":254},{"type":1,"start":0,"end":7},{"type":1,"start":18,"end":37},{"type":1,"start":97,"end":100},{"type":1,"start":134,"end":137},{"type":1,"start":139,"end":142},{"type":1,"start":242,"end":248}]},{"name":"15c9","type":1,"text":"As we see, previously, the variable tc is initialized with the value GetTemplateClassReference(). However, now it is null. As a result, on the first iteration of the for loop we will get the error of the access by the null reference. Perhaps, the error hasn’t revealed itself yet, as the calls of the method GetTemplateInstance() are absent in the code. There is no guarantee, that in the future it will be the same.","markups":[{"type":2,"start":36,"end":39},{"type":2,"start":69,"end":96},{"type":2,"start":117,"end":121},{"type":2,"start":166,"end":169},{"type":2,"start":308,"end":330}]},{"name":"4122","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"2c0e","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7334","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"05a8","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7336","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"cafc","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7338","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"4563","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7340","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"3ecb","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7409","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"5821","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7411","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"6137","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7413","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"4d02","type":9,"text":"V3080 Possible null dereference. Consider inspecting ‘bfc’. TreeConverter syntax_tree_visitor.cs 7415","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3080/","title":"","rel":"","anchorType":0}]},{"name":"aaac","type":1,"text":"Access by the null reference: inattentiveness","markups":[{"type":1,"start":0,"end":45}]},{"name":"ae2a","type":1,"text":"V3095 The ‘VisualEnvironmentCompiler.RemoteCompiler’ object was used before it was verified against null. Check lines: 52, 54. CompilerController CompilerControllerPlugin.cs 52","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"1a96","type":8,"text":"public CompilerController_VisualPascalABCPlugin(....)\n{\n  ....\n  VisualEnvironmentCompiler.RemoteCompiler.InternalDebug.RunOnMono = \n    CompilerInformation.cbRunMono.Checked;\n  ....\n  if (VisualEnvironmentCompiler.RemoteCompiler != null)\n    ....\n}","markups":[{"type":10,"start":0,"end":249},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":47},{"type":1,"start":185,"end":187}]},{"name":"a25b","type":1,"text":"The verification of the variable against null is done after it was used. Correct variant of the code:","markups":[{"type":2,"start":41,"end":45}]},{"name":"b1cb","type":8,"text":"public CompilerController_VisualPascalABCPlugin(....)\n{\n  ....\n  if (VisualEnvironmentCompiler.RemoteCompiler != null)\n  {\n    VisualEnvironmentCompiler.RemoteCompiler.\n    InternalDebug.RunOnMono = \n      CompilerInformation.cbRunMono.Checked;\n    ....\n  }\n}","markups":[{"type":10,"start":0,"end":259},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":47},{"type":1,"start":65,"end":67}]},{"name":"5ba5","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"7e77","type":9,"text":"V3095 The ‘cun’ object was used before it was verified against null. Check lines: 400, 401. Compiler PCUReader.cs 400","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"9b11","type":9,"text":"V3095 The ‘cnfn.ConnectedToType.element_type’ object was used before it was verified against null. Check lines: 2918, 2930. Compiler PCUReader.cs 2918","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"2402","type":9,"text":"V3095 The ‘_currentTreeNode’ object was used before it was verified against null. Check lines: 590, 593. TreeConverter CapturedVariablesTreeBuilder.cs 590","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"d5ef","type":9,"text":"V3095 The ‘Units’ object was used before it was verified against null. Check lines: 3031, 3073. Compiler Compiler.cs 3031","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"fbd1","type":9,"text":"V3095 The ‘frm’ object was used before it was verified against null. Check lines: 2358, 2364. NETGenerator NETGenerator.cs 2358","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"8eb3","type":9,"text":"V3095 The ‘InitalValue’ object was used before it was verified against null. Check lines: 2915, 2918. NETGenerator NETGenerator.cs 2915","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"c1a4","type":9,"text":"V3095 The ‘InitalValue’ object was used before it was verified against null. Check lines: 2952, 2956. NETGenerator NETGenerator.cs 2952","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"b846","type":9,"text":"V3095 The ‘InitalValue’ object was used before it was verified against null. Check lines: 3005, 3009. NETGenerator NETGenerator.cs 3005","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"34cc","type":9,"text":"V3095 The ‘InitalValue’ object was used before it was verified against null. Check lines: 3041, 3045. NETGenerator NETGenerator.cs 3041","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"f491","type":9,"text":"V3095 The ‘InitalValue’ object was used before it was verified against null. Check lines: 3103, 3107. NETGenerator NETGenerator.cs 3103","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3095/","title":"","rel":"","anchorType":0}]},{"name":"a10a","type":1,"text":"I have cited here the first 10 similar errors out of more than 40.","markups":[]},{"name":"f70d","type":1,"text":"Infinite recursion: x2","markups":[{"type":1,"start":0,"end":22}]},{"name":"44a5","type":1,"text":"V3110 Possible infinite recursion inside ‘SetRange’ method. TreeConverter SymbolInfoArrayList.cs 439","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3110/","title":"","rel":"","anchorType":0}]},{"name":"37b7","type":1,"text":"V3110 Possible infinite recursion inside ‘SetRange’ method. TreeConverter SymbolInfoArrayList.cs 444","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3110/","title":"","rel":"","anchorType":0}]},{"name":"6280","type":8,"text":"public void SetRange(int index,SymbolInfo[] tnarr)\n{\n  SetRange(index,tnarr);\n}","markups":[{"type":10,"start":0,"end":79},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":20},{"type":1,"start":21,"end":24}]},{"name":"441c","type":8,"text":"public void SetRange(int index,SymbolInfoArrayList tnarl)\n{\n  SetRange(index,tnarl);\n}","markups":[{"type":10,"start":0,"end":86},{"type":1,"start":0,"end":6},{"type":1,"start":7,"end":11},{"type":1,"start":12,"end":20},{"type":1,"start":21,"end":24}]},{"name":"b691","type":1,"text":"Here are two methods at once that implement an infinite recursion. Both methods are similar and differ only by the type of the second argument. They aren’t used anywhere in the code. At least, they aren’t used yet.","markups":[]},{"name":"5901","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"6330","type":9,"text":"V3110 Possible infinite recursion inside ‘node_kind’ property. TreeConverter functions.cs 2528","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3110/","title":"","rel":"","anchorType":0}]},{"name":"9b01","type":9,"text":"V3110 Possible infinite recursion inside ‘node_location_kind’ property. TreeConverter functions.cs 2590","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3110/","title":"","rel":"","anchorType":0}]},{"name":"af35","type":9,"text":"V3110 Possible infinite recursion inside ‘node_kind’ property. TreeConverter functions.cs 2693","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3110/","title":"","rel":"","anchorType":0}]},{"name":"eab1","type":9,"text":"V3110 Possible infinite recursion inside ‘node_location_kind’ property. TreeConverter functions.cs 2704","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3110/","title":"","rel":"","anchorType":0}]},{"name":"6f57","type":9,"text":"V3110 Possible infinite recursion inside ‘Instance’ property. ParserTools LanguageInformation.cs 549","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3110/","title":"","rel":"","anchorType":0}]},{"name":"7ff0","type":1,"text":"Careless initialization of the Equals method","markups":[{"type":1,"start":0,"end":44}]},{"name":"260d","type":1,"text":"V3115 Passing ‘null’ to ‘Equals’ method should not result in ‘NullReferenceException’. ICSharpCode.SharpDevelop ServiceReferenceMapFile.cs 31","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3115/","title":"","rel":"","anchorType":0}]},{"name":"fa63","type":8,"text":"public override bool Equals(object obj)\n{\n  var rhs = obj as ServiceReferenceMapFile;\n  return FileName == rhs.FileName;  // \x3c=\n}","markups":[{"type":10,"start":0,"end":129},{"type":1,"start":0,"end":6},{"type":1,"start":16,"end":20},{"type":1,"start":21,"end":27},{"type":1,"start":88,"end":94}]},{"name":"e932","type":1,"text":"The author of this code fragment was rather careless about the security issues in his work. At least one check against null of the rhs variable is missing after its initialization. To avoid doing extra work, it’s better to do a preliminary check of the obj variable against null:","markups":[{"type":2,"start":119,"end":123},{"type":2,"start":131,"end":134},{"type":2,"start":253,"end":256},{"type":2,"start":274,"end":278}]},{"name":"13b4","type":8,"text":"public override bool Equals(object obj)\n{\n  if (obj == null || !(obj is ServiceReferenceMapFile))\n    return false;\n  var rhs = obj as ServiceReferenceMapFile;\n  return FileName == rhs.FileName;\n}","markups":[{"type":10,"start":0,"end":196},{"type":1,"start":0,"end":6},{"type":1,"start":16,"end":20},{"type":1,"start":21,"end":27},{"type":1,"start":44,"end":46},{"type":1,"start":102,"end":108},{"type":1,"start":162,"end":168}]},{"name":"dd11","type":1,"text":"Insufficient number of checks","markups":[{"type":1,"start":0,"end":29}]},{"name":"f116","type":1,"text":"V3125 The ‘resources’ object was used after it was verified against null. Check lines: 215, 211. VisualPascalABCNET DesignerResourceService.cs 215","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"91e8","type":8,"text":"public System.Resources.IResourceReader\n  GetResourceReader(System.Globalization.CultureInfo info)\n{\n  ....\n  if (resources != null && resources.ContainsKey(info.Name)) {\n    resourceStorage = resources[info.Name];\n  } else {\n    resourceStorage = new ResourceStorage();\n    resources[info.Name] = resourceStorage;  // \x3c=\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":334},{"type":1,"start":0,"end":6},{"type":1,"start":42,"end":59},{"type":1,"start":110,"end":112},{"type":1,"start":219,"end":223},{"type":1,"start":248,"end":251}]},{"name":"1257","type":1,"text":"The variable resources is verified against null, but it’s not enough, because the else block doesn’t have such a check. In certain circumstances, this will inevitably lead to access by null reference. The code should be corrected:","markups":[{"type":2,"start":13,"end":23},{"type":2,"start":43,"end":49},{"type":2,"start":82,"end":86}]},{"name":"20e8","type":8,"text":"public System.Resources.IResourceReader\n  GetResourceReader(System.Globalization.CultureInfo info)\n{\n  ....\n  if (resources != null) {\n    if (resources.ContainsKey(info.Name)) {\n      resourceStorage = resources[info.Name];\n    } else {\n      resourceStorage = new ResourceStorage();\n      resources[info.Name] = resourceStorage;\n    }\n  }\n  ....\n}","markups":[{"type":10,"start":0,"end":349},{"type":1,"start":0,"end":6},{"type":1,"start":42,"end":59},{"type":1,"start":110,"end":112},{"type":1,"start":139,"end":141},{"type":1,"start":231,"end":235},{"type":1,"start":262,"end":265}]},{"name":"f326","type":1,"text":"Similar errors in the code:","markups":[]},{"name":"4a11","type":9,"text":"V3125 The ‘this._grid’ object was used after it was verified against null. Check lines: 751, 746. VisualPascalABCNET TreeGridNode.cs 751","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"60a9","type":9,"text":"V3125 The ‘this._grid’ object was used after it was verified against null. Check lines: 774, 770. VisualPascalABCNET TreeGridNode.cs 774","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"da06","type":9,"text":"V3125 The ‘node.Parent’ object was used after it was verified against null. Check lines: 369, 350. VisualPascalABCNET TreeGridView.cs 369","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"6cb8","type":9,"text":"V3125 The ‘CurrentCodeFileDocument’ object was used after it was verified against null. Check lines: 395, 384. VisualPascalABCNET WindowOperations.cs 395","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"351e","type":9,"text":"V3125 The ‘value.main_function’ object was used after it was verified against null. Check lines: 948, 942. LanguageConverter Visitor.cs 948","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"e403","type":9,"text":"V3125 The ‘left.prim_val’ object was used after it was verified against null. Check lines: 4711, 4699. VisualPascalABCNET ExpressionEvaluation.cs 4711","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"bbed","type":9,"text":"V3125 The ‘left.obj_val’ object was used after it was verified against null. Check lines: 4849, 4822. VisualPascalABCNET ExpressionEvaluation.cs 4849","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"0751","type":9,"text":"V3125 The ‘to’ object was used after it was verified against null. Check lines: 335, 327. TreeConverter CapturedVariablesTreeBuilder.cs 335","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"efc8","type":9,"text":"V3125 The ‘dii_left’ object was used after it was verified against null. Check lines: 256, 254. TreeConverter LambdaHelper.cs 256","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"0a57","type":9,"text":"V3125 The ‘t’ object was used after it was verified against null. Check lines: 23, 20. TreeConverter semantic_checks_for_sugar.cs 23","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3125/","title":"","rel":"","anchorType":0}]},{"name":"5fc0","type":1,"text":"I have provided only 10 similar errors out of more than 80 (eighty!).","markups":[]},{"name":"56ed","type":1,"text":"Erroneous initialization order","markups":[{"type":1,"start":0,"end":30}]},{"name":"6733","type":1,"text":"V3128 The ‘dockPanel’ field is used before it is initialized in constructor. ICSharpCode.SharpDevelop SearchResultsPad.cs 49","markups":[{"type":3,"start":0,"end":5,"href":"https://www.viva64.com/en/w/v3128/","title":"","rel":"","anchorType":0}]},{"name":"ad02","type":8,"text":"....\nDockPanel dockPanel;\n....\npublic SearchResultsPad()\n{\n  ....\n  defaultToolbarItems = ToolBarService.\n    CreateToolBarItems(dockPanel, ....);  // \x3c=\n  foreach (object toolBarItem in defaultToolbarItems) {\n    toolBar.Items.Add(toolBarItem);\n  }\n  ....\n  dockPanel = new DockPanel {\n    Children = { toolBar, contentPlaceholder }\n  };\n  ....\n}","markups":[{"type":10,"start":0,"end":347},{"type":1,"start":31,"end":37},{"type":1,"start":38,"end":54},{"type":1,"start":271,"end":274}]},{"name":"915c","type":1,"text":"The field dockPanel is firstly used in the constructor SearchResultsPad, and then it is initialized. Even if in the method CreateToolBarItems or in the nested methods the first argument the equality to null is presupposed, the method will most probably return null. This will lead to more errors when using the variable defaultToolbarItems.","markups":[{"type":2,"start":10,"end":20},{"type":2,"start":55,"end":73},{"type":2,"start":123,"end":142},{"type":2,"start":202,"end":206},{"type":2,"start":265,"end":266},{"type":2,"start":320,"end":339}]},{"name":"6d3a","type":3,"text":"Statistics","markups":[]},{"name":"7eef","type":1,"text":"I see the overall picture as follows. The analyzers SonarC# and PVS-Studio solve different tasks. SonarC# is designed to assess and monitor the quality of the code. Therefore, it warns about the code “smells” and errors. PVS-Studio is focused on finding bugs or code fragments that may later lead to errors. Of course, there are some messages of these analyzers that are very similar, but they are designed for different needs:","markups":[]},{"name":"1733","type":9,"text":"SonarC# — is a regular multifactor analysis of metrics and warnings aimed to control the quality of the code;","markups":[]},{"name":"15dc","type":9,"text":"PVS-Studio allows to start looking for errors at any time and thus improve the quality of the code.","markups":[]},{"name":"d87e","type":1,"text":"Here is a summary table of PascalABC.NET analysis results (warnings of Blocker, Critical and Major levels):","markups":[]},{"name":"4a21","type":4,"text":"","markups":[],"layout":1,"metadata":{"id":"0*GEz2B0cJC-3qUdcm.png","originalWidth":504,"originalHeight":120}},{"name":"ce6a","type":1,"text":"I would like to note once again that the analyzers cannot be directly compared by the number of the found bugs and the false positives. SonarC# tries issuing warnings for the code that may be poorly written, but does not contain an error. This helps to evaluate the quality of the code. PVS-Studio, in its turn, prefers to keep silent or issue a warning with Low level of reliability. At the same time, it tries to detect as many errors as possible and is taught to find a large amount of defects, leading to program failures.","markups":[]},{"name":"17b0","type":3,"text":"Conclusion","markups":[]},{"name":"e4bb","type":1,"text":"So, as it was expected, I didn’t have any problems working with PVS-Studio and SonarC# for SonarQube. All functions and features of the tools are documented. Once you upload the results to the SonarQube server, you get the access to numerous functional abilities to assess the quality of your software product. As for the bug search by the source code analyzers, both tools showed decent results.","markups":[]},{"name":"fdc7","type":1,"text":"It’ll take minimum effort and time to upload and analyze the project online on the SonarQube site.","markups":[{"type":3,"start":83,"end":92,"href":"https://sonarqube.com/","title":"","rel":"","anchorType":0}]},{"name":"3ac9","type":1,"text":"Using PVS-Studio plugin for the integration of the results of its work in SonarQube isn’t hard at all as well. The only limitation — you’ll need an Enterprise version of the analyzer. If there is no need to integrate with SonarQube, you can use PVS-Studio as a separate tool.","markups":[{"type":3,"start":148,"end":166,"href":"https://www.viva64.com/en/order/","title":"","rel":"","anchorType":0}]},{"name":"f2dc","type":1,"text":"Download and try PVS-Studio: http://www.viva64.com/en/pvs-studio/","markups":[{"type":3,"start":29,"end":65,"href":"https://www.viva64.com/en/pvs-studio/","title":"","rel":"","anchorType":0}]},{"name":"a944","type":1,"text":"To purchase a commercial license, please contact us via the email. You can also write to us to get a temporary license key for a comprehensive investigation of PVS-Studio, if you want to avoid the limitations of the demo version.","markups":[{"type":3,"start":41,"end":48,"href":"https://www.viva64.com/en/about-feedback/","title":"","rel":"","anchorType":0},{"type":3,"start":197,"end":208,"href":"https://www.viva64.com/en/m/0009/","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"1fea","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"0*udrhcLH0XGSXzppt.png","filter":"","backgroundSize":"","originalWidth":450,"originalHeight":205,"strategy":"resample","height":0,"width":0},"wordCount":7144,"imageCount":34,"readingTime":29.408490566037734,"subtitle":"In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback…","usersBySocialRecommends":[],"recommends":10,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"programming","name":"Programming","postCount":31605,"virtuals":{"isFollowing":false},"metadata":{"followerCount":38669,"postCount":31605,"coverImage":{"id":"1*mR7_k1mHMlsfc01qz-ZPiQ.png","originalWidth":8844,"originalHeight":4235}},"type":"Tag"},{"slug":"open-source","name":"Open Source","postCount":6110,"virtuals":{"isFollowing":false},"metadata":{"followerCount":4916,"postCount":6110,"coverImage":{"id":"1*-h1bH8gB3I7gPh5AG1HmsQ.png","originalWidth":2464,"originalHeight":1280}},"type":"Tag"},{"slug":"sonarqube","name":"Sonarqube","postCount":17,"virtuals":{"isFollowing":false},"metadata":{"followerCount":3,"postCount":17,"coverImage":{"id":"0*udrhcLH0XGSXzppt.png","originalWidth":450,"originalHeight":205}},"type":"Tag"},{"slug":"devops","name":"DevOps","postCount":5518,"virtuals":{"isFollowing":false},"metadata":{"followerCount":3266,"postCount":5518,"coverImage":{"id":"1*4KDv4TN3RmaS6vAg0pMB-g.png","originalWidth":1000,"originalHeight":750}},"type":"Tag"},{"slug":"csharp","name":"Csharp","postCount":667,"virtuals":{"isFollowing":false},"metadata":{"followerCount":546,"postCount":667,"coverImage":{"id":"0*udrhcLH0XGSXzppt.png","originalWidth":450,"originalHeight":205}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[],"version":"0.3","generatedAt":1490778575468},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":0},"coverless":true,"slug":"analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104","previewContent":{"bodyModel":{"paragraphs":[{"name":"398e","type":3,"text":"Analysis of PascalABC.NET using SonarQube plugins: SonarC# and PVS-Studio","markups":[],"alignment":1},{"name":"e9f6","type":1,"text":"In November 2016, we posted an article about the development and use of the PVS-Studio plugin for SonarQube. We received great feedback from our customers and interested users who requested testing the…","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104","mediumUrl":"https://medium.com/@Coder_HarryLee/analysis-of-pascalabc-net-using-sonarqube-plugins-sonarc-and-pvs-studio-f85ac1e08104","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"d282b2777ae0":{"userId":"d282b2777ae0","name":"Harry Lee","username":"Coder_HarryLee","createdAt":1443768668252,"lastPostCreatedAt":1492180033243,"imageId":"1*SgXtZaPRcuXvPvf29R1hfQ.jpeg","backgroundImageId":"1*SzGmibZF821aB2wHA7GqPQ.jpeg","bio":"Enthusiastic developer","twitterScreenName":"","socialStats":{"userId":"d282b2777ae0","usersFollowedCount":43,"usersFollowedByCount":134,"type":"SocialStats"},"social":{"userId":"lo_6abea7a669b5","targetUserId":"d282b2777ae0","type":"Social"},"facebookAccountId":"135775956779876","allowNotes":1,"type":"User"}},"Social":{"d282b2777ae0":{"userId":"lo_6abea7a669b5","targetUserId":"d282b2777ae0","type":"Social"}},"SocialStats":{"d282b2777ae0":{"userId":"d282b2777ae0","usersFollowedCount":43,"usersFollowedByCount":134,"type":"SocialStats"}}}})
// ]]></script></body></html>