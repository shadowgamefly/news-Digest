<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>9 Tips for Rails API Design – Fooyo Blog</title><link rel="canonical" href="https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e"><meta name="title" content="9 Tips for Rails API Design – Fooyo Blog"><meta name="referrer" content="unsafe-url"><meta name="description" content="During working at Fooyo.sg, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve learned through building all the APIs. When designing an API…"><meta property="og:title" content="9 Tips for Rails API Design – Fooyo Blog"><meta property="og:url" content="https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="During working at Fooyo.sg, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve…"><meta name="twitter:description" content="During working at Fooyo.sg, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve…"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://blog.fooyo.sg/@zeyu"><meta property="author" content="Chen Zeyu"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://blog.fooyo.sg/@zeyu"><meta property="fb:smart_publish:robots" content="noauto"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2016-08-10T10:06:05.986Z"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Fooyo Blog"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="4 min read"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":298,"height":72,"url":"https://cdn-images-1.medium.com/max/298/1*-9pC8FOrn1Ly3J42OqL3Tg.png"},"datePublished":"2016-08-10T10:06:05.986Z","dateModified":"2016-08-26T05:02:00.824Z","headline":"9 Tips for Rails API Design","name":"9 Tips for Rails API Design","keywords":["API","Ruby on Rails","Software Development","Rest Api","Software Design"],"author":{"@type":"Person","name":"Chen Zeyu","url":"https://blog.fooyo.sg/@zeyu"},"creator":["Chen Zeyu"],"publisher":{"@type":"Organization","name":"Fooyo Blog","url":"https://blog.fooyo.sg","logo":{"@type":"ImageObject","width":248,"height":60,"url":"https://cdn-images-1.medium.com/max/248/1*-9pC8FOrn1Ly3J42OqL3Tg.png"}},"mainEntityOfPage":"https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e"}</script><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/a75e8e1ed19e"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/a75e8e1ed19e"><meta property="al:android:url" content="medium://p/a75e8e1ed19e"><meta property="al:web:url" content="https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/a75e8e1ed19e" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.g2e09PlZK_j3Lw2AgNmbfQ.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]);_asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-sizeViewHeight100 {height: " + height + "px !important;}.u-sizeViewHeight110 {height: " + Math.round(1.1 * height) + "px !important;}.u-sizeViewHeightMin100 {min-height: " + height + "px !important;}.u-sizeViewHeightMax100 {max-height: " + height + "px !important;}section.section-image--coverFade {height: " + height + "px;}.section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*2OzwszhQI6ojSil965HfPA.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*2OzwszhQI6ojSil965HfPA.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*2OzwszhQI6ojSil965HfPA.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*2OzwszhQI6ojSil965HfPA.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg" color="#171717"></head><body itemscope class=" postShowScreen is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar"><div class="metabar-inner u-marginAuto u-maxWidth1000 u-paddingLeft20 u-paddingRight20 js-metabarMiddle"><div class="metabar-block metabar-block--left u-floatLeft u-height65 u-xs-height56"><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-marginRight18"><div class="u-alignBlock"><a class="js-logCollection" href="https://blog.fooyo.sg?source=logo-lo_a97b52a6442---3cfe7b2ee32c"><img height="36" width="149" class="u-paddingTop5" src="https://cdn-images-1.medium.com/letterbox/149/36/50/50/1*-9pC8FOrn1Ly3J42OqL3Tg.png?source=logoAvatar-lo_a97b52a6442---3cfe7b2ee32c" alt="Fooyo Blog" /></a></div></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-xs-hide"><div class="u-alignBlock"><div class="buttonSet u-lineHeightInherit u-marginLeft0"><div class="buttonSet-inner"><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="sign-in-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/fooyo-blog" data-collection-id="3cfe7b2ee32c"><span class="button-label  js-buttonLabel">Follow</span></button></div></div></div></div></div><div class="metabar-block u-floatRight u-xs-absolute u-xs-textAlignRight u-xs-right0 u-xs-marginRight20 u-height65 u-xs-height56"><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56"><div class="u-alignBlock"><div class="buttonSet u-lineHeightInherit"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-lineHeight30 u-height32"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fblog.fooyo.sg%2F9-tips-for-rails-api-design-a75e8e1ed19e" data-action="sign-in-prompt" data-redirect="https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e" data-action-source="nav_signup">Sign in / Sign up</a></div></div></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-sizeViewHeightMin100 u-overflowHidden postArticle postArticle--full is-withAccentColors u-marginBottom40"  lang="en"><header class="container u-maxWidth740"><div class="postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="postMetaLockup postMetaLockup--authorWithBio u-flex js-postMetaLockup"><div class="u-flex0"><a class="link avatar u-baseColor--link"  href="https://blog.fooyo.sg/@zeyu?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="6a7801d1f171" data-action-type="hover" data-user-id="6a7801d1f171" data-collection-slug="fooyo-blog" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*dApKJLnEP3H-devQGN5yPA.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Chen Zeyu"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><a class="link link link--darken link--darker u-baseColor--link"  href="https://blog.fooyo.sg/@zeyu?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="6a7801d1f171" data-action-type="hover" data-user-id="6a7801d1f171" data-collection-slug="fooyo-blog" dir="auto">Chen Zeyu</a><span class="followState js-followState buttonSet-inner" data-user-id="6a7801d1f171"><button class="button u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/6a7801d1f171" data-action-source="post_header_lockup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span><div class="postMetaInline u-noWrapWithEllipsis u-xs-normalWrap u-xs-lineClamp2">Cofounder @ fooyo.sg, you can find me at github.com/chenzeyu</div><div class="postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2016-08-10T10:06:05.986Z">Aug 10, 2016</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="4 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="a75e8e1ed19e" data-source="post_page" data-collection-id="3cfe7b2ee32c" data-tracking-context="postPage"><section name="c0b7" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h1 name="20b7" id="20b7" class="graf graf--h3 graf--leading graf--title">9 Tips for Rails API Design</h1><p name="2a81" id="2a81" class="graf graf--p graf-after--h3">During working at <a href="http://www.fooyo.sg" data-href="http://www.fooyo.sg" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Fooyo.sg</a>, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve learned through building all the APIs.</p><h3 name="1e7c" id="1e7c" class="graf graf--h3 graf-after--p">1. API Versioning</h3><p name="36c9" id="36c9" class="graf graf--p graf-after--h3">When designing an API, you may never know what will change in the future. So when the changes are coming, it will be disastrous to change your existing API, the changes might cause minor or significant consequences depending on how consumers are using your API.</p><p name="9789" id="9789" class="graf graf--p graf-after--p">So versioning your API and day one is a wise choice, it comes with zero cost and can adapt to whatever changes that may come by adding a new version without breaking the existing one.</p><p name="096f" id="096f" class="graf graf--p graf-after--p">API versioning can be implemented easily using routes namespace:</p><pre name="1ce9" id="1ce9" class="graf graf--pre graf-after--p">namespace :v1 <strong class="markup--strong markup--pre-strong">do<br>   resources :packages<br>end</strong></pre><p name="dc31" id="dc31" class="graf graf--p graf-after--pre">The code above will generate a route: <strong class="markup--strong markup--p-strong">/v1/packages</strong></p><p name="6247" id="6247" class="graf graf--p graf-after--p">API versioning can also be achieved by using HTTP accept header, however let versioning be part of the URL is more readable in general.</p><h3 name="4b7c" id="4b7c" class="graf graf--h3 graf-after--p">2. API Authentication</h3><p name="b3b3" id="b3b3" class="graf graf--p graf-after--h3">Almost every application requires some kind of authentication since not all resources are public, especially those user specific API like updating and deleting data.</p><p name="f999" id="f999" class="graf graf--p graf-after--p">A token based authentication method is good enough, each time user logs in, the Rails app can generate a random string as token and when the requests come, Rails app check if the token matches.</p><p name="65fb" id="65fb" class="graf graf--p graf-after--p">Rails provides <a href="http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Token/ControllerMethods.html" data-href="http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Token/ControllerMethods.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">support for token based authentication</a>.</p><h3 name="8f0e" id="8f0e" class="graf graf--h3 graf-after--p">3. Use HTTP Verbs</h3><p name="b9e7" id="b9e7" class="graf graf--p graf-after--h3"><a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods" data-href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">HTTP Verbs</a> are defined to indicate the desired action to be performed on the targeted resource.</p><pre name="6362" id="6362" class="graf graf--pre graf-after--p">namespace :v1 <strong class="markup--strong markup--pre-strong">do<br>   resources :packages, only: [index, update, destroy, create]<br>end</strong></pre><p name="9501" id="9501" class="graf graf--p graf-after--pre">This line generates the following HTTP Verb to Rails action mapping:</p><pre name="ba77" id="ba77" class="graf graf--pre graf-after--p"><br>Verb         Action                           Usage</pre><pre name="3950" id="3950" class="graf graf--pre graf-after--pre">GET          packages#index    return a list of packages<br>PUT/PATCH    packages#update   update a specific package<br>DELETE       packages#destroy  delete a specific package<br>POST         packages#create   create a new package</pre><p name="4948" id="4948" class="graf graf--p graf-after--pre">Rails generates the routes so that it’s easier for developers to use the methods correctly, and you should too, especially when creating customised route to actions.</p><h3 name="d31d" id="d31d" class="graf graf--h3 graf-after--p">4. Use HTTP Status Codes</h3><p name="e71f" id="e71f" class="graf graf--p graf-after--h3">Like HTTP Verbs, <a href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Status_codes" data-href="https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Status_codes" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">HTTP Status Codes</a> help API consumers to understand the response of each API call.</p><p name="5d54" id="5d54" class="graf graf--p graf-after--p">For example, when a update request come in to update a model that doesn’t belongs to the user, simply return a HTTP 403 code is good enough for API consumers to understand what is happening, instead of blindly returning 2xx code and indicate the response status in the payload.</p><h3 name="3fa8" id="3fa8" class="graf graf--h3 graf-after--p">5. Parameter Filter</h3><p name="b50a" id="b50a" class="graf graf--p graf-after--h3">Rails 4 has added <a href="http://edgeguides.rubyonrails.org/action_controller_overview.html#strong-parameters" data-href="http://edgeguides.rubyonrails.org/action_controller_overview.html#strong-parameters" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Strong Parameter</a> to whitelist desired parameters. Always use strong parameters to filter out undesired parameters since you never know what parameters will API consumers send. Thus we do not accidentally expose those attributes which shouldn’t be exposed.</p><h3 name="30ac" id="30ac" class="graf graf--h3 graf-after--p">6. Model Serialization</h3><p name="9d92" id="9d92" class="graf graf--p graf-after--h3">When server wants to return something to API consumer, it first serialize models into JSON.</p><p name="986b" id="986b" class="graf graf--p graf-after--p">I started with <a href="https://github.com/rails/jbuilder" data-href="https://github.com/rails/jbuilder" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Jbuilder</a>, which is the built-in library for creating JSONs. Jbuilder is really easy to use and flexible, and works well with Rails cache system.</p><p name="2472" id="2472" class="graf graf--p graf-after--p">After some projects I found Jbuilder performs badly when rendering a list of JSONs.</p><p name="7d82" id="7d82" class="graf graf--p graf-after--p">Then I tried <a href="https://github.com/rails-api/active_model_serializers" data-href="https://github.com/rails-api/active_model_serializers" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ActiveModelSerializers</a>(AMS), AMS’s API is less flexible but performs better, especially when it comes to serializing and rendering a list of models.</p><p name="9134" id="9134" class="graf graf--p graf-after--p">Here’s more discussion on <a href="http://kirillplatonov.com/2014/11/04/active_model_serializer_vs_jbuilder/" data-href="http://kirillplatonov.com/2014/11/04/active_model_serializer_vs_jbuilder/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">performance between Jbuilder and AMS</a>.</p><h3 name="f5f4" id="f5f4" class="graf graf--h3 graf-after--p">7. Be careful about what you return for different APIs</h3><p name="783c" id="783c" class="graf graf--p graf-after--h3">Let’s assume that we have implemented two APIs:</p><ol class="postList"><li name="f1c6" id="f1c6" class="graf graf--li graf-after--p">GET /v1/packages, which returns a list of Packages</li><li name="e41a" id="e41a" class="graf graf--li graf-after--li">GET /v1/packages/:id, which returns a specific Package</li></ol><p name="49e4" id="49e4" class="graf graf--p graf-after--li">We may easily have a Jbuilder partial like this:</p><pre name="76ea" id="76ea" class="graf graf--pre graf-after--p">json.id package.id<br>json.name package.name<br>json.description package.description<br>json.created_at package.created_at<br>json.updated_at package.updated_atjson.pictures</pre><pre name="2d31" id="2d31" class="graf graf--pre graf-after--pre">json.owner product.owner <strong class="markup--strong markup--pre-strong">do</strong> |u| <br>  json.partial! &#39;v1/users/user&#39;, user: package.user<br><strong class="markup--strong markup--pre-strong">end</strong></pre><pre name="df0f" id="df0f" class="graf graf--pre graf-after--pre">product.pictures <strong class="markup--strong markup--pre-strong">do </strong>|<em class="markup--em markup--pre-em">p</em>|<br>  json.url <em class="markup--em markup--pre-em">p</em>.image.url<br><strong class="markup--strong markup--pre-strong">end</strong></pre><p name="1b37" id="1b37" class="graf graf--p graf-after--pre">And we can use the same partial to serve both APIs. However, you may encounter a performance hit for the first API, because this partial queries Package’s associated models like package owner and pictures. And in real life, you may have a even more complicated partial to give full information of a Package.</p><p name="095d" id="095d" class="graf graf--p graf-after--p">However, the package list API may not need so much information, it maybe just need name, and description and only when user enter the package detail, it requires more information.</p><p name="4d8f" id="4d8f" class="graf graf--p graf-after--p">So in this case, we better have two partials for the two APIs.</p><h3 name="2aa3" id="2aa3" class="graf graf--h3 graf-after--p">8. Caching, and those can’t be cached</h3><p name="97f7" id="97f7" class="graf graf--p graf-after--h3">Caching the response of a specific API gives a great performance boost, for example, if we cache the package list API, then next time this request comes in Rails won’t have to do all the queries again and can just return cached results.</p><p name="7e58" id="7e58" class="graf graf--p graf-after--p">This works great when the information of packages don’t change a lot, for example, we don’t expect name and description of packages to change all the time.</p><p name="4f54" id="4f54" class="graf graf--p graf-after--p">However, there are some attributes that can’t be cached.</p><p name="5d61" id="5d61" class="graf graf--p graf-after--p">If a user can like a package, and each time when a package’s detail is requested, the JSON returned should contain whether or not the user has already liked the packages, so that the UI of API consumer can display correctly.</p><p name="8638" id="8638" class="graf graf--p graf-after--p">So the like attribute should not be cached, which results in the whole package cannot be cached. This kind of dilemma happens all the time, the good way to avoid it is to have two separate APIs for packages, one for general information and one for dynamically changed information like “like count”, “whether the user has liked this”, “comment count” and etc.</p><h3 name="310c" id="310c" class="graf graf--h3 graf-after--p">9. A well-documented API</h3><p name="ef31" id="ef31" class="graf graf--p graf-after--h3">No matter if you are developing an internal API where you can communicate directly with API consumers or developing a public API that can be used by everyone, a good API document is always required.</p><p name="58b9" id="58b9" class="graf graf--p graf-after--p">A well-written API should comes with:</p><ol class="postList"><li name="32ad" id="32ad" class="graf graf--li graf-after--p">Explanation for each endpoint.</li><li name="7a94" id="7a94" class="graf graf--li graf-after--li">Request format for each endpoint.</li><li name="7979" id="7979" class="graf graf--li graf-after--li">Sample request and response for each endpoint.</li><li name="840e" id="840e" class="graf graf--li graf-after--li">Error handling instructions for requests.</li></ol><p name="2a5f" id="2a5f" class="graf graf--p graf-after--li">And remember to keep the document updated, especially for samples.</p><p name="8258" id="8258" class="graf graf--p graf-after--p graf--trailing"><a href="https://github.com/lord/slate" data-href="https://github.com/lord/slate" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Slate</a> is a good tool to create API document.</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"  href="https://blog.fooyo.sg/tagged/api?source=post" data-action-source="post" data-collection-slug="fooyo-blog">API</a></li><li><a class="link u-baseColor--link"  href="https://blog.fooyo.sg/tagged/ruby-on-rails?source=post" data-action-source="post" data-collection-slug="fooyo-blog">Ruby on Rails</a></li><li><a class="link u-baseColor--link"  href="https://blog.fooyo.sg/tagged/software-development?source=post" data-action-source="post" data-collection-slug="fooyo-blog">Software Development</a></li><li><a class="link u-baseColor--link"  href="https://blog.fooyo.sg/tagged/rest-api?source=post" data-action-source="post" data-collection-slug="fooyo-blog">Rest Api</a></li><li><a class="link u-baseColor--link"  href="https://blog.fooyo.sg/tagged/software-design?source=post" data-action-source="post" data-collection-slug="fooyo-blog">Software Design</a></li></ul></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="a75e8e1ed19e" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_footer"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/a75e8e1ed19e" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="show-recommends" data-action-value="a75e8e1ed19e">12</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></div></div></div></div><div class="js-postPromotionWrapper postPromotionWrapper" data-location-id="footer_above_post_attribution"></div><div class="container u-maxWidth740 js-postAttributionFooterContainer u-paddingTop20 u-paddingBottom20 u-marginTop10 u-borderTopLightest u-xs-paddingTop10 u-xs-paddingBottom10"><div class="row js-postFooterInfo"><div class="col u-size6of12 u-xs-size12of12"><li class="u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="6a7801d1f171"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/6a7801d1f171" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell "><a class="link avatar u-baseColor--link"  href="https://blog.fooyo.sg/@zeyu?source=footer_card" title="Go to the profile of Chen Zeyu" aria-label="Go to the profile of Chen Zeyu" data-action-source="footer_card" data-user-id="6a7801d1f171" data-collection-slug="fooyo-blog" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*dApKJLnEP3H-devQGN5yPA.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Chen Zeyu"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://blog.fooyo.sg/@zeyu" property="cc:attributionName" title="Go to the profile of Chen Zeyu" aria-label="Go to the profile of Chen Zeyu" rel="author cc:attributionUrl" data-user-id="6a7801d1f171" data-collection-slug="fooyo-blog" dir="auto">Chen Zeyu</a></h3><p class="u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Cofounder @ fooyo.sg, you can find me at github.com/chenzeyu</p></div></li></div><div class="col u-size6of12 u-xs-size12of12 u-xs-marginTop30"><li class="u-block u-paddingBottom18 js-cardCollection"><div class="u-marginLeft20 u-floatRight"><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/fooyo-blog" data-collection-id="3cfe7b2ee32c"><span class="button-label  js-buttonLabel">Follow</span></button></div><div class="u-tableCell "><a class="link avatar avatar--roundedRectangle u-baseColor--link"  href="https://blog.fooyo.sg?source=footer_card" title="Go to Fooyo Blog" aria-label="Go to Fooyo Blog" data-action-source="footer_card" data-collection-slug="fooyo-blog"><img src="https://cdn-images-1.medium.com/fit/c/60/60/1*2OzwszhQI6ojSil965HfPA.png" class="avatar-image u-size60x60" alt="Fooyo Blog"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://blog.fooyo.sg?source=footer_card" rel="collection" data-action-source="footer_card" data-collection-slug="fooyo-blog">Fooyo Blog</a></h3><p class="u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at <a rel="nofollow" href="http://www.fooyo.sg">www.fooyo.sg</a></p><div class="buttonSet"></div></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-readNext"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed"><ul><li class="u-uiTextSemibold u-textAlignCenter u-textColorNormal u-fontSize12 u-textUppercase">Share</li><li class="u-textAlignCenter"><div class="js-actionRecommend" data-post-id="a75e8e1ed19e" data-is-icon-29px="true" data-is-vertical="true" data-has-recommend-list="true" data-source="post_share_widget"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/a75e8e1ed19e" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal  u-block u-marginAuto u-marginTopNegative5"  data-action="show-recommends" data-action-value="a75e8e1ed19e">12</button></div></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-in-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/a75e8e1ed19e"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link avatar avatar--roundedRectangle u-baseColor--link"  href="https://blog.fooyo.sg" title="Go to Fooyo Blog" aria-label="Go to Fooyo Blog" data-collection-slug="fooyo-blog"><img src="https://cdn-images-1.medium.com/fit/c/40/40/1*2OzwszhQI6ojSil965HfPA.png" class="avatar-image avatar-image--smaller" alt="Fooyo Blog"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Fooyo Blog</strong>, when you sign up for Medium. <a class="link link--accent u-accentColor--textNormal u-accentColor--textDarken u-baseColor--link"  href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Fooyo Blog</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><button class="button button--primary button--dark is-active u-noUserSelect button--withChrome u-accentColor--buttonDark u-uiTextSemibold u-textUppercase u-fontSize12 button--followCollection js-followCollectionButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/fooyo-blog" data-action-source="sticky_footer_collection_follow"><span class="button-label  button-defaultState js-buttonLabel">Get updates</span><span class="button-label button-activeState">Get updates</span></button></div></div></div><style class="js-collectionStyle">
.u-accentColor--borderLight {border-color: #02B875 !important;}
.u-accentColor--borderNormal {border-color: #02B875 !important;}
.u-accentColor--borderDark {border-color: #1C9963 !important;}
.u-accentColor--iconLight .svgIcon,.u-accentColor--iconLight.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconNormal .svgIcon,.u-accentColor--iconNormal.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconDark .svgIcon,.u-accentColor--iconDark.svgIcon {fill: #1C9963 !important;}
.u-accentColor--textNormal {color: #1C9963 !important;}
.u-accentColor--hoverTextNormal:hover {color: #1C9963 !important;}
.u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #1C9963 !important;}
.u-accentColor--textDark {color: #1C9963 !important;}
.u-accentColor--backgroundLight {background-color: #02B875 !important;}
.u-accentColor--backgroundNormal {background-color: #02B875 !important;}
.u-accentColor--backgroundDark {background-color: #1C9963 !important;}
.u-accentColor--buttonDark {border-color: #1C9963 !important; color: #1C9963 !important;}
.u-accentColor--buttonDark:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonDark .icon:before,.u-accentColor--buttonDark .svgIcon{color: #1C9963 !important; fill: #1C9963 !important;}
.u-accentColor--buttonNormal {border-color: #02B875 !important; color: #1C9963 !important;}
.u-accentColor--buttonNormal:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonNormal .icon:before,.u-accentColor--buttonNormal .svgIcon{color: #02B875 !important; fill: #02B875 !important;}
.u-accentColor--buttonNormal.button--filled .icon:before,.u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonDark.button--filled,.u-accentColor--buttonDark.button--withChrome.is-active,.u-accentColor--fillWhenActive.is-active {background-color: #1C9963 !important; border-color: #1C9963 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonNormal.button--filled,.u-accentColor--buttonNormal.button--withChrome.is-active {background-color: #02B875 !important; border-color: #02B875 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--user,.postArticle.is-withAccentColors .markup--query {color: #1C9963 !important;}
.u-accentColor--highlightFaint {background-color: rgba(233, 253, 240, 1) !important;}
.u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(125, 255, 179, 1) !important;}
.postArticle.is-withAccentColors .markup--quote.is-other {background-color: rgba(233, 253, 240, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(233, 253, 240, 1), rgba(233, 253, 240, 1));}
.postArticle.is-withAccentColors .markup--quote.is-me {background-color: rgba(173, 255, 207, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(173, 255, 207, 1), rgba(173, 255, 207, 1));}
.postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--quote.is-selected {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--highlight {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}</style><style class="js-collectionStyleConstant">.u-imageBgColor {background-color: rgba(0, 0, 0, 0.24705882352941178);}
.u-imageSpectrum .u-baseColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconLight .svgIcon,.u-imageSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--iconNormal .svgIcon,.u-imageSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconDark .svgIcon,.u-imageSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important; color: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--buttonLight .icon:before,.u-imageSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark .icon:before,.u-imageSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal .icon:before,.u-imageSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonDark.button--filled,.u-imageSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal.button--filled,.u-imageSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--link {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(255, 255, 255, 0.4) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(255, 255, 255, 0.4980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconLight .svgIcon,.u-imageSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--iconNormal .svgIcon,.u-imageSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconDark .svgIcon,.u-imageSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark .icon:before,.u-imageSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonDark.button--filled,.u-imageSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-imageSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled,.u-imageSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .postArticle.is-withAccentColors .markup--user,.u-imageSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--highlightFaint {background-color: rgba(255, 255, 255, 0.2) !important;}
.u-imageSpectrum .u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 255, 255, 0.6) !important;}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: rgba(255, 255, 255, 0.2) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: rgba(255, 255, 255, 0.4) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}.u-resetSpectrum .u-tintBgColor {background-color: rgba(255, 255, 255, 1) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%) !important;}
.u-resetSpectrum .u-baseColor--borderLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderDark {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--iconLight .svgIcon,.u-resetSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconNormal .svgIcon,.u-resetSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconDark .svgIcon,.u-resetSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textNormal {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--backgroundLight {background-color: rgba(0, 0, 0, 0.09803921568627451) !important;}
.u-resetSpectrum .u-baseColor--backgroundNormal {background-color: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .u-baseColor--backgroundDark {background-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight .icon:before,.u-resetSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark {border-color: rgba(0, 0, 0, 0.6) !important; color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--buttonDark .icon:before,.u-resetSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important; color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal .icon:before,.u-resetSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(0, 0, 0, 0.4980392156862745) !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark.button--filled,.u-resetSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2980392156862745) !important; border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal.button--filled,.u-resetSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2) !important; border-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--link {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--link.link--darkenOnHover:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--darken:active {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--link.link--darker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(0, 0, 0, 0.4) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-accentColor--borderLight {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderNormal {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderDark {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconLight .svgIcon,.u-resetSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--iconNormal .svgIcon,.u-resetSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconDark .svgIcon,.u-resetSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textDark {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundLight {background-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundNormal {background-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundDark {background-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark {border-color: rgba(0, 171, 107, 1) !important; color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark .icon:before,.u-resetSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(28, 153, 99, 1) !important; fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal {border-color: rgba(2, 184, 117, 1) !important; color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(0, 171, 107, 1) !important; fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark.button--filled,.u-resetSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-resetSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(28, 153, 99, 1) !important; border-color: rgba(28, 153, 99, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled,.u-resetSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 171, 107, 1) !important; border-color: rgba(0, 171, 107, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .postArticle.is-withAccentColors .markup--user,.u-resetSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(0, 171, 107, 1) !important;}</style></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://blog.fooyo.sg","buildLabel":"28586-6143d83","currentUser":{"userId":"lo_a97b52a6442","isVerified":false,"subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.AouowiblLn4SBKZF6cWDtA.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.4rYp3nph7xNXmlmak5XWxQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.R35emyz9xZL7YdHbIl-SvQ.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.XUyD-cfC9DG2nc9iq5x7GA.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.0oM8iNH9LgWeJY00O_ao2Q.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.caQfKUCZ18Wg2IbFBoaXiA.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1492151157680:ba74453a584c","useragent":{"browser":"python requests","family":"","os":"","version":2.2,"supportsDesktopEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":false,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":false,"supportsScrollableMetabar":false},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"enable_onboarding":true,"ios_custom_miro_url":"https://cdn-images-1.medium.com","reengagement_notification_duration":3,"enable_adsnative_integration":true,"browsable_stream_config_bucket":"curated-topics","ios_small_post_preview_truncation_length":5.5,"ios_large_post_preview_truncation_length":5.5,"disable_ios_catalog_badging":true,"enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"should_receive_daily_push_notification":true,"should_receive_daily_push_notification_actual":true,"enable_prepublish_share_settings":true,"enable_direct_auth_connect":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"promoted_story_placement_locations":"POST_PAGE_FOOTER","show_topics":true,"enable_search_collection_by_tag_recency_filter":true,"search_collection_by_tag_filter_min_votes":10,"enable_sms_app_promo":true,"enable_export_members":true,"enable_series_card_background_creation":true,"enable_onboarding_users_by_tag":true,"can_see_subscription_branding":true,"enable_subscriptions_landing_page":true,"enable_partner_program_landing_page":true,"enable_hide_broken_links":true,"enable_pay_for_custom_domain":true,"enable_promos_from_dynamo":true,"enable_promos_in_placement":true,"enable_series_promo_in_email":true,"enable_sms":true,"enable_series_in_user_profiles":true,"enable_new_logged_out_bento_operation":true,"enable_topic_brief_relations":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/icons/favicon.svg":"https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":false,"domainCollectionSlug":"fooyo-blog","algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico","faviconImageId":"1*W0nmth_X8nFKjn6BZ388UQ.png","fontSets":[{"id":1,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-base.by5Oi_VbnwEIvhnWIsuUjA.css"},{"id":4,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-base.g08Jj5TZPAiuPWj5YNUsSg.css"},{"id":6,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-latin-base.141WxxXgxGxNcfeza73H7Q.css"},{"id":7,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-latin-base.jMU532QDmysQMOINr-cr2A.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"72d23ce07a744220\",\"ot-tracer-traceid\":\"0a50d32329bb1cec\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","secret":"c14df7146e9052a1131f3c900c1f0644","token":"542599432471018|1JqjIwxSfY9jOt_KwjWEl1R7T6I","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]},"smartPublishWhitelistedPublications":["bcc38c8f6edf","f3726e2a5878","828a270689e","81c7d351c056","f30e42fd7ff8","8bf1d7d3081b","d16afa0ae7c","d8f3f6ad9c31","e74de0cedea9","15f753907972","c8c6a6b01ebd","3412b9729488","2ce4bbcf83bb","544c7006046e","7bfcdbc6b30a","a268fd916824","458a773bccd2"],"instantArticles":{"published":true,"developmentMode":false}},"mailingListArchiveUploadSizeMb":2,"availableMembershipPlans":[],"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com"}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.2nXtJ8XknWJqOjh2ZNHRVw.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"a75e8e1ed19e","versionId":"4de411027481","creatorId":"6a7801d1f171","creator":{"userId":"6a7801d1f171","name":"Chen Zeyu","username":"zeyu","createdAt":1400829402906,"lastPostCreatedAt":1470816722735,"imageId":"1*dApKJLnEP3H-devQGN5yPA.jpeg","backgroundImageId":"","bio":"Cofounder @ fooyo.sg, you can find me at github.com/chenzeyu","socialStats":{"userId":"6a7801d1f171","usersFollowedCount":41,"usersFollowedByCount":35,"type":"SocialStats"},"social":{"userId":"lo_fa153e15c15b","targetUserId":"6a7801d1f171","type":"Social"},"allowNotes":1,"type":"User"},"homeCollection":{"id":"3cfe7b2ee32c","name":"Fooyo Blog","slug":"fooyo-blog","tags":["RUBY ON RAILS","IOS","ANDROID"],"creatorId":"2ae4bb4103bd","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","shortDescription":"Fooyo is a lean software consulting company that helps…","image":{"imageId":"1*2OzwszhQI6ojSil965HfPA.png","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":10,"postCount":1,"activeAt":1471871258743},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"1*-9pC8FOrn1Ly3J42OqL3Tg.png","filter":"","backgroundSize":"","originalWidth":298,"originalHeight":72,"strategy":"resample","height":0,"width":0},"publicEmail":"hi@fooyo.sg","domain":"blog.fooyo.sg","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Fooyo Blog","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","backgroundImage":{},"logoImage":{},"alignment":1,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":3,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Fooyo Blog","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","backgroundImage":{},"logoImage":{},"alignment":1,"layout":6},"type":"Collection"},"homeCollectionId":"3cfe7b2ee32c","title":"9 Tips for Rails API Design","detectedLanguage":"en","latestVersion":"4de411027481","latestPublishedVersion":"4de411027481","hasUnpublishedEdits":false,"latestRev":826,"createdAt":1470816354904,"updatedAt":1472187720824,"acceptedAt":0,"firstPublishedAt":1470823565986,"latestPublishedAt":1470823565986,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"During working at Fooyo.sg, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve…","bodyModel":{"paragraphs":[{"name":"20b7","type":3,"text":"9 Tips for Rails API Design","markups":[]},{"name":"2a81","type":1,"text":"During working at Fooyo.sg, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve learned through building all the APIs.","markups":[{"type":3,"start":18,"end":26,"href":"http://www.fooyo.sg","title":"","rel":"","anchorType":0}]},{"name":"1e7c","type":3,"text":"1. API Versioning","markups":[]},{"name":"36c9","type":1,"text":"When designing an API, you may never know what will change in the future. So when the changes are coming, it will be disastrous to change your existing API, the changes might cause minor or significant consequences depending on how consumers are using your API.","markups":[]},{"name":"9789","type":1,"text":"So versioning your API and day one is a wise choice, it comes with zero cost and can adapt to whatever changes that may come by adding a new version without breaking the existing one.","markups":[]},{"name":"096f","type":1,"text":"API versioning can be implemented easily using routes namespace:","markups":[]},{"name":"1ce9","type":8,"text":"namespace :v1 do\n   resources :packages\nend","markups":[{"type":1,"start":14,"end":43}]},{"name":"dc31","type":1,"text":"The code above will generate a route: /v1/packages","markups":[{"type":1,"start":38,"end":50}]},{"name":"6247","type":1,"text":"API versioning can also be achieved by using HTTP accept header, however let versioning be part of the URL is more readable in general.","markups":[]},{"name":"4b7c","type":3,"text":"2. API Authentication","markups":[]},{"name":"b3b3","type":1,"text":"Almost every application requires some kind of authentication since not all resources are public, especially those user specific API like updating and deleting data.","markups":[]},{"name":"f999","type":1,"text":"A token based authentication method is good enough, each time user logs in, the Rails app can generate a random string as token and when the requests come, Rails app check if the token matches.","markups":[]},{"name":"65fb","type":1,"text":"Rails provides support for token based authentication.","markups":[{"type":3,"start":15,"end":53,"href":"http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Token/ControllerMethods.html","title":"","rel":"","anchorType":0}]},{"name":"8f0e","type":3,"text":"3. Use HTTP Verbs","markups":[]},{"name":"b9e7","type":1,"text":"HTTP Verbs are defined to indicate the desired action to be performed on the targeted resource.","markups":[{"type":3,"start":0,"end":10,"href":"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods","title":"","rel":"","anchorType":0}]},{"name":"6362","type":8,"text":"namespace :v1 do\n   resources :packages, only: [index, update, destroy, create]\nend","markups":[{"type":1,"start":14,"end":83}]},{"name":"9501","type":1,"text":"This line generates the following HTTP Verb to Rails action mapping:","markups":[]},{"name":"ba77","type":8,"text":"\nVerb         Action                           Usage","markups":[]},{"name":"3950","type":8,"text":"GET          packages#index    return a list of packages\nPUT/PATCH    packages#update   update a specific package\nDELETE       packages#destroy  delete a specific package\nPOST         packages#create   create a new package","markups":[]},{"name":"4948","type":1,"text":"Rails generates the routes so that it’s easier for developers to use the methods correctly, and you should too, especially when creating customised route to actions.","markups":[]},{"name":"d31d","type":3,"text":"4. Use HTTP Status Codes","markups":[]},{"name":"e71f","type":1,"text":"Like HTTP Verbs, HTTP Status Codes help API consumers to understand the response of each API call.","markups":[{"type":3,"start":17,"end":34,"href":"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Status_codes","title":"","rel":"","anchorType":0}]},{"name":"5d54","type":1,"text":"For example, when a update request come in to update a model that doesn’t belongs to the user, simply return a HTTP 403 code is good enough for API consumers to understand what is happening, instead of blindly returning 2xx code and indicate the response status in the payload.","markups":[]},{"name":"3fa8","type":3,"text":"5. Parameter Filter","markups":[]},{"name":"b50a","type":1,"text":"Rails 4 has added Strong Parameter to whitelist desired parameters. Always use strong parameters to filter out undesired parameters since you never know what parameters will API consumers send. Thus we do not accidentally expose those attributes which shouldn’t be exposed.","markups":[{"type":3,"start":18,"end":34,"href":"http://edgeguides.rubyonrails.org/action_controller_overview.html#strong-parameters","title":"","rel":"","anchorType":0}]},{"name":"30ac","type":3,"text":"6. Model Serialization","markups":[]},{"name":"9d92","type":1,"text":"When server wants to return something to API consumer, it first serialize models into JSON.","markups":[]},{"name":"986b","type":1,"text":"I started with Jbuilder, which is the built-in library for creating JSONs. Jbuilder is really easy to use and flexible, and works well with Rails cache system.","markups":[{"type":3,"start":15,"end":23,"href":"https://github.com/rails/jbuilder","title":"","rel":"","anchorType":0}]},{"name":"2472","type":1,"text":"After some projects I found Jbuilder performs badly when rendering a list of JSONs.","markups":[]},{"name":"7d82","type":1,"text":"Then I tried ActiveModelSerializers(AMS), AMS’s API is less flexible but performs better, especially when it comes to serializing and rendering a list of models.","markups":[{"type":3,"start":13,"end":35,"href":"https://github.com/rails-api/active_model_serializers","title":"","rel":"","anchorType":0}]},{"name":"9134","type":1,"text":"Here’s more discussion on performance between Jbuilder and AMS.","markups":[{"type":3,"start":26,"end":62,"href":"http://kirillplatonov.com/2014/11/04/active_model_serializer_vs_jbuilder/","title":"","rel":"","anchorType":0}]},{"name":"f5f4","type":3,"text":"7. Be careful about what you return for different APIs","markups":[]},{"name":"783c","type":1,"text":"Let’s assume that we have implemented two APIs:","markups":[]},{"name":"f1c6","type":10,"text":"GET /v1/packages, which returns a list of Packages","markups":[]},{"name":"e41a","type":10,"text":"GET /v1/packages/:id, which returns a specific Package","markups":[]},{"name":"49e4","type":1,"text":"We may easily have a Jbuilder partial like this:","markups":[]},{"name":"76ea","type":8,"text":"json.id package.id\njson.name package.name\njson.description package.description\njson.created_at package.created_at\njson.updated_at package.updated_atjson.pictures","markups":[]},{"name":"2d31","type":8,"text":"json.owner product.owner do |u| \n  json.partial! 'v1/users/user', user: package.user\nend","markups":[{"type":1,"start":25,"end":27},{"type":1,"start":85,"end":88}]},{"name":"df0f","type":8,"text":"product.pictures do |p|\n  json.url p.image.url\nend","markups":[{"type":1,"start":17,"end":20},{"type":1,"start":47,"end":50},{"type":2,"start":21,"end":22},{"type":2,"start":35,"end":36}]},{"name":"1b37","type":1,"text":"And we can use the same partial to serve both APIs. However, you may encounter a performance hit for the first API, because this partial queries Package’s associated models like package owner and pictures. And in real life, you may have a even more complicated partial to give full information of a Package.","markups":[]},{"name":"095d","type":1,"text":"However, the package list API may not need so much information, it maybe just need name, and description and only when user enter the package detail, it requires more information.","markups":[]},{"name":"4d8f","type":1,"text":"So in this case, we better have two partials for the two APIs.","markups":[]},{"name":"2aa3","type":3,"text":"8. Caching, and those can’t be cached","markups":[]},{"name":"97f7","type":1,"text":"Caching the response of a specific API gives a great performance boost, for example, if we cache the package list API, then next time this request comes in Rails won’t have to do all the queries again and can just return cached results.","markups":[]},{"name":"7e58","type":1,"text":"This works great when the information of packages don’t change a lot, for example, we don’t expect name and description of packages to change all the time.","markups":[]},{"name":"4f54","type":1,"text":"However, there are some attributes that can’t be cached.","markups":[]},{"name":"5d61","type":1,"text":"If a user can like a package, and each time when a package’s detail is requested, the JSON returned should contain whether or not the user has already liked the packages, so that the UI of API consumer can display correctly.","markups":[]},{"name":"8638","type":1,"text":"So the like attribute should not be cached, which results in the whole package cannot be cached. This kind of dilemma happens all the time, the good way to avoid it is to have two separate APIs for packages, one for general information and one for dynamically changed information like “like count”, “whether the user has liked this”, “comment count” and etc.","markups":[]},{"name":"310c","type":3,"text":"9. A well-documented API","markups":[]},{"name":"ef31","type":1,"text":"No matter if you are developing an internal API where you can communicate directly with API consumers or developing a public API that can be used by everyone, a good API document is always required.","markups":[]},{"name":"58b9","type":1,"text":"A well-written API should comes with:","markups":[]},{"name":"32ad","type":10,"text":"Explanation for each endpoint.","markups":[]},{"name":"7a94","type":10,"text":"Request format for each endpoint.","markups":[]},{"name":"7979","type":10,"text":"Sample request and response for each endpoint.","markups":[]},{"name":"840e","type":10,"text":"Error handling instructions for requests.","markups":[]},{"name":"2a5f","type":1,"text":"And remember to keep the document updated, especially for samples.","markups":[]},{"name":"8258","type":1,"text":"Slate is a good tool to create API document.","markups":[{"type":3,"start":0,"end":5,"href":"https://github.com/lord/slate","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"c0b7","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","allowNotes":true,"previewImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"wordCount":976,"imageCount":0,"readingTime":3.6830188679245284,"subtitle":"During working at Fooyo.sg, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve…","publishedInCount":1,"usersBySocialRecommends":[],"recommends":12,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"api","name":"API","postCount":4350,"virtuals":{"isFollowing":false},"metadata":{"followerCount":1880,"postCount":4350,"coverImage":{"id":"1*20YChSm8q5mv0DiZXPn4pQ.png","originalWidth":1042,"originalHeight":442}},"type":"Tag"},{"slug":"ruby-on-rails","name":"Ruby on Rails","postCount":3572,"virtuals":{"isFollowing":false},"metadata":{"followerCount":2223,"postCount":3572,"coverImage":{"id":"0*He5xxJ7HsAPvJ5f4.png","originalWidth":400,"originalHeight":400}},"type":"Tag"},{"slug":"software-development","name":"Software Development","postCount":18898,"virtuals":{"isFollowing":false},"metadata":{"followerCount":18657,"postCount":18898,"coverImage":{"id":"1*s2fiZZtKKKIhZQ_SsHRX4g.jpeg","originalWidth":1500,"originalHeight":671}},"type":"Tag"},{"slug":"rest-api","name":"Rest Api","postCount":305,"virtuals":{"isFollowing":false},"metadata":{"followerCount":170,"postCount":305,"coverImage":{"id":"1*5BWy2XR7BYLtfVvMuYkXyw.png","originalWidth":1026,"originalHeight":714}},"type":"Tag"},{"slug":"software-design","name":"Software Design","postCount":241,"virtuals":{"isFollowing":false},"metadata":{"followerCount":197,"postCount":241,"coverImage":{"id":"1*8tYEyGi5uhmFGQBB19lZ9w.png","originalWidth":1600,"originalHeight":858}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[],"version":"0.3","generatedAt":1472171072020},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":0},"coverless":true,"slug":"9-tips-for-rails-api-design","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"9-tips-for-rails-api-design-a75e8e1ed19e","previewContent":{"bodyModel":{"paragraphs":[{"name":"20b7","type":3,"text":"9 Tips for Rails API Design","markups":[],"alignment":1},{"name":"2a81","type":1,"text":"During working at Fooyo.sg, almost every project requires a RESTful JSON API for clients(mobile app, web app) to consume, here’s what I’ve learned through building all the APIs.","markups":[{"type":3,"start":18,"end":26,"href":"http://www.fooyo.sg","title":"","rel":"","anchorType":0}],"alignment":1},{"name":"1e7c","type":3,"text":"1. API Versioning","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e","approvedHomeCollectionId":"3cfe7b2ee32c","approvedHomeCollection":{"id":"3cfe7b2ee32c","name":"Fooyo Blog","slug":"fooyo-blog","tags":["RUBY ON RAILS","IOS","ANDROID"],"creatorId":"2ae4bb4103bd","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","shortDescription":"Fooyo is a lean software consulting company that helps…","image":{"imageId":"1*2OzwszhQI6ojSil965HfPA.png","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":10,"postCount":1,"activeAt":1471871258743},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"1*-9pC8FOrn1Ly3J42OqL3Tg.png","filter":"","backgroundSize":"","originalWidth":298,"originalHeight":72,"strategy":"resample","height":0,"width":0},"publicEmail":"hi@fooyo.sg","domain":"blog.fooyo.sg","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Fooyo Blog","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","backgroundImage":{},"logoImage":{},"alignment":1,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":3,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Fooyo Blog","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","backgroundImage":{},"logoImage":{},"alignment":1,"layout":6},"type":"Collection"},"newsletterId":"","webCanonicalUrl":"https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e","mediumUrl":"https://blog.fooyo.sg/9-tips-for-rails-api-design-a75e8e1ed19e","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"6a7801d1f171":{"userId":"6a7801d1f171","name":"Chen Zeyu","username":"zeyu","createdAt":1400829402906,"lastPostCreatedAt":1470816722735,"imageId":"1*dApKJLnEP3H-devQGN5yPA.jpeg","backgroundImageId":"","bio":"Cofounder @ fooyo.sg, you can find me at github.com/chenzeyu","socialStats":{"userId":"6a7801d1f171","usersFollowedCount":41,"usersFollowedByCount":35,"type":"SocialStats"},"social":{"userId":"lo_fa153e15c15b","targetUserId":"6a7801d1f171","type":"Social"},"allowNotes":1,"type":"User"}},"Collection":{"3cfe7b2ee32c":{"id":"3cfe7b2ee32c","name":"Fooyo Blog","slug":"fooyo-blog","tags":["RUBY ON RAILS","IOS","ANDROID"],"creatorId":"2ae4bb4103bd","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","shortDescription":"Fooyo is a lean software consulting company that helps…","image":{"imageId":"1*2OzwszhQI6ojSil965HfPA.png","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":10,"postCount":1,"activeAt":1471871258743},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"1*-9pC8FOrn1Ly3J42OqL3Tg.png","filter":"","backgroundSize":"","originalWidth":298,"originalHeight":72,"strategy":"resample","height":0,"width":0},"publicEmail":"hi@fooyo.sg","domain":"blog.fooyo.sg","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Fooyo Blog","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","backgroundImage":{},"logoImage":{},"alignment":1,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":5,"number":3,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"header":{"title":"Fooyo Blog","description":"Fooyo is a lean software consulting company that helps organisations develop and scale their new products and business ideas. Find us at www.fooyo.sg","backgroundImage":{},"logoImage":{},"alignment":1,"layout":6},"type":"Collection"}},"Social":{"6a7801d1f171":{"userId":"lo_fa153e15c15b","targetUserId":"6a7801d1f171","type":"Social"}},"SocialStats":{"6a7801d1f171":{"userId":"6a7801d1f171","usersFollowedCount":41,"usersFollowedByCount":35,"type":"SocialStats"}}}})
// ]]></script></body></html>