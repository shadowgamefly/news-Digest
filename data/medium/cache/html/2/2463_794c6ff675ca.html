<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>A Gentle Introduction to GDAL, Part 3: Geodesy &amp; Local Map Projections</title><link rel="canonical" href="https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca"><meta name="title" content="A Gentle Introduction to GDAL, Part 3: Geodesy &amp; Local Map Projections"><meta name="referrer" content="unsafe-url"><meta name="description" content="(If you’re new to GDAL, you might want to start with Part 1, which covers installation, gdalinfo, &amp;gdal_translate, or Part 2 Map projections &amp; gdalwarp.) In the spring of 1802, the British East India…"><meta property="og:title" content="A Gentle Introduction to GDAL, Part 3: Geodesy &amp; Local Map Projections"><meta property="og:url" content="https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*5-SHUmhP4Y3mwvYNSunLEA.png"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="(If you’re new to GDAL, you might want to start with Part 1, which covers installation, gdalinfo, &amp;gdal_translate, or Part 2 Map…"><meta name="twitter:description" content="(If you’re new to GDAL, you might want to start with Part 1, which covers installation, gdalinfo, &amp;gdal_translate, or Part 2 Map…"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*5-SHUmhP4Y3mwvYNSunLEA.png"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@robsimmon"><meta property="author" content="Robert Simmon"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@robsimmon"><meta property="fb:smart_publish:robots" content="noauto"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2017-04-18T03:45:02.027Z"><meta name="twitter:creator" content="@rsimmon"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="11 min read"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":1912,"height":425,"url":"https://cdn-images-1.medium.com/max/1912/1*5-SHUmhP4Y3mwvYNSunLEA.png"},"datePublished":"2017-04-18T03:45:02.027Z","dateModified":"2017-04-18T19:52:08.469Z","headline":"A Gentle Introduction to GDAL, Part 3: Geodesy & Local Map Projections","name":"A Gentle Introduction to GDAL, Part 3: Geodesy & Local Map Projections","keywords":["Maps","GIS","Everest","Gdal","Web Mapping"],"author":{"@type":"Person","name":"Robert Simmon","url":"https://medium.com/@robsimmon"},"creator":["Robert Simmon"],"mainEntityOfPage":"https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca"}</script><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/794c6ff675ca"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/794c6ff675ca"><meta property="al:android:url" content="medium://p/794c6ff675ca"><meta property="al:web:url" content="https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/794c6ff675ca" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.HRExg4hc1WSOYoYYPfWTcQ.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]);_asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-sizeViewHeight100 {height: " + height + "px !important;}.u-sizeViewHeight110 {height: " + Math.round(1.1 * height) + "px !important;}.u-sizeViewHeightMin100 {min-height: " + height + "px !important;}.u-sizeViewHeightMax100 {max-height: " + height + "px !important;}section.section-image--coverFade {height: " + height + "px;}.section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico" class="js-favicon"><link rel="apple-touch-icon" sizes="152x152" href="https://cdn-images-1.medium.com/fit/c/152/152/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="120x120" href="https://cdn-images-1.medium.com/fit/c/120/120/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="76x76" href="https://cdn-images-1.medium.com/fit/c/76/76/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="apple-touch-icon" sizes="60x60" href="https://cdn-images-1.medium.com/fit/c/60/60/1*W0nmth_X8nFKjn6BZ388UQ.png"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg" color="#171717"></head><body itemscope class=" postShowScreen is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar"><div class="metabar-inner u-marginAuto u-maxWidth1000 u-paddingLeft20 u-paddingRight20 js-metabarMiddle"><div class="metabar-block metabar-block--left u-floatLeft u-height65 u-xs-height56"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><span class="svgIcon svgIcon--logoNew svgIcon--45px is-flushLeft"><svg class="svgIcon-use" width="45" height="45"  viewBox="-17 18 45 45" data-multipart="true"><path d="M11.525 28.078c-.472-.225-.858.002-.858.506v20.044l8.616 4.113c.948.46 1.717.14 1.717-.7v-19.3a.22.22 0 0 0-.124-.19l-9.35-4.46v-.01z"/><path d="M.333 43.696l9.83-15.247c.278-.43.89-.6 1.36-.38l9.364 4.47c.06.03.082.1.047.15L10.666 48.63.333 43.698v-.002z"/><path d="M-8.57 28.35c-.786-.375-1.053-.096-.592.62L.333 43.696l10.333 4.932L.356 32.635a.156.156 0 0 0-.06-.054l-8.866-4.23z"/><path d="M.333 52.033c0 .84-.643 1.22-1.43.844l-8.045-3.84c-.472-.224-.858-.82-.858-1.325V28.89c0-.672.515-.976 1.145-.675l9.133 4.36a.092.092 0 0 1 .055.084v19.37z"/></svg></span><span class="u-textScreenReader">Homepage</span></a></div><div class="metabar-block u-floatRight u-xs-absolute u-xs-textAlignRight u-xs-right0 u-xs-marginRight20 u-height65 u-xs-height56"><div class="buttonSet"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-lineHeight30 u-height32"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2F%40robsimmon%2Fa-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca" data-action="sign-in-prompt" data-redirect="https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca" data-action-source="nav_signup">Sign in / Sign up</a></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><main role="main"><article class=" u-sizeViewHeightMin100 u-overflowHidden postArticle postArticle--full u-marginBottom40"  lang="en"><header class="container u-maxWidth740"><div class="postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="postMetaLockup postMetaLockup--authorWithBio u-flex js-postMetaLockup"><div class="u-flex0"><a class="link avatar u-baseColor--link"  href="https://medium.com/@robsimmon?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="bf3cb9914a6f" data-action-type="hover" data-user-id="bf3cb9914a6f" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*72O-3HZVEy0AJwZ4lYa3vg.png" class="avatar-image avatar-image--small" alt="Go to the profile of Robert Simmon"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><a class="link link link--darken link--darker u-baseColor--link"  href="https://medium.com/@robsimmon?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-value="bf3cb9914a6f" data-action-type="hover" data-user-id="bf3cb9914a6f" dir="auto">Robert Simmon</a><span class="followState js-followState buttonSet-inner" data-user-id="bf3cb9914a6f"><button class="button u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSize12 u-uiTextMedium u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/bf3cb9914a6f" data-action-source="post_header_lockup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span><div class="postMetaInline u-noWrapWithEllipsis u-xs-normalWrap u-xs-lineClamp2">Data Visualization, Planet Labs. Ex-NASA. Blue Marble, Earth at Night, color.</div><div class="postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2017-04-18T03:45:02.027Z">Apr 17</time><span class="middotDivider u-fontSize12"></span><span class="readingTime" title="11 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="794c6ff675ca" data-source="post_page" data-tracking-context="postPage"><section name="6357" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--fullWidth"><figure name="784d" id="784d" class="graf graf--figure graf--layoutFillWidth graf--leading"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 22.2%;"></div><img class="graf-image" data-image-id="1*5-SHUmhP4Y3mwvYNSunLEA.png" data-width="1912" data-height="425" src="https://cdn-images-1.medium.com/max/2000/1*5-SHUmhP4Y3mwvYNSunLEA.png"></div><figcaption class="imageCaption">Glaciers of the Everest region. NASA <a href="https://earthobservatory.nasa.gov/IOTD/view.php?id=81823" data-href="https://earthobservatory.nasa.gov/IOTD/view.php?id=81823" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Earth Observatory image</a> by Robert Simmon, using data from <a href="http://asterweb.jpl.nasa.gov/" data-href="http://asterweb.jpl.nasa.gov/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">ASTER</a>.</figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><h1 name="070d" id="070d" class="graf graf--h3 graf-after--figure graf--title">A Gentle Introduction to GDAL, Part 3: Geodesy &amp; Local Map Projections</h1><p name="92ab" id="92ab" class="graf graf--p graf-after--h3">(If you’re new to GDAL, you might want to start with <a href="https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-1-a3253eb96082" data-href="https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-1-a3253eb96082" class="markup--anchor markup--p-anchor" target="_blank">Part 1,</a> which covers installation, <code class="markup--code markup--p-code">gdalinfo</code>, &amp;<code class="markup--code markup--p-code">gdal_translate</code>, or <a href="http://Part%202:%20Map%20Projections%20&amp;%20gdalwarp" data-href="http://Part 2: Map Projections &amp; gdalwarp" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Part 2</a> Map projections &amp; <code class="markup--code markup--p-code">gdalwarp</code>.)</p><p name="8897" id="8897" class="graf graf--p graf-after--p">In the spring of 1802, the British East India Company embarked on a detailed, 5-year-long survey of the Indian Subcontinent. The plan was to measure the arc of the meridian (length along a line of longitude—in this case 78˚ east) from Cape Comorin (the southern tip of India) to the Himalaya.</p><p name="b718" id="b718" class="graf graf--p graf-after--p">45 years and 3 directors later the Great Trigonometric Survey (as the endeavor became known) reached the glacier-capped mountains. About a decade after that, in 1956, Andrew Scott Waugh <a href="http://www.jstor.org/stable/1799335" data-href="http://www.jstor.org/stable/1799335" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">declared Peak XV</a> (known by locals as Chomolungma and the rest of the world as Mount Everest) the world’s highest. And in 1870 the first <em class="markup--em markup--p-em">Index Chart to the Great Trigonometrical Survey of India</em> was published.</p><figure name="92de" id="92de" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 700px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="1*Cx4wNkESlovYy4vWQD0d0g.jpeg" data-width="1400" data-height="1400" data-action="zoom" data-action-value="1*Cx4wNkESlovYy4vWQD0d0g.jpeg" src="https://cdn-images-1.medium.com/max/800/1*Cx4wNkESlovYy4vWQD0d0g.jpeg"></div><figcaption class="imageCaption">1882 edition of the <em class="markup--em markup--figure-em">Index Chart to the Great Trigonometrical Survey of India, printed in 1885. Map courtesy </em><a href="http://pahar.in" data-href="http://pahar.in" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Mountains of Central Asia Digital Dataset.</a></figcaption></figure><p name="364b" id="364b" class="graf graf--p graf-after--figure">The Survey’s primary objective wasn’t to measure the altitude of the world’s highest peaks (although they more-or-less succeeded at that) or make a map of India (ditto)—but to measure the size and shape of the Earth itself. It turns out that not only is the Earth not flat, but it’s not exactly round, either. It’s what’s technically (and charmingly) known as an <a href="http://mathworld.wolfram.com/OblateSpheroid.html" data-href="http://mathworld.wolfram.com/OblateSpheroid.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">oblate spheroid</em></a><em class="markup--em markup--p-em">—</em>a ball with a bulge in the middle.</p><figure name="1e3a" id="1e3a" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 488px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 69.69999999999999%;"></div><img class="graf-image" data-image-id="1*8q_gnQxziLvIAAKSU7zK6A.jpeg" data-width="1400" data-height="976" data-action="zoom" data-action-value="1*8q_gnQxziLvIAAKSU7zK6A.jpeg" src="https://cdn-images-1.medium.com/max/800/1*8q_gnQxziLvIAAKSU7zK6A.jpeg"></div><figcaption class="imageCaption">A map of the triangulations used to determine the height of Mount Everest and other Himalayan peaks. From “On Mounts Everest and Deodanga, Proceedings of the Royal Geographical Society of London, Vol. 2, №2 (1857–1858), pp. 102–115”.</figcaption></figure><p name="769a" id="769a" class="graf graf--p graf-after--figure">By taking precise measurements along one very long north-south line, and comparing that length to equally precise east-west measurements, it’s possible to determine the shape of that squashed ball, a mathematical surface called a reference ellipsoid. And, in fact, the ellipsoid obtained by the Survey’s second director—George Everest—remains in use in South Asia and is even incorporated in a <a href="http://spatialreference.org/ref/?search=EVEREST+1830" data-href="http://spatialreference.org/ref/?search=EVEREST+1830" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">handful of EPSG codes.</a></p><p name="b458" id="b458" class="graf graf--p graf-after--p">The main cause of the imperfect shape of the Earth is simply rotation—it stretches a bit along the equator. This asymmetry is handled perfectly well by an ellipsoid—but there are also local variations, caused by differences in density and thickness of the Earth’s crust, and the water and ice piled on top of it. These variations change the overall shape of the Earth’s gravity field. A <a href="http://oceanservice.noaa.gov/facts/geoid.html" data-href="http://oceanservice.noaa.gov/facts/geoid.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">geoid</em></a><em class="markup--em markup--p-em"> </em>accounts for these local variations in shape. (The geoid is sometimes described as mean sea level, but there are subtle differences which I don’t quite understand.) The gravitational discrepancies are generally quite subtle, but still large enough to measurably deflect a weight hung on the end of a string. This is why the Great Trigonometric Survey took so many decades—to be useful, the measurements needed to be incredibly precise.</p><p name="93e6" id="93e6" class="graf graf--p graf-after--p">It’s worth pointing out that shape in this context is the theoretical shape of the Earth if it was entirely covered in water—differences in elevation between mountains and valleys, plateaus and canyons, are defined relative to this surface.</p><figure name="13e9" id="13e9" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 507px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 72.39999999999999%;"></div><img class="graf-image" data-image-id="1*Go1B9POD9EGIAt2naHHNnA.png" data-width="1400" data-height="1014" data-action="zoom" data-action-value="1*Go1B9POD9EGIAt2naHHNnA.png" src="https://cdn-images-1.medium.com/max/800/1*Go1B9POD9EGIAt2naHHNnA.png"></div><figcaption class="imageCaption"><a href="http://www.davidrumsey.com/luna/servlet/detail/RUMSEY~8~1~292857~90064432" data-href="http://www.davidrumsey.com/luna/servlet/detail/RUMSEY~8~1~292857~90064432" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Chimborazo Volcano,</a> Ecuador. If surface elevation was defined relative to the center of the Earth rather than sea level, Chimborazo, which lies near the equator, would win by (more than) a mile. Drawing courtesy <a href="http://www.davidrumsey.com/" data-href="http://www.davidrumsey.com/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">David Rumsey Historical Map Collection.</a></figcaption></figure><p name="3b9d" id="3b9d" class="graf graf--p graf-after--figure">A <em class="markup--em markup--p-em">geodetic datum</em> is used to link a reference ellipsoid with precise coordinates for latitude and longitude, and there is a bewildering array of them ranging from continental (<a href="http://georepository.com/datum_6267/North-American-Datum-1927.html" data-href="http://georepository.com/datum_6267/North-American-Datum-1927.html" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">NAD27</a>) to local (<a href="http://georepository.com/datum_6135/Old-Hawaiian.html" data-href="http://georepository.com/datum_6135/Old-Hawaiian.html" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">Old Hawaiian Datum)</a>. Each is optimized to minimize errors—which can be several hundred meters—for particular locations.</p><p name="dbc5" id="dbc5" class="graf graf--p graf-after--p">Prior to the Space Age datums were defined in isolation, and could only be joined by carefully matching the measurements from adjacent surveys—which ranged from extremely difficult to downright impossible. For example, traditional surveying techniques rely on line of site—if you can’t see it, you can’t plot it. This means that the coordinate systems for far-flung islands, or separate continents, could never be precisely aligned. During the Cold War the U.S. Air Force <a href="http://news.nationalgeographic.com/2017/01/air-force-world-maps-cold-war/" data-href="http://news.nationalgeographic.com/2017/01/air-force-world-maps-cold-war/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">bounced radio waves off planes</a> to link far-flung datums, but these efforts were soon supplanted by satellites. Many modern geospatial datasets are defined in terms of the World Geodetic System 84 (WGS84), which you’ve seen any time you’ve used a GPS.</p><p name="d214" id="d214" class="graf graf--p graf-after--p">By now you may be wondering why I’ve gone into a long and somewhat technical digression — I certainly was frustrated by the extended discussion of such things during my (extremely limited) formal training in GIS. It turns out that the <a href="http://support.esri.com/technical-article/000006398" data-href="http://support.esri.com/technical-article/000006398" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">differences between ellipsoids, geoids, and datums</a> don’t matter so much at a global scale—but they <em class="markup--em markup--p-em">do</em> matter if you’re trying to drill an oil well, survey a property line, or drop a missile on someone’s head from the other side of the world. (A discouraging number of advances in cartography were developed for the military.) A working understanding of these concepts will help you understand some of the more esoteric aspects of manipulating maps and satellite data.</p><h4 name="e849" id="e849" class="graf graf--h4 graf-after--p">Crafting Local Maps</h4><p name="7ce1" id="7ce1" class="graf graf--p graf-after--h4">There are two fundamental ways to make a map of a specific region: start with a large dataset and cut out the bit you’re interested in, or build the map from smaller pieces. I’ll start with a large map, the <a href="http://naciscdn.org/naturalearth/10m/raster/NE1_HR_LC_SR_W.zip" data-href="http://naciscdn.org/naturalearth/10m/raster/NE1_HR_LC_SR_W.zip" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">high-res</a> version of the <a href="http://www.naturalearthdata.com/" data-href="http://www.naturalearthdata.com/" class="markup--anchor markup--p-anchor" rel="noopener nofollow" target="_blank">Natural Earth</a> raster dataset I used in <a href="https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a" data-href="https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a" class="markup--anchor markup--p-anchor" target="_blank">part 2.</a> If you’re not up for the 300MB download, just use the smaller one and change the file names to match.)</p><figure name="198c" id="198c" class="graf graf--figure graf--layoutOutsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 525px; max-height: 617px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 117.6%;"></div><img class="graf-image" data-image-id="1*a0lNnUwc_38IzY4Usx97vg.jpeg" data-width="1400" data-height="1646" data-action="zoom" data-action-value="1*a0lNnUwc_38IzY4Usx97vg.jpeg" src="https://cdn-images-1.medium.com/max/600/1*a0lNnUwc_38IzY4Usx97vg.jpeg"></div><figcaption class="imageCaption">Transverse Mercator map of India. Made with <a href="http://naturalearthdata.com" data-href="http://naturalearthdata.com" class="markup--anchor markup--figure-anchor" rel="noopener nofollow nofollow noopener" target="_blank">Natural Earth.</a></figcaption></figure><p name="b820" id="b820" class="graf graf--p graf-after--figure">I could just use <code class="markup--code markup--p-code">gdal_translate</code> with -<code class="markup--code markup--p-code">projwin</code> option to crop out a latitude and longitude, but, as I’ve discussed, cylindrical equirectangular isn’t a great projection for global maps, and it’s worse for most local and regional maps. Which begs the question—how to choose a better one?</p><p name="51f4" id="51f4" class="graf graf--p graf-after--p">Hacks borrow, artists steal.</p><p name="7410" id="7410" class="graf graf--p graf-after--p">If you’re making a map of a place that’s already been mapped by experts, just look up what they did and copy it! In this case, I just found a <em class="markup--em markup--p-em">National Geographic</em> <a href="https://shop.nationalgeographic.com/product/maps/wall-maps/countries-and-region-maps/india-classic-wall-map" data-href="https://shop.nationalgeographic.com/product/maps/wall-maps/countries-and-region-maps/india-classic-wall-map" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">wall map of India</a> and read the projection off the description: Transverse Mercator. Professional cartographers will almost universally include projection and scale info on their maps. They also overlay maps with <em class="markup--em markup--p-em">graticules</em> (lines of latitude and longitude) so I estimated the proper extents from those. Here’s the code:</p><pre name="9c04" id="9c04" class="graf graf--pre graf-after--p">gdalwarp -t_srs &#39;+proj=tmerc +lat_0=0 +lon_0=84 +k=0.9996 +datum=WGS84 +units=m +no_defs &#39; -te 66 6 100 41 -te_srs EPSG:4326 -ts 1400 0 -r bilinear NE1_HR_LC_SR_W.tif india_tmerc.tif</pre><p name="3366" id="3366" class="graf graf--p graf-after--pre">Most of this should look familiar. I’ve written out the target spatial reference system, <code class="markup--code markup--p-code">-t_srs</code>, since I couldn’t find a ready-made EPSG. Transverse Mercator is specified by <code class="markup--code markup--p-code">+proj=tmerc</code> followed by a few more variables:</p><pre name="0032" id="0032" class="graf graf--pre graf-after--p">+lat_0=0 +lon_0=84 +k=0.9996 +datum=WGS84 +units=m +no_defs</pre><p name="166c" id="166c" class="graf graf--p graf-after--pre"><code class="markup--code markup--p-code">+lat_0=0</code> specifies the latitude of the origin (the Equator), <code class="markup--code markup--p-code">+lon_0=84</code> specifies the longitude of origin—the only meridian that will be vertical (84˚). <code class="markup--code markup--p-code">+k=0.9996</code> is a scaling factor that helps spread the distortion across the map. Set to 1, There’s no distortion along the central meridian, but distortion increases out towards the edges. With a value less than 1, there are two meridians on either side of the center with no distortion, and a little bit of distortion at the center and a little bit at the edges, but limits total distortion. It’s a compromise. I’ve defined the datum as WGS84 with <code class="markup--code markup--p-code">+datum=WGS84</code>, which matches the source dataset and prevents having to worry about <a href="http://fwarmerdam.blogspot.com/2010/03/in-last-few-weeks-i-believe-i-have-made.html" data-href="http://fwarmerdam.blogspot.com/2010/03/in-last-few-weeks-i-believe-i-have-made.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">datum switching</a>, which can be painful. Finally <code class="markup--code markup--p-code">+units=m</code> defines the units (Transverse Mercator is a <a href="http://desktop.arcgis.com/en/arcmap/10.3/guide-books/map-projections/about-projected-coordinate-systems.htm" data-href="http://desktop.arcgis.com/en/arcmap/10.3/guide-books/map-projections/about-projected-coordinate-systems.htm" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">projected coordinate system</a> so it needs linear units) and <code class="markup--code markup--p-code">+no_defs</code> prevents proj.4 from using defaults settings, which could theoretically cause problems.</p><p name="d57e" id="d57e" class="graf graf--p graf-after--p">The other interesting part of the command is this:</p><pre name="c472" id="c472" class="graf graf--pre graf-after--p">-te 66 6 100 41 -te_srs EPSG:4326</pre><p name="a1cd" id="a1cd" class="graf graf--p graf-after--pre">This sets the <em class="markup--em markup--p-em">target extent</em> in units defined by the spatial reference system specified with <code class="markup--code markup--p-code">-te_srs</code>, our good friend EPSG:4326, or simple latitude and longitude. (This is one of the new features in GDAL 2.) If you set <code class="markup--code markup--p-code">-te</code> without <code class="markup--code markup--p-code">-te_srs</code> you need to figure out what the boundaries of your map should be in the target SRS, which is often meters that are specific to an origin point that can be mysterious. This is often hard (for me, at least), so I find it easier to define my boundaries in latitude and longitude. The final few commands I’ve shown before:</p><pre name="a1d9" id="a1d9" class="graf graf--pre graf-after--p">ts 1400 0 -r bilinear NE1_HR_LC_SR_W.tif india_tmerc.tif</pre><p name="ecc9" id="ecc9" class="graf graf--p graf-after--pre">These set the <em class="markup--em markup--p-em">target size</em> in pixels (by setting height to 0 GDAL will automatically figure out how tall the map should be), <em class="markup--em markup--p-em">resampling</em> method to bilinear in the names of the <em class="markup--em markup--p-em">input file</em> and <em class="markup--em markup--p-em">output file.</em></p><p name="09e6" id="09e6" class="graf graf--p graf-after--p">But what happens if you’re making a unique map, not of something that’s been done a million times before like a country or a province? How do you pick a map projection then? With the fantastic <a href="http://projectionwizard.org/" data-href="http://projectionwizard.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Projection Wizard</a>, by <a href="http://projectionwizard.org/BojanSavric/index.html" data-href="http://projectionwizard.org/BojanSavric/index.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Bojan Šavrič</a>.</p><figure name="783b" id="783b" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 438px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 62.5%;"></div><img class="graf-image" data-image-id="1*vmPBBTAeWdWr5EhLWHF5lQ.png" data-width="2048" data-height="1281" data-action="zoom" data-action-value="1*vmPBBTAeWdWr5EhLWHF5lQ.png" src="https://cdn-images-1.medium.com/max/800/1*vmPBBTAeWdWr5EhLWHF5lQ.png"></div><figcaption class="imageCaption">The <a href="http://projectionwizard.org" data-href="http://projectionwizard.org" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Projection Wizard</a> interface.</figcaption></figure><p name="3ed7" id="3ed7" class="graf graf--p graf-after--figure">All you have to do is drag a box around the area of interest, select the type of map you want; equal-area, conformal, or equidistant; then hit the “PROJ.4” link for the projection you want (there are options), which will spit out a text string to drop in <code class="markup--code markup--p-code">-t_srs</code>. So good.</p><pre name="521a" id="521a" class="graf graf--pre graf-after--p">+proj=eqdc +lat_1=38.02777777777778 +lat_2=38.47222222222222 +lon_0=-109.875</pre><p name="537c" id="537c" class="graf graf--p graf-after--pre">My only quibble is that the interface uses degrees, minutes, seconds, and GDAL uses decimal degrees. You may want to trim those to round numbers, and likewise for the extents. Like so:</p><pre name="b953" id="b953" class="graf graf--pre graf-after--p">gdalwarp -t_srs &#39;+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875&#39; -te -110.5 37.75 -109.25 38.75 -te_srs EPSG:4326 -ts 1400 0 -r bilinear NE1_HR_LC_SR_W.tif NE1_HR_LC_SR_W_canyonlands_eqdc_1400.tif</pre><p name="4093" id="4093" class="graf graf--p graf-after--pre">Oops. Not very sharp, is it?</p><figure name="607c" id="607c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 710px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 101.4%;"></div><img class="graf-image" data-image-id="1*YfMHU31_9p-fQQQokUfeog.jpeg" data-width="1400" data-height="1420" data-action="zoom" data-action-value="1*YfMHU31_9p-fQQQokUfeog.jpeg" src="https://cdn-images-1.medium.com/max/800/1*YfMHU31_9p-fQQQokUfeog.jpeg"></div><figcaption class="imageCaption">A map of the Canyonlands that doesn’t have remotely enough resolution. Made with <a href="http://naturalearthdata.com" data-href="http://naturalearthdata.com" class="markup--anchor markup--figure-anchor" rel="noopener nofollow noopener nofollow noopener" target="_blank">Natural Earth.</a></figcaption></figure><p name="e2f1" id="e2f1" class="graf graf--p graf-after--figure">It’s not that useful to make a large-scale (local) map with a small-scale (global) dataset. Looks like I need another data source. Conveniently, there’s a <a href="https://nationalmap.gov/small_scale/mld/nate100.html" data-href="https://nationalmap.gov/small_scale/mld/nate100.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">high-res (1:100,000-scale) version of Natural Earth</a> covering the United States. Not so conveniently, it’s really, <em class="markup--em markup--p-em">really</em> big—4.72 GB big, to be precise. To save everyone a long download I’ve cropped it to the Canyonlands and chopped it into pieces (<a href="https://drive.google.com/open?id=0B-vzf2mGcaRzakJfd2hpS2s2UDg" data-href="https://drive.google.com/open?id=0B-vzf2mGcaRzakJfd2hpS2s2UDg" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">download here</a>), which, not coincidentally, also allows me to demonstrate <code class="markup--code markup--p-code"><a href="http://www.gdal.org/gdal_merge.html" data-href="http://www.gdal.org/gdal_merge.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">gdal_merge.py</a></code>.</p><p name="d022" id="d022" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">gdal_merge</code> is a helper utility written in Python—it’s not a core part of GDAL. In fact, Frank says he wrote it as a demo (which is why the feature set may seem limited and syntax inconsistent) but people found it useful so it stuck around. And yes, it is useful. Unzip the download, navigate to the <code class="markup--code markup--p-code">natual_earth_100k_canyonlands</code> directory in your command line, and run the following command:</p><pre name="58db" id="58db" class="graf graf--pre graf-after--p">gdal_merge.py -o canyonlands_merged.tif *.tif</pre><p name="6ea3" id="6ea3" class="graf graf--p graf-after--pre">That’s it. <code class="markup--code markup--p-code">gdal_merge.py</code> invokes the script, <code class="markup--code markup--p-code">-o canyonlands_merged.tif</code> specifies the name of the output file, and <code class="markup--code markup--p-code">*.tif</code> is a wildcard that opens up every file in the directory ending with .tif. What <code class="markup--code markup--p-code">gdal_merge</code> <em class="markup--em markup--p-em">doesn’t</em> do is any type of reprojection (but it can crop with <code class="markup--code markup--p-code">-ul_lr</code><strong class="markup--strong markup--p-strong"> </strong>and resize with <code class="markup--code markup--p-code">-ps</code> ). So the output file is Web Mercator, just like the input files. Equidistant conic is more appropriate for this region, so use the same <code class="markup--code markup--p-code">gdalwarp</code> command as before (with one change) to reproject the data:</p><pre name="db91" id="db91" class="graf graf--pre graf-after--p">gdalwarp -t_srs &#39;+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875&#39; -ts 1400 0 -r bilinear -dstalpha canyonlands_merged.tif NE1_HR_LC_SR_W_canyonlands_ne_eqdc_1400.tif</pre><figure name="98ce" id="98ce" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 463px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.10000000000001%;"></div><img class="graf-image" data-image-id="1*0M04Ed8bnMl8JE9hGQuDMQ.jpeg" data-width="1400" data-height="926" data-action="zoom" data-action-value="1*0M04Ed8bnMl8JE9hGQuDMQ.jpeg" src="https://cdn-images-1.medium.com/max/800/1*0M04Ed8bnMl8JE9hGQuDMQ.jpeg"></div><figcaption class="imageCaption">Map of the southeastern Utah, from the 100-meter resolution <a href="https://nationalmap.gov/small_scale/mld/nate100.html" data-href="https://nationalmap.gov/small_scale/mld/nate100.html" class="markup--anchor markup--figure-anchor" rel="noopener nofollow" target="_blank">Natural Earth of the United States</a>, equidistant conic projection.</figcaption></figure><p name="02d1" id="02d1" class="graf graf--p graf-after--figure">I’ve omitted the <code class="markup--code markup--p-code">te</code> and <code class="markup--code markup--p-code">te_srs</code> options—<code class="markup--code markup--p-code">gdalwarp</code> is smart and matches the extents of the output file to the input file, which can be convenient, and results in the subtle cuve along the edges of the map above. To match the boundary of the original (blurry) map, use:</p><pre name="b5c6" id="b5c6" class="graf graf--pre graf-after--p">gdalwarp -t_srs &#39;+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875&#39; -te -110.5 37.75 -109.25 38.75 -te_srs EPSG:4326 -ts 1400 0 -r bilinear canyonlands_merged.tif canyonlands_ne_eqdc_te_1400.tif</pre><figure name="03de" id="03de" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 710px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 101.4%;"></div><img class="graf-image" data-image-id="1*SQnLmaQ5IL9kTJ7Pvfnxhw.jpeg" data-width="1400" data-height="1420" data-action="zoom" data-action-value="1*SQnLmaQ5IL9kTJ7Pvfnxhw.jpeg" src="https://cdn-images-1.medium.com/max/800/1*SQnLmaQ5IL9kTJ7Pvfnxhw.jpeg"></div><figcaption class="imageCaption">Map of the Canyonlands, from the 100-meter resolution <a href="https://nationalmap.gov/small_scale/mld/nate100.html" data-href="https://nationalmap.gov/small_scale/mld/nate100.html" class="markup--anchor markup--figure-anchor" rel="noopener nofollow" target="_blank">Natural Earth of the United States</a>, equidistant conic projection.</figcaption></figure><p name="a499" id="a499" class="graf graf--p graf-after--figure">Looking carefully, it’s evident that even this map isn’t <em class="markup--em markup--p-em">quite</em> detailed enough to display at this size—it needs a slightly higher-resoluton data source. In the not-so-distant past, you’d probably be limited to 7.5 minute <a href="https://nationalmap.gov/ustopo/index.html" data-href="https://nationalmap.gov/ustopo/index.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">USGS topographic maps</a> (or their international equivalents), or custom made maps for specific locations (like U.S. <a href="https://www.nps.gov/hfc/cfm/carto.cfm" data-href="https://www.nps.gov/hfc/cfm/carto.cfm" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">national park maps</a>). But in the past decade or so there’s been an explosion of mapping on the web, both commercial (Google Maps, MapBox) and open-source (Open Street Map). Typically they’re limited to display in a browser, or on a mobile device (that’s what these maps are made for, after all).</p><h4 name="04cd" id="04cd" class="graf graf--h4 graf-after--p">Georeferencing Web Tiles</h4><p name="2ac1" id="2ac1" class="graf graf--p graf-after--h4">The maps you see on the web are composed of many different tiles, each 256- by 256-pixels, scaled to fit the display size. They’re not individually georeferenced, but each fits into a system that allows their relative scale and placement to be derived.</p><figure name="18f8" id="18f8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 285px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.6%;"></div><img class="graf-image" data-image-id="1*kcGhZjJdD22axn9mPaAnCg.png" data-width="1400" data-height="569" data-action="zoom" data-action-value="1*kcGhZjJdD22axn9mPaAnCg.png" src="https://cdn-images-1.medium.com/max/800/1*kcGhZjJdD22axn9mPaAnCg.png"></div><figcaption class="imageCaption">A typical web-tiling scheme, from zoom level 0 to 4. <a href="http://maps.stamen.com/terrain/" data-href="http://maps.stamen.com/terrain/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">Terrain tiles</a> ©Stamen Design, <a href="https://creativecommons.org/licenses/by-sa/3.0/" data-href="https://creativecommons.org/licenses/by-sa/3.0/" class="markup--anchor markup--figure-anchor" rel="nofollow noopener" target="_blank">cc by s.a. 3.0</a>.</figcaption></figure><p name="7bef" id="7bef" class="graf graf--p graf-after--figure">The most common web mapping tiling scheme consists of a a zoom level, an x coordinate, and a y coordinate. <a href="http://wiki.openstreetmap.org/wiki/Zoom_levels" data-href="http://wiki.openstreetmap.org/wiki/Zoom_levels" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Zoom levels</a> typically range from 0 (156,412 meters per pixel, global) to about 19 (about 0.3 meters per pixel—as detailed as the highest-resolution unclassified satellite data). At higher zoom levels, the map is subdivided into two equal vertical and horizontal slices. Every slice is given an x and y coordinate, starting with 0 in the upper-left-hand corner. Mapbox has an excellent and much more detailed description of <a href="https://www.mapbox.com/help/how-web-maps-work/" data-href="https://www.mapbox.com/help/how-web-maps-work/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">how web maps work</a>.</p><p name="a6ac" id="a6ac" class="graf graf--p graf-after--p">This consistent scheme provides a mechanism for GDAL to decode, and the ability to convert web tiles into a georeferenced file. The code to generate a map of the Canyonlands is deceptively simple:</p><pre name="1f8c" id="1f8c" class="graf graf--pre graf-after--p">gdal_translate -projwin -110.75 39 -109 37.5 -projwin_srs EPSG:4326 -outsize 4096 0 frmt_wms_stamen_terrain_tms.xml canyonlands_terrain_4096.tif</pre><p name="17a1" id="17a1" class="graf graf--p graf-after--pre">It <em class="markup--em markup--p-em">looks</em> just like a normal use of <code class="markup--code markup--p-code">gdal_translate</code>, but instead of pointing to an image, it’s pointing to an XML file:</p><pre name="737f" id="737f" class="graf graf--pre graf-after--p">&lt;GDAL_WMS&gt;</pre><pre name="fc05" id="fc05" class="graf graf--pre graf-after--pre">&lt;Service name=&quot;TMS&quot;&gt;</pre><pre name="7975" id="7975" class="graf graf--pre graf-after--pre">&lt;ServerUrl&gt;http://b.tile.stamen.com/terrain-background/${z}/${x}/${y}.jpg&lt;/ServerUrl&gt;</pre><pre name="a39a" id="a39a" class="graf graf--pre graf-after--pre">&lt;/Service&gt;</pre><pre name="7dcc" id="7dcc" class="graf graf--pre graf-after--pre">&lt;DataWindow&gt;</pre><pre name="9f72" id="9f72" class="graf graf--pre graf-after--pre">&lt;UpperLeftX&gt;-20037508.34&lt;/UpperLeftX&gt;</pre><pre name="d39e" id="d39e" class="graf graf--pre graf-after--pre">&lt;UpperLeftY&gt;20037508.34&lt;/UpperLeftY&gt;</pre><pre name="6904" id="6904" class="graf graf--pre graf-after--pre">&lt;LowerRightX&gt;20037508.34&lt;/LowerRightX&gt;</pre><pre name="ac39" id="ac39" class="graf graf--pre graf-after--pre">&lt;LowerRightY&gt;-20037508.34&lt;/LowerRightY&gt;</pre><pre name="77f9" id="77f9" class="graf graf--pre graf-after--pre">&lt;TileLevel&gt;18&lt;/TileLevel&gt;</pre><pre name="63c2" id="63c2" class="graf graf--pre graf-after--pre">&lt;TileCountX&gt;1&lt;/TileCountX&gt;</pre><pre name="3cf0" id="3cf0" class="graf graf--pre graf-after--pre">&lt;TileCountY&gt;1&lt;/TileCountY&gt;</pre><pre name="36c9" id="36c9" class="graf graf--pre graf-after--pre">&lt;YOrigin&gt;top&lt;/YOrigin&gt;</pre><pre name="e2f5" id="e2f5" class="graf graf--pre graf-after--pre">&lt;/DataWindow&gt;</pre><pre name="5d1c" id="5d1c" class="graf graf--pre graf-after--pre">&lt;Projection&gt;EPSG:3857&lt;/Projection&gt;</pre><pre name="9f7f" id="9f7f" class="graf graf--pre graf-after--pre">&lt;BlockSizeX&gt;256&lt;/BlockSizeX&gt;</pre><pre name="fb9d" id="fb9d" class="graf graf--pre graf-after--pre">&lt;BlockSizeY&gt;256&lt;/BlockSizeY&gt;</pre><pre name="59b2" id="59b2" class="graf graf--pre graf-after--pre">&lt;BandsCount&gt;3&lt;/BandsCount&gt;</pre><pre name="49ef" id="49ef" class="graf graf--pre graf-after--pre">&lt;ZeroBlockHttpCodes&gt;302&lt;/ZeroBlockHttpCodes&gt;</pre><pre name="6ade" id="6ade" class="graf graf--pre graf-after--pre">&lt;Cache /&gt;</pre><pre name="6eb9" id="6eb9" class="graf graf--pre graf-after--pre">&lt;/GDAL_WMS&gt;</pre><p name="34b4" id="34b4" class="graf graf--p graf-after--pre">A full description of the process is in the GDAL <a href="http://www.gdal.org/frmt_wms.html" data-href="http://www.gdal.org/frmt_wms.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Web Map Services</a> documentation, but the basic idea is to open up the XML file in a text editor and point the <code class="markup--code markup--p-code">&lt;ServerUrl&gt;</code> line at the map server hosting the tiles you want to download, stitch, and georeference. (I also added a little buffer around the edges with <code class="markup--code markup--p-code">-projwin -110.75 39 -109 37.5</code> so my subsequent reprojection step wouldn’t be cut off at the edges.)</p><p name="706d" id="706d" class="graf graf--p graf-after--p">There are several examples using different types of map servers in the documentation, but if you are viewing a slippy map you can often right-click (command-click on a mac) on the map and it will give you the option to open the image in a new tab or window — that will give you the URL to paste into <code class="markup--code markup--p-code">&lt;ServerUrl&gt;</code>. Replace <code class="markup--code markup--p-code">/terrain/</code> with <code class="markup--code markup--p-code">/watercolor/</code> to generate stylized maps. You can access Open Street Map tiles by changing the URL to <code class="markup--code markup--p-code">http://tile.openstreetmap.org/</code> and file format from <code class="markup--code markup--p-code">.jpg</code> to <code class="markup--code markup--p-code">.png</code>:</p><pre name="b22f" id="b22f" class="graf graf--pre graf-after--p">&lt;ServerUrl&gt;http://tile.openstreetmap.org/${z}/${x}/${y}.png&lt;/ServerUrl&gt;</pre><p name="dcc1" id="dcc1" class="graf graf--p graf-after--pre">BTW—<a href="http://maps.stamen.com/" data-href="http://maps.stamen.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Stamen’s map tiles</a> are built on <a href="https://www.openstreetmap.org/" data-href="https://www.openstreetmap.org/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Open Street Map</a> and licensed under creative commons—make sure you follow any licensing requirements for the data you use, and please don’t abuse your access by downloading tens of thousands of tiles.</p><p name="e42e" id="e42e" class="graf graf--p graf-after--p">The final step is to convert the map from Web Mercator to equidistant conic with what should be familiar <code class="markup--code markup--p-code">gdalwarp</code> command (although I admit to need to have the <a href="http://www.gdal.org/gdalwarp.html" data-href="http://www.gdal.org/gdalwarp.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">documentation</a> open more often then not to make sure I get the syntax right):</p><pre name="2f3c" id="2f3c" class="graf graf--pre graf-after--p">gdalwarp -t_srs &#39;+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875&#39; -te -110.5 37.75 -109.25 38.75 -te_srs EPSG:4326 -ts 1400 0 -r bilinear canyonlands_terrain_4096.tif canyonlands_terrain_eqdc_1400.tif</pre><figure name="04f8" id="04f8" class="graf graf--figure graf-after--pre"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 710px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 101.4%;"></div><img class="graf-image" data-image-id="1*rcX_E3fXIRwv19h0i6nBRA.tiff" data-width="1400" data-height="1420" data-action="zoom" data-action-value="1*rcX_E3fXIRwv19h0i6nBRA.tiff" src="https://cdn-images-1.medium.com/max/800/1*rcX_E3fXIRwv19h0i6nBRA.tiff"></div><figcaption class="imageCaption">Map of the Canyonlands, using <a href="http://maps.stamen.com/terrain/" data-href="http://maps.stamen.com/terrain/" class="markup--anchor markup--figure-anchor" rel="noopener nofollow" target="_blank">terrain tiles</a> ©Stamen Design, <a href="https://creativecommons.org/licenses/by-sa/3.0/" data-href="https://creativecommons.org/licenses/by-sa/3.0/" class="markup--anchor markup--figure-anchor" rel="noopener nofollow" target="_blank">cc by s.a. 3.0</a>. Notice the presence of fine details missing in the Natural Earth map above. In fact, one could argue there is an overwhelming amount of detail. One important part of making maps is finding the balance between precision and readability.</figcaption></figure><p name="b476" id="b476" class="graf graf--p graf-after--figure">With these tools the wide variety of government and open-source data available, I hope you’ll be able to get started making your own maps. But what if you want to go beyond idealized base maps, and explore a photo-realistic view of the world, or show change over time? That will be the topic of my next post—processing satellite data, including Planet, Landsat, and Sentinel, with GDAL.</p><h4 name="5525" id="5525" class="graf graf--h4 graf-after--p">Further Reading</h4><ul class="postList"><li name="42f7" id="42f7" class="graf graf--li graf-after--h4"><a href="https://www.geospatialworld.net/article/the-great-trigonometrical-survey-of-india/" data-href="https://www.geospatialworld.net/article/the-great-trigonometrical-survey-of-india/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">The Great Trigonometric Survey of India</a> Geospatial World</li><li name="df0a" id="df0a" class="graf graf--li graf-after--li"><a href="http://support.esri.com/technical-article/000006398" data-href="http://support.esri.com/technical-article/000006398" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">What do the terms geoid, ellipsoid, spheroid and datum mean, and how are they related?</a> ESRI</li><li name="7ebb" id="7ebb" class="graf graf--li graf-after--li"><a href="http://www.naturalearthdata.com" data-href="http://www.naturalearthdata.com" class="markup--anchor markup--li-anchor" rel="noopener nofollow" target="_blank">Natural Earth</a></li><li name="8e76" id="8e76" class="graf graf--li graf-after--li"><a href="https://pubs.usgs.gov/bul/1532/report.pdf" data-href="https://pubs.usgs.gov/bul/1532/report.pdf" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Map Projections Used by the US Geological Survey</a> (PDF) USGS</li><li name="00bc" id="00bc" class="graf graf--li graf-after--li"><a href="http://projectionwizard.org" data-href="http://projectionwizard.org" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Projection Wizard</a> Bojan Šavrič</li><li name="cb1a" id="cb1a" class="graf graf--li graf-after--li"><a href="http://maps.stamen.com/#watercolor/" data-href="http://maps.stamen.com/#watercolor/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">Maps</a> Stamen Design</li><li name="86b5" id="86b5" class="graf graf--li graf-after--li"><a href="https://www.mapbox.com/help/how-web-maps-work/" data-href="https://www.mapbox.com/help/how-web-maps-work/" class="markup--anchor markup--li-anchor" rel="nofollow noopener" target="_blank">How Web Maps Work</a> Mapbox</li></ul><ol class="postList"><li name="13bf" id="13bf" class="graf graf--li graf-after--li"><a href="https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-1-a3253eb96082" data-href="https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-1-a3253eb96082" class="markup--anchor markup--li-anchor" target="_blank">A Gentle Introduction to GDAL</a></li><li name="e4e1" id="e4e1" class="graf graf--li graf-after--li"><a href="https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a" data-href="https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a" class="markup--anchor markup--li-anchor" target="_blank">Map Projections &amp; gdalwarp</a></li><li name="cc3d" id="cc3d" class="graf graf--li graf-after--li">Geodesy &amp; Local Map Projections (you are here)</li></ol><p name="aded" id="aded" class="graf graf--p graf-after--li graf--trailing">Special thanks to <a href="https://plus.google.com/+FrankWarmerdam" data-href="https://plus.google.com/+FrankWarmerdam" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Frank Warmerdam</a> and <a href="https://www.linkedin.com/in/tschaub/" data-href="https://www.linkedin.com/in/tschaub/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Tim Schaub</a> for proofreading and technical support.</p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><ul class="tags tags--postTags tags--borderless"><li><a class="link u-baseColor--link"  href="https://medium.com/tag/maps?source=post" data-action-source="post">Maps</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/gis?source=post" data-action-source="post">GIS</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/everest?source=post" data-action-source="post">Everest</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/gdal?source=post" data-action-source="post">Gdal</a></li><li><a class="link u-baseColor--link"  href="https://medium.com/tag/web-mapping?source=post" data-action-source="post">Web Mapping</a></li></ul></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="794c6ff675ca" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_footer"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/794c6ff675ca" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal"  data-action="show-recommends" data-action-value="794c6ff675ca">7</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></div></div></div></div><div class="js-postPromotionWrapper postPromotionWrapper" data-location-id="footer_above_post_attribution"></div><div class="container u-maxWidth740 js-postAttributionFooterContainer u-paddingTop20 u-paddingBottom20 u-marginTop10 u-borderTopLightest u-xs-paddingTop10 u-xs-paddingBottom10"><div class="row js-postFooterInfo"><div class="col u-size12of12"><li class="u-block u-paddingBottom18 js-cardUser"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="bf3cb9914a6f"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/bf3cb9914a6f" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell "><a class="link avatar u-baseColor--link"  href="https://medium.com/@robsimmon?source=footer_card" title="Go to the profile of Robert Simmon" aria-label="Go to the profile of Robert Simmon" data-action-source="footer_card" data-user-id="bf3cb9914a6f" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/1*72O-3HZVEy0AJwZ4lYa3vg.png" class="avatar-image avatar-image--small" alt="Go to the profile of Robert Simmon"></a></div><div class="u-tableCell u-verticalAlignMiddle u-breakWord u-paddingLeft15"><h3 class="u-fontSize18 u-lineHeightTighter u-marginBottom4"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://medium.com/@robsimmon" property="cc:attributionName" title="Go to the profile of Robert Simmon" aria-label="Go to the profile of Robert Simmon" rel="author cc:attributionUrl" data-user-id="bf3cb9914a6f" dir="auto">Robert Simmon</a></h3><p class="u-fontSize14 u-lineHeightBaseSans u-textColorDark u-marginBottom4">Data Visualization, Planet Labs. Ex-NASA. Blue Marble, Earth at Night, color.</p></div></li></div></div></div><div class="js-postFooterPlacements"></div><div class="u-padding0 u-clearfix u-backgroundGrayLightest u-print-hide supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-readNext"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="u-marginAuto u-maxWidth1000"><div class="js-postShareWidget u-foreground u-sm-hide u-transition--fadeOut300 u-fixed"><ul><li class="u-uiTextSemibold u-textAlignCenter u-textColorNormal u-fontSize12 u-textUppercase">Share</li><li class="u-textAlignCenter"><div class="js-actionRecommend" data-post-id="794c6ff675ca" data-is-icon-29px="true" data-is-vertical="true" data-has-recommend-list="true" data-source="post_share_widget"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/794c6ff675ca" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button><button class="button button--chromeless u-baseColor--buttonNormal  u-block u-marginAuto u-marginTopNegative5"  data-action="show-recommends" data-action-value="794c6ff675ca">7</button></div></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconFadeInPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon button--bookmark js-bookmarkButton"  title="Bookmark this story to read later" aria-label="Bookmark this story to read later" data-action="sign-in-prompt" data-sign-in-action="add-to-bookmarks" data-requires-token="true" data-redirect="https://medium.com/_/bookmark/p/794c6ff675ca"><span class="button-defaultState"><span class="svgIcon svgIcon--bookmark svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4zM21 23l-5.91-3.955-.148-.107a.751.751 0 0 0-.884 0l-.147.107L8 23V6.615C8 5.725 8.725 5 9.615 5h9.77C20.275 5 21 5.725 21 6.615V23z" fill-rule="evenodd"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--bookmarkFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.385 4h-9.77A2.623 2.623 0 0 0 7 6.615V23.01a1.022 1.022 0 0 0 1.595.847l5.905-4.004 5.905 4.004A1.022 1.022 0 0 0 22 23.011V6.62A2.625 2.625 0 0 0 19.385 4z" fill-rule="evenodd"/></svg></span></span></button></li></ul></div></div><div class="u-fixed u-bottom0 u-sizeFullWidth u-backgroundWhite u-boxShadowTop u-borderBox u-paddingTop10 u-paddingBottom10 u-zIndexMetabar u-xs-paddingLeft10 u-xs-paddingRight10 js-stickyFooter"><div class="u-maxWidth700 u-marginAuto u-flexCenter"><div class="u-fontSize16 u-flex1 u-flexCenter"><div class="u-flex0 u-inlineBlock u-paddingRight20 u-xs-paddingRight10"><a class="link avatar u-inline u-baseColor--link"  href="https://medium.com/@robsimmon" data-action="show-user-card" data-action-value="bf3cb9914a6f" data-action-type="hover" data-user-id="bf3cb9914a6f" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/40/40/1*72O-3HZVEy0AJwZ4lYa3vg.png" class="avatar-image avatar-image--smaller" alt="Go to the profile of Robert Simmon"></a></div><div class="u-flex1 u-inlineBlock"><div class="u-xs-hide">Never miss a story from<strong> Robert Simmon</strong>, when you sign up for Medium. <a class="link link--accent u-accentColor--textNormal u-accentColor--textDarken u-baseColor--link"  href="https://medium.com/@Medium/personalize-your-medium-experience-with-users-publications-tags-26a41ab1ee0c#.hx4zuv3mg" data-action-source="sticky_footer">Learn more</a></div><div class="u-xs-show">Never miss a story from<strong> Robert Simmon</strong></div></div></div><div class="u-marginLeft50 u-xs-marginAuto"><span class="followState js-followState buttonSet-inner" data-user-id="bf3cb9914a6f"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="sticky_footer"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary is-active u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-uiTextSemibold u-textUppercase u-fontSize12"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/bf3cb9914a6f" data-action-source="sticky_footer_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Get updates</span></button></span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"28644-9754aae","currentUser":{"userId":"lo_55d2b222b68f","isVerified":false,"subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.rrHsrnPrYFuvW3PeB2aVJA.js","notes":"https://cdn-static-1.medium.com/_/fp/gen-js/main-notes.bundle.Kuxvd889V5J2bKzJsJL57Q.js","posters":"https://cdn-static-1.medium.com/_/fp/gen-js/main-posters.bundle.4OXmHmnb5kIclrEwktxRDQ.js","common-async":"https://cdn-static-1.medium.com/_/fp/gen-js/main-common-async.bundle.mZY1ouAhenBUlALjBUBsXA.js","stats":"https://cdn-static-1.medium.com/_/fp/gen-js/main-stats.bundle.zbapptJuh_BSBCUDAHxVJw.js","home-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-home-screens.bundle.cE8_Em-5BrGQ_vUP4POLDQ.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/gen-js/main-misc-screens.bundle.F1MVZB9Y9Qa3er8jiZthKw.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1492635420659:404e720ef8ed","useragent":{"browser":"python requests","family":"","os":"","version":2.2,"supportsDesktopEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":false,"supportsPromotedPosts":true,"isBot":false,"isNativeIphone":false,"supportsCssVariables":false,"supportsScrollableMetabar":false},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"enable_onboarding":true,"ios_custom_miro_url":"https://cdn-images-1.medium.com","reengagement_notification_duration":3,"enable_adsnative_integration":true,"browsable_stream_config_bucket":"curated-topics","ios_small_post_preview_truncation_length":5.5,"ios_large_post_preview_truncation_length":5.5,"disable_ios_catalog_badging":true,"enable_series_creation":true,"enable_your_series_pages":true,"enable_productionized_series":true,"enable_dedicated_series_tab_api_ios":true,"enable_clap_milestone_notifications":true,"enable_series_stats_page":true,"should_receive_daily_push_notification":true,"enable_prepublish_share_settings":true,"enable_direct_auth_connect":true,"enable_post_import":true,"enable_sponsored_post_labelling":true,"enable_logged_in_follow_on_collection_post":true,"promoted_story_placement_locations":"POST_PAGE_FOOTER","show_topics":true,"enable_search_collection_by_tag_recency_filter":true,"search_collection_by_tag_filter_min_votes":10,"enable_sms_app_promo":true,"enable_export_members":true,"enable_series_card_background_creation":true,"enable_onboarding_users_by_tag":true,"enable_ios_onboarding_notifications":true,"can_see_subscription_branding":true,"enable_subscriptions_landing_page":true,"enable_partner_program_landing_page":true,"enable_hide_broken_links":true,"enable_pay_for_custom_domain":true,"enable_promos_from_dynamo":true,"enable_promos_in_placement":true,"enable_series_promo_in_email":true,"enable_sms":true,"enable_series_in_user_profiles":true,"enable_new_logged_out_bento_operation":true,"enable_rendering_engine_on_logged_out_homepage":true,"enable_topic_brief_relations":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/icons/favicon.svg":"https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"394474ced050e3911ae2249ecc774921","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico","faviconImageId":"1*W0nmth_X8nFKjn6BZ388UQ.png","fontSets":[{"id":1,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-base.by5Oi_VbnwEIvhnWIsuUjA.css"},{"id":4,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-base.g08Jj5TZPAiuPWj5YNUsSg.css"},{"id":6,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-latin-base.141WxxXgxGxNcfeza73H7Q.css"},{"id":7,"url":"https://cdn-static-1.medium.com/_/fp/css/fonts-lazy-latin-base.jMU532QDmysQMOINr-cr2A.css"}],"editorFaviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"4cf5d2f66f9c3868\",\"ot-tracer-traceid\":\"3f87608469f47144\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","secret":"c14df7146e9052a1131f3c900c1f0644","token":"542599432471018|1JqjIwxSfY9jOt_KwjWEl1R7T6I","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]},"smartPublishWhitelistedPublications":["bcc38c8f6edf","f3726e2a5878","828a270689e","81c7d351c056","f30e42fd7ff8","8bf1d7d3081b","d16afa0ae7c","d8f3f6ad9c31","e74de0cedea9","15f753907972","c8c6a6b01ebd","3412b9729488","2ce4bbcf83bb","544c7006046e","7bfcdbc6b30a","a268fd916824","458a773bccd2"],"instantArticles":{"published":true,"developmentMode":false}},"mailingListArchiveUploadSizeMb":2,"availableMembershipPlans":[],"editorsPicksTopicId":"3985d2a191c5","popularOnMediumTopicId":"9d34e48ecf94","memberContentTopicId":"13d7efd82fb2","isDoNotAuth":false,"goldfinchUrl":"https://goldfinch.medium.com"}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/gen-js/main-base.bundle.rrHsrnPrYFuvW3PeB2aVJA.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"794c6ff675ca","versionId":"c9196cff54ce","creatorId":"bf3cb9914a6f","creator":{"userId":"bf3cb9914a6f","name":"Robert Simmon","username":"robsimmon","createdAt":1465073535168,"lastPostCreatedAt":1492489007078,"imageId":"1*72O-3HZVEy0AJwZ4lYa3vg.png","backgroundImageId":"","bio":"Data Visualization, Planet Labs. Ex-NASA. Blue Marble, Earth at Night, color.","twitterScreenName":"rsimmon","socialStats":{"userId":"bf3cb9914a6f","usersFollowedCount":403,"usersFollowedByCount":912,"type":"SocialStats"},"social":{"userId":"lo_9a061cedc2c3","targetUserId":"bf3cb9914a6f","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"},"homeCollectionId":"","title":"A Gentle Introduction to GDAL, Part 3: Geodesy & Local Map Projections","detectedLanguage":"en","latestVersion":"c9196cff54ce","latestPublishedVersion":"c9196cff54ce","hasUnpublishedEdits":false,"latestRev":2506,"createdAt":1492143825546,"updatedAt":1492545128469,"acceptedAt":0,"firstPublishedAt":1492487102027,"latestPublishedAt":1492488184990,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"(If you’re new to GDAL, you might want to start with Part 1, which covers installation, gdalinfo, &gdal_translate, or Part 2 Map…","bodyModel":{"paragraphs":[{"name":"784d","type":4,"text":"Glaciers of the Everest region. NASA Earth Observatory image by Robert Simmon, using data from ASTER.","markups":[{"type":3,"start":37,"end":60,"href":"https://earthobservatory.nasa.gov/IOTD/view.php?id=81823","title":"","rel":"","anchorType":0},{"type":3,"start":95,"end":100,"href":"http://asterweb.jpl.nasa.gov/","title":"","rel":"","anchorType":0}],"layout":5,"metadata":{"id":"1*5-SHUmhP4Y3mwvYNSunLEA.png","originalWidth":1912,"originalHeight":425}},{"name":"070d","type":3,"text":"A Gentle Introduction to GDAL, Part 3: Geodesy & Local Map Projections","markups":[]},{"name":"92ab","type":1,"text":"(If you’re new to GDAL, you might want to start with Part 1, which covers installation, gdalinfo, &gdal_translate, or Part 2 Map projections & gdalwarp.)","markups":[{"type":10,"start":88,"end":96},{"type":10,"start":99,"end":113},{"type":10,"start":143,"end":151},{"type":3,"start":53,"end":60,"href":"https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-1-a3253eb96082","title":"","rel":"","anchorType":0},{"type":3,"start":118,"end":124,"href":"http://Part 2: Map Projections & gdalwarp","title":"","rel":"","anchorType":0}]},{"name":"8897","type":1,"text":"In the spring of 1802, the British East India Company embarked on a detailed, 5-year-long survey of the Indian Subcontinent. The plan was to measure the arc of the meridian (length along a line of longitude—in this case 78˚ east) from Cape Comorin (the southern tip of India) to the Himalaya.","markups":[]},{"name":"b718","type":1,"text":"45 years and 3 directors later the Great Trigonometric Survey (as the endeavor became known) reached the glacier-capped mountains. About a decade after that, in 1956, Andrew Scott Waugh declared Peak XV (known by locals as Chomolungma and the rest of the world as Mount Everest) the world’s highest. And in 1870 the first Index Chart to the Great Trigonometrical Survey of India was published.","markups":[{"type":3,"start":186,"end":202,"href":"http://www.jstor.org/stable/1799335","title":"","rel":"","anchorType":0},{"type":2,"start":322,"end":378}]},{"name":"92de","type":4,"text":"1882 edition of the Index Chart to the Great Trigonometrical Survey of India, printed in 1885. Map courtesy Mountains of Central Asia Digital Dataset.","markups":[{"type":3,"start":108,"end":150,"href":"http://pahar.in","title":"","rel":"","anchorType":0},{"type":2,"start":20,"end":108}],"layout":1,"metadata":{"id":"1*Cx4wNkESlovYy4vWQD0d0g.jpeg","originalWidth":1400,"originalHeight":1400}},{"name":"364b","type":1,"text":"The Survey’s primary objective wasn’t to measure the altitude of the world’s highest peaks (although they more-or-less succeeded at that) or make a map of India (ditto)—but to measure the size and shape of the Earth itself. It turns out that not only is the Earth not flat, but it’s not exactly round, either. It’s what’s technically (and charmingly) known as an oblate spheroid—a ball with a bulge in the middle.","markups":[{"type":3,"start":363,"end":378,"href":"http://mathworld.wolfram.com/OblateSpheroid.html","title":"","rel":"","anchorType":0},{"type":2,"start":363,"end":379}]},{"name":"1e3a","type":4,"text":"A map of the triangulations used to determine the height of Mount Everest and other Himalayan peaks. From “On Mounts Everest and Deodanga, Proceedings of the Royal Geographical Society of London, Vol. 2, №2 (1857–1858), pp. 102–115”.","markups":[],"layout":1,"metadata":{"id":"1*8q_gnQxziLvIAAKSU7zK6A.jpeg","originalWidth":1400,"originalHeight":976}},{"name":"769a","type":1,"text":"By taking precise measurements along one very long north-south line, and comparing that length to equally precise east-west measurements, it’s possible to determine the shape of that squashed ball, a mathematical surface called a reference ellipsoid. And, in fact, the ellipsoid obtained by the Survey’s second director—George Everest—remains in use in South Asia and is even incorporated in a handful of EPSG codes.","markups":[{"type":3,"start":394,"end":416,"href":"http://spatialreference.org/ref/?search=EVEREST+1830","title":"","rel":"","anchorType":0}]},{"name":"b458","type":1,"text":"The main cause of the imperfect shape of the Earth is simply rotation—it stretches a bit along the equator. This asymmetry is handled perfectly well by an ellipsoid—but there are also local variations, caused by differences in density and thickness of the Earth’s crust, and the water and ice piled on top of it. These variations change the overall shape of the Earth’s gravity field. A geoid accounts for these local variations in shape. (The geoid is sometimes described as mean sea level, but there are subtle differences which I don’t quite understand.) The gravitational discrepancies are generally quite subtle, but still large enough to measurably deflect a weight hung on the end of a string. This is why the Great Trigonometric Survey took so many decades—to be useful, the measurements needed to be incredibly precise.","markups":[{"type":3,"start":387,"end":392,"href":"http://oceanservice.noaa.gov/facts/geoid.html","title":"","rel":"","anchorType":0},{"type":2,"start":387,"end":393}]},{"name":"93e6","type":1,"text":"It’s worth pointing out that shape in this context is the theoretical shape of the Earth if it was entirely covered in water—differences in elevation between mountains and valleys, plateaus and canyons, are defined relative to this surface.","markups":[]},{"name":"13e9","type":4,"text":"Chimborazo Volcano, Ecuador. If surface elevation was defined relative to the center of the Earth rather than sea level, Chimborazo, which lies near the equator, would win by (more than) a mile. Drawing courtesy David Rumsey Historical Map Collection.","markups":[{"type":3,"start":0,"end":19,"href":"http://www.davidrumsey.com/luna/servlet/detail/RUMSEY~8~1~292857~90064432","title":"","rel":"","anchorType":0},{"type":3,"start":212,"end":251,"href":"http://www.davidrumsey.com/","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*Go1B9POD9EGIAt2naHHNnA.png","originalWidth":1400,"originalHeight":1014}},{"name":"3b9d","type":1,"text":"A geodetic datum is used to link a reference ellipsoid with precise coordinates for latitude and longitude, and there is a bewildering array of them ranging from continental (NAD27) to local (Old Hawaiian Datum). Each is optimized to minimize errors—which can be several hundred meters—for particular locations.","markups":[{"type":3,"start":175,"end":180,"href":"http://georepository.com/datum_6267/North-American-Datum-1927.html","title":"","rel":"noopener","anchorType":0},{"type":3,"start":192,"end":211,"href":"http://georepository.com/datum_6135/Old-Hawaiian.html","title":"","rel":"noopener","anchorType":0},{"type":2,"start":2,"end":16}]},{"name":"dbc5","type":1,"text":"Prior to the Space Age datums were defined in isolation, and could only be joined by carefully matching the measurements from adjacent surveys—which ranged from extremely difficult to downright impossible. For example, traditional surveying techniques rely on line of site—if you can’t see it, you can’t plot it. This means that the coordinate systems for far-flung islands, or separate continents, could never be precisely aligned. During the Cold War the U.S. Air Force bounced radio waves off planes to link far-flung datums, but these efforts were soon supplanted by satellites. Many modern geospatial datasets are defined in terms of the World Geodetic System 84 (WGS84), which you’ve seen any time you’ve used a GPS.","markups":[{"type":3,"start":472,"end":502,"href":"http://news.nationalgeographic.com/2017/01/air-force-world-maps-cold-war/","title":"","rel":"","anchorType":0}]},{"name":"d214","type":1,"text":"By now you may be wondering why I’ve gone into a long and somewhat technical digression — I certainly was frustrated by the extended discussion of such things during my (extremely limited) formal training in GIS. It turns out that the differences between ellipsoids, geoids, and datums don’t matter so much at a global scale—but they do matter if you’re trying to drill an oil well, survey a property line, or drop a missile on someone’s head from the other side of the world. (A discouraging number of advances in cartography were developed for the military.) A working understanding of these concepts will help you understand some of the more esoteric aspects of manipulating maps and satellite data.","markups":[{"type":3,"start":235,"end":285,"href":"http://support.esri.com/technical-article/000006398","title":"","rel":"","anchorType":0},{"type":2,"start":334,"end":336}]},{"name":"e849","type":13,"text":"Crafting Local Maps","markups":[]},{"name":"7ce1","type":1,"text":"There are two fundamental ways to make a map of a specific region: start with a large dataset and cut out the bit you’re interested in, or build the map from smaller pieces. I’ll start with a large map, the high-res version of the Natural Earth raster dataset I used in part 2. If you’re not up for the 300MB download, just use the smaller one and change the file names to match.)","markups":[{"type":3,"start":207,"end":215,"href":"http://naciscdn.org/naturalearth/10m/raster/NE1_HR_LC_SR_W.zip","title":"","rel":"","anchorType":0},{"type":3,"start":231,"end":244,"href":"http://www.naturalearthdata.com/","title":"","rel":"noopener","anchorType":0},{"type":3,"start":270,"end":277,"href":"https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a","title":"","rel":"","anchorType":0}]},{"name":"198c","type":4,"text":"Transverse Mercator map of India. Made with Natural Earth.","markups":[{"type":3,"start":44,"end":58,"href":"http://naturalearthdata.com","title":"","rel":"noopener nofollow","anchorType":0}],"layout":4,"metadata":{"id":"1*a0lNnUwc_38IzY4Usx97vg.jpeg","originalWidth":1400,"originalHeight":1646}},{"name":"b820","type":1,"text":"I could just use gdal_translate with -projwin option to crop out a latitude and longitude, but, as I’ve discussed, cylindrical equirectangular isn’t a great projection for global maps, and it’s worse for most local and regional maps. Which begs the question—how to choose a better one?","markups":[{"type":10,"start":17,"end":31},{"type":10,"start":38,"end":45}]},{"name":"51f4","type":1,"text":"Hacks borrow, artists steal.","markups":[]},{"name":"7410","type":1,"text":"If you’re making a map of a place that’s already been mapped by experts, just look up what they did and copy it! In this case, I just found a National Geographic wall map of India and read the projection off the description: Transverse Mercator. Professional cartographers will almost universally include projection and scale info on their maps. They also overlay maps with graticules (lines of latitude and longitude) so I estimated the proper extents from those. Here’s the code:","markups":[{"type":3,"start":162,"end":179,"href":"https://shop.nationalgeographic.com/product/maps/wall-maps/countries-and-region-maps/india-classic-wall-map","title":"","rel":"","anchorType":0},{"type":2,"start":142,"end":161},{"type":2,"start":374,"end":384}]},{"name":"9c04","type":8,"text":"gdalwarp -t_srs '+proj=tmerc +lat_0=0 +lon_0=84 +k=0.9996 +datum=WGS84 +units=m +no_defs ' -te 66 6 100 41 -te_srs EPSG:4326 -ts 1400 0 -r bilinear NE1_HR_LC_SR_W.tif india_tmerc.tif","markups":[]},{"name":"3366","type":1,"text":"Most of this should look familiar. I’ve written out the target spatial reference system, -t_srs, since I couldn’t find a ready-made EPSG. Transverse Mercator is specified by +proj=tmerc followed by a few more variables:","markups":[{"type":10,"start":89,"end":95},{"type":10,"start":174,"end":185}]},{"name":"0032","type":8,"text":"+lat_0=0 +lon_0=84 +k=0.9996 +datum=WGS84 +units=m +no_defs","markups":[]},{"name":"166c","type":1,"text":"+lat_0=0 specifies the latitude of the origin (the Equator), +lon_0=84 specifies the longitude of origin—the only meridian that will be vertical (84˚). +k=0.9996 is a scaling factor that helps spread the distortion across the map. Set to 1, There’s no distortion along the central meridian, but distortion increases out towards the edges. With a value less than 1, there are two meridians on either side of the center with no distortion, and a little bit of distortion at the center and a little bit at the edges, but limits total distortion. It’s a compromise. I’ve defined the datum as WGS84 with +datum=WGS84, which matches the source dataset and prevents having to worry about datum switching, which can be painful. Finally +units=m defines the units (Transverse Mercator is a projected coordinate system so it needs linear units) and +no_defs prevents proj.4 from using defaults settings, which could theoretically cause problems.","markups":[{"type":10,"start":0,"end":8},{"type":10,"start":61,"end":70},{"type":10,"start":152,"end":161},{"type":10,"start":599,"end":611},{"type":10,"start":728,"end":736},{"type":10,"start":839,"end":847},{"type":3,"start":681,"end":696,"href":"http://fwarmerdam.blogspot.com/2010/03/in-last-few-weeks-i-believe-i-have-made.html","title":"","rel":"","anchorType":0},{"type":3,"start":781,"end":808,"href":"http://desktop.arcgis.com/en/arcmap/10.3/guide-books/map-projections/about-projected-coordinate-systems.htm","title":"","rel":"","anchorType":0}]},{"name":"d57e","type":1,"text":"The other interesting part of the command is this:","markups":[]},{"name":"c472","type":8,"text":"-te 66 6 100 41 -te_srs EPSG:4326","markups":[]},{"name":"a1cd","type":1,"text":"This sets the target extent in units defined by the spatial reference system specified with -te_srs, our good friend EPSG:4326, or simple latitude and longitude. (This is one of the new features in GDAL 2.) If you set -te without -te_srs you need to figure out what the boundaries of your map should be in the target SRS, which is often meters that are specific to an origin point that can be mysterious. This is often hard (for me, at least), so I find it easier to define my boundaries in latitude and longitude. The final few commands I’ve shown before:","markups":[{"type":10,"start":92,"end":99},{"type":10,"start":218,"end":221},{"type":10,"start":230,"end":237},{"type":2,"start":14,"end":27}]},{"name":"a1d9","type":8,"text":"ts 1400 0 -r bilinear NE1_HR_LC_SR_W.tif india_tmerc.tif","markups":[]},{"name":"ecc9","type":1,"text":"These set the target size in pixels (by setting height to 0 GDAL will automatically figure out how tall the map should be), resampling method to bilinear in the names of the input file and output file.","markups":[{"type":2,"start":14,"end":25},{"type":2,"start":124,"end":134},{"type":2,"start":174,"end":184},{"type":2,"start":189,"end":201}]},{"name":"09e6","type":1,"text":"But what happens if you’re making a unique map, not of something that’s been done a million times before like a country or a province? How do you pick a map projection then? With the fantastic Projection Wizard, by Bojan Šavrič.","markups":[{"type":3,"start":193,"end":210,"href":"http://projectionwizard.org/","title":"","rel":"","anchorType":0},{"type":3,"start":215,"end":227,"href":"http://projectionwizard.org/BojanSavric/index.html","title":"","rel":"","anchorType":0}]},{"name":"783b","type":4,"text":"The Projection Wizard interface.","markups":[{"type":3,"start":4,"end":21,"href":"http://projectionwizard.org","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*vmPBBTAeWdWr5EhLWHF5lQ.png","originalWidth":2048,"originalHeight":1281}},{"name":"3ed7","type":1,"text":"All you have to do is drag a box around the area of interest, select the type of map you want; equal-area, conformal, or equidistant; then hit the “PROJ.4” link for the projection you want (there are options), which will spit out a text string to drop in -t_srs. So good.","markups":[{"type":10,"start":255,"end":261}]},{"name":"521a","type":8,"text":"+proj=eqdc +lat_1=38.02777777777778 +lat_2=38.47222222222222 +lon_0=-109.875","markups":[]},{"name":"537c","type":1,"text":"My only quibble is that the interface uses degrees, minutes, seconds, and GDAL uses decimal degrees. You may want to trim those to round numbers, and likewise for the extents. Like so:","markups":[]},{"name":"b953","type":8,"text":"gdalwarp -t_srs '+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875' -te -110.5 37.75 -109.25 38.75 -te_srs EPSG:4326 -ts 1400 0 -r bilinear NE1_HR_LC_SR_W.tif NE1_HR_LC_SR_W_canyonlands_eqdc_1400.tif","markups":[]},{"name":"4093","type":1,"text":"Oops. Not very sharp, is it?","markups":[]},{"name":"607c","type":4,"text":"A map of the Canyonlands that doesn’t have remotely enough resolution. Made with Natural Earth.","markups":[{"type":3,"start":81,"end":95,"href":"http://naturalearthdata.com","title":"","rel":"noopener nofollow noopener","anchorType":0}],"layout":1,"metadata":{"id":"1*YfMHU31_9p-fQQQokUfeog.jpeg","originalWidth":1400,"originalHeight":1420}},{"name":"e2f1","type":1,"text":"It’s not that useful to make a large-scale (local) map with a small-scale (global) dataset. Looks like I need another data source. Conveniently, there’s a high-res (1:100,000-scale) version of Natural Earth covering the United States. Not so conveniently, it’s really, really big—4.72 GB big, to be precise. To save everyone a long download I’ve cropped it to the Canyonlands and chopped it into pieces (download here), which, not coincidentally, also allows me to demonstrate gdal_merge.py.","markups":[{"type":10,"start":477,"end":490},{"type":3,"start":155,"end":206,"href":"https://nationalmap.gov/small_scale/mld/nate100.html","title":"","rel":"","anchorType":0},{"type":3,"start":404,"end":417,"href":"https://drive.google.com/open?id=0B-vzf2mGcaRzakJfd2hpS2s2UDg","title":"","rel":"","anchorType":0},{"type":3,"start":477,"end":490,"href":"http://www.gdal.org/gdal_merge.html","title":"","rel":"","anchorType":0},{"type":2,"start":269,"end":275}]},{"name":"d022","type":1,"text":"gdal_merge is a helper utility written in Python—it’s not a core part of GDAL. In fact, Frank says he wrote it as a demo (which is why the feature set may seem limited and syntax inconsistent) but people found it useful so it stuck around. And yes, it is useful. Unzip the download, navigate to the natual_earth_100k_canyonlands directory in your command line, and run the following command:","markups":[{"type":10,"start":0,"end":10},{"type":10,"start":299,"end":328}]},{"name":"58db","type":8,"text":"gdal_merge.py -o canyonlands_merged.tif *.tif","markups":[]},{"name":"6ea3","type":1,"text":"That’s it. gdal_merge.py invokes the script, -o canyonlands_merged.tif specifies the name of the output file, and *.tif is a wildcard that opens up every file in the directory ending with .tif. What gdal_merge doesn’t do is any type of reprojection (but it can crop with -ul_lr and resize with -ps ). So the output file is Web Mercator, just like the input files. Equidistant conic is more appropriate for this region, so use the same gdalwarp command as before (with one change) to reproject the data:","markups":[{"type":10,"start":11,"end":24},{"type":10,"start":45,"end":70},{"type":10,"start":114,"end":119},{"type":10,"start":199,"end":209},{"type":10,"start":271,"end":277},{"type":10,"start":294,"end":297},{"type":10,"start":435,"end":443},{"type":1,"start":277,"end":278},{"type":2,"start":210,"end":217}]},{"name":"db91","type":8,"text":"gdalwarp -t_srs '+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875' -ts 1400 0 -r bilinear -dstalpha canyonlands_merged.tif NE1_HR_LC_SR_W_canyonlands_ne_eqdc_1400.tif","markups":[]},{"name":"98ce","type":4,"text":"Map of the southeastern Utah, from the 100-meter resolution Natural Earth of the United States, equidistant conic projection.","markups":[{"type":3,"start":60,"end":94,"href":"https://nationalmap.gov/small_scale/mld/nate100.html","title":"","rel":"noopener","anchorType":0}],"layout":1,"metadata":{"id":"1*0M04Ed8bnMl8JE9hGQuDMQ.jpeg","originalWidth":1400,"originalHeight":926}},{"name":"02d1","type":1,"text":"I’ve omitted the te and te_srs options—gdalwarp is smart and matches the extents of the output file to the input file, which can be convenient, and results in the subtle cuve along the edges of the map above. To match the boundary of the original (blurry) map, use:","markups":[{"type":10,"start":17,"end":19},{"type":10,"start":24,"end":30},{"type":10,"start":39,"end":47}]},{"name":"b5c6","type":8,"text":"gdalwarp -t_srs '+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875' -te -110.5 37.75 -109.25 38.75 -te_srs EPSG:4326 -ts 1400 0 -r bilinear canyonlands_merged.tif canyonlands_ne_eqdc_te_1400.tif","markups":[]},{"name":"03de","type":4,"text":"Map of the Canyonlands, from the 100-meter resolution Natural Earth of the United States, equidistant conic projection.","markups":[{"type":3,"start":54,"end":88,"href":"https://nationalmap.gov/small_scale/mld/nate100.html","title":"","rel":"noopener","anchorType":0}],"layout":1,"metadata":{"id":"1*SQnLmaQ5IL9kTJ7Pvfnxhw.jpeg","originalWidth":1400,"originalHeight":1420}},{"name":"a499","type":1,"text":"Looking carefully, it’s evident that even this map isn’t quite detailed enough to display at this size—it needs a slightly higher-resoluton data source. In the not-so-distant past, you’d probably be limited to 7.5 minute USGS topographic maps (or their international equivalents), or custom made maps for specific locations (like U.S. national park maps). But in the past decade or so there’s been an explosion of mapping on the web, both commercial (Google Maps, MapBox) and open-source (Open Street Map). Typically they’re limited to display in a browser, or on a mobile device (that’s what these maps are made for, after all).","markups":[{"type":3,"start":221,"end":242,"href":"https://nationalmap.gov/ustopo/index.html","title":"","rel":"","anchorType":0},{"type":3,"start":335,"end":353,"href":"https://www.nps.gov/hfc/cfm/carto.cfm","title":"","rel":"","anchorType":0},{"type":2,"start":57,"end":62}]},{"name":"04cd","type":13,"text":"Georeferencing Web Tiles","markups":[]},{"name":"2ac1","type":1,"text":"The maps you see on the web are composed of many different tiles, each 256- by 256-pixels, scaled to fit the display size. They’re not individually georeferenced, but each fits into a system that allows their relative scale and placement to be derived.","markups":[]},{"name":"18f8","type":4,"text":"A typical web-tiling scheme, from zoom level 0 to 4. Terrain tiles ©Stamen Design, cc by s.a. 3.0.","markups":[{"type":3,"start":53,"end":66,"href":"http://maps.stamen.com/terrain/","title":"","rel":"","anchorType":0},{"type":3,"start":83,"end":97,"href":"https://creativecommons.org/licenses/by-sa/3.0/","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*kcGhZjJdD22axn9mPaAnCg.png","originalWidth":1400,"originalHeight":569}},{"name":"7bef","type":1,"text":"The most common web mapping tiling scheme consists of a a zoom level, an x coordinate, and a y coordinate. Zoom levels typically range from 0 (156,412 meters per pixel, global) to about 19 (about 0.3 meters per pixel—as detailed as the highest-resolution unclassified satellite data). At higher zoom levels, the map is subdivided into two equal vertical and horizontal slices. Every slice is given an x and y coordinate, starting with 0 in the upper-left-hand corner. Mapbox has an excellent and much more detailed description of how web maps work.","markups":[{"type":3,"start":107,"end":118,"href":"http://wiki.openstreetmap.org/wiki/Zoom_levels","title":"","rel":"","anchorType":0},{"type":3,"start":530,"end":547,"href":"https://www.mapbox.com/help/how-web-maps-work/","title":"","rel":"","anchorType":0}]},{"name":"a6ac","type":1,"text":"This consistent scheme provides a mechanism for GDAL to decode, and the ability to convert web tiles into a georeferenced file. The code to generate a map of the Canyonlands is deceptively simple:","markups":[]},{"name":"1f8c","type":8,"text":"gdal_translate -projwin -110.75 39 -109 37.5 -projwin_srs EPSG:4326 -outsize 4096 0 frmt_wms_stamen_terrain_tms.xml canyonlands_terrain_4096.tif","markups":[]},{"name":"17a1","type":1,"text":"It looks just like a normal use of gdal_translate, but instead of pointing to an image, it’s pointing to an XML file:","markups":[{"type":10,"start":35,"end":49},{"type":2,"start":3,"end":8}]},{"name":"737f","type":8,"text":"\x3cGDAL_WMS\x3e","markups":[]},{"name":"fc05","type":8,"text":"\x3cService name=\"TMS\"\x3e","markups":[]},{"name":"7975","type":8,"text":"\x3cServerUrl\x3ehttp://b.tile.stamen.com/terrain-background/${z}/${x}/${y}.jpg\x3c/ServerUrl\x3e","markups":[]},{"name":"a39a","type":8,"text":"\x3c/Service\x3e","markups":[]},{"name":"7dcc","type":8,"text":"\x3cDataWindow\x3e","markups":[]},{"name":"9f72","type":8,"text":"\x3cUpperLeftX\x3e-20037508.34\x3c/UpperLeftX\x3e","markups":[]},{"name":"d39e","type":8,"text":"\x3cUpperLeftY\x3e20037508.34\x3c/UpperLeftY\x3e","markups":[]},{"name":"6904","type":8,"text":"\x3cLowerRightX\x3e20037508.34\x3c/LowerRightX\x3e","markups":[]},{"name":"ac39","type":8,"text":"\x3cLowerRightY\x3e-20037508.34\x3c/LowerRightY\x3e","markups":[]},{"name":"77f9","type":8,"text":"\x3cTileLevel\x3e18\x3c/TileLevel\x3e","markups":[]},{"name":"63c2","type":8,"text":"\x3cTileCountX\x3e1\x3c/TileCountX\x3e","markups":[]},{"name":"3cf0","type":8,"text":"\x3cTileCountY\x3e1\x3c/TileCountY\x3e","markups":[]},{"name":"36c9","type":8,"text":"\x3cYOrigin\x3etop\x3c/YOrigin\x3e","markups":[]},{"name":"e2f5","type":8,"text":"\x3c/DataWindow\x3e","markups":[]},{"name":"5d1c","type":8,"text":"\x3cProjection\x3eEPSG:3857\x3c/Projection\x3e","markups":[]},{"name":"9f7f","type":8,"text":"\x3cBlockSizeX\x3e256\x3c/BlockSizeX\x3e","markups":[]},{"name":"fb9d","type":8,"text":"\x3cBlockSizeY\x3e256\x3c/BlockSizeY\x3e","markups":[]},{"name":"59b2","type":8,"text":"\x3cBandsCount\x3e3\x3c/BandsCount\x3e","markups":[]},{"name":"49ef","type":8,"text":"\x3cZeroBlockHttpCodes\x3e302\x3c/ZeroBlockHttpCodes\x3e","markups":[]},{"name":"6ade","type":8,"text":"\x3cCache /\x3e","markups":[]},{"name":"6eb9","type":8,"text":"\x3c/GDAL_WMS\x3e","markups":[]},{"name":"34b4","type":1,"text":"A full description of the process is in the GDAL Web Map Services documentation, but the basic idea is to open up the XML file in a text editor and point the \x3cServerUrl\x3e line at the map server hosting the tiles you want to download, stitch, and georeference. (I also added a little buffer around the edges with -projwin -110.75 39 -109 37.5 so my subsequent reprojection step wouldn’t be cut off at the edges.)","markups":[{"type":10,"start":158,"end":169},{"type":10,"start":311,"end":340},{"type":3,"start":49,"end":65,"href":"http://www.gdal.org/frmt_wms.html","title":"","rel":"","anchorType":0}]},{"name":"706d","type":1,"text":"There are several examples using different types of map servers in the documentation, but if you are viewing a slippy map you can often right-click (command-click on a mac) on the map and it will give you the option to open the image in a new tab or window — that will give you the URL to paste into \x3cServerUrl\x3e. Replace /terrain/ with /watercolor/ to generate stylized maps. You can access Open Street Map tiles by changing the URL to http://tile.openstreetmap.org/ and file format from .jpg to .png:","markups":[{"type":10,"start":300,"end":311},{"type":10,"start":321,"end":330},{"type":10,"start":336,"end":348},{"type":10,"start":436,"end":466},{"type":10,"start":488,"end":492},{"type":10,"start":496,"end":500}]},{"name":"b22f","type":8,"text":"\x3cServerUrl\x3ehttp://tile.openstreetmap.org/${z}/${x}/${y}.png\x3c/ServerUrl\x3e","markups":[]},{"name":"dcc1","type":1,"text":"BTW—Stamen’s map tiles are built on Open Street Map and licensed under creative commons—make sure you follow any licensing requirements for the data you use, and please don’t abuse your access by downloading tens of thousands of tiles.","markups":[{"type":3,"start":4,"end":22,"href":"http://maps.stamen.com/","title":"","rel":"","anchorType":0},{"type":3,"start":36,"end":51,"href":"https://www.openstreetmap.org/","title":"","rel":"","anchorType":0}]},{"name":"e42e","type":1,"text":"The final step is to convert the map from Web Mercator to equidistant conic with what should be familiar gdalwarp command (although I admit to need to have the documentation open more often then not to make sure I get the syntax right):","markups":[{"type":10,"start":105,"end":113},{"type":3,"start":160,"end":173,"href":"http://www.gdal.org/gdalwarp.html","title":"","rel":"","anchorType":0}]},{"name":"2f3c","type":8,"text":"gdalwarp -t_srs '+proj=eqdc +lat_1=38.025 +lat_2=38.470 +lon_0=-109.875' -te -110.5 37.75 -109.25 38.75 -te_srs EPSG:4326 -ts 1400 0 -r bilinear canyonlands_terrain_4096.tif canyonlands_terrain_eqdc_1400.tif","markups":[]},{"name":"04f8","type":4,"text":"Map of the Canyonlands, using terrain tiles ©Stamen Design, cc by s.a. 3.0. Notice the presence of fine details missing in the Natural Earth map above. In fact, one could argue there is an overwhelming amount of detail. One important part of making maps is finding the balance between precision and readability.","markups":[{"type":3,"start":30,"end":43,"href":"http://maps.stamen.com/terrain/","title":"","rel":"noopener","anchorType":0},{"type":3,"start":60,"end":74,"href":"https://creativecommons.org/licenses/by-sa/3.0/","title":"","rel":"noopener","anchorType":0}],"layout":1,"metadata":{"id":"1*rcX_E3fXIRwv19h0i6nBRA.tiff","originalWidth":1400,"originalHeight":1420}},{"name":"b476","type":1,"text":"With these tools the wide variety of government and open-source data available, I hope you’ll be able to get started making your own maps. But what if you want to go beyond idealized base maps, and explore a photo-realistic view of the world, or show change over time? That will be the topic of my next post—processing satellite data, including Planet, Landsat, and Sentinel, with GDAL.","markups":[]},{"name":"5525","type":13,"text":"Further Reading","markups":[]},{"name":"42f7","type":9,"text":"The Great Trigonometric Survey of India Geospatial World","markups":[{"type":3,"start":0,"end":39,"href":"https://www.geospatialworld.net/article/the-great-trigonometrical-survey-of-india/","title":"","rel":"","anchorType":0}]},{"name":"df0a","type":9,"text":"What do the terms geoid, ellipsoid, spheroid and datum mean, and how are they related? ESRI","markups":[{"type":3,"start":0,"end":86,"href":"http://support.esri.com/technical-article/000006398","title":"","rel":"","anchorType":0}]},{"name":"7ebb","type":9,"text":"Natural Earth","markups":[{"type":3,"start":0,"end":13,"href":"http://www.naturalearthdata.com","title":"","rel":"noopener","anchorType":0}]},{"name":"8e76","type":9,"text":"Map Projections Used by the US Geological Survey (PDF) USGS","markups":[{"type":3,"start":0,"end":48,"href":"https://pubs.usgs.gov/bul/1532/report.pdf","title":"","rel":"","anchorType":0}]},{"name":"00bc","type":9,"text":"Projection Wizard Bojan Šavrič","markups":[{"type":3,"start":0,"end":17,"href":"http://projectionwizard.org","title":"","rel":"","anchorType":0}]},{"name":"cb1a","type":9,"text":"Maps Stamen Design","markups":[{"type":3,"start":0,"end":4,"href":"http://maps.stamen.com/#watercolor/","title":"","rel":"","anchorType":0}]},{"name":"86b5","type":9,"text":"How Web Maps Work Mapbox","markups":[{"type":3,"start":0,"end":17,"href":"https://www.mapbox.com/help/how-web-maps-work/","title":"","rel":"","anchorType":0}]},{"name":"13bf","type":10,"text":"A Gentle Introduction to GDAL","markups":[{"type":3,"start":0,"end":29,"href":"https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-1-a3253eb96082","title":"","rel":"","anchorType":0}]},{"name":"e4e1","type":10,"text":"Map Projections & gdalwarp","markups":[{"type":3,"start":0,"end":26,"href":"https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a","title":"","rel":"","anchorType":0}]},{"name":"cc3d","type":10,"text":"Geodesy & Local Map Projections (you are here)","markups":[]},{"name":"aded","type":1,"text":"Special thanks to Frank Warmerdam and Tim Schaub for proofreading and technical support.","markups":[{"type":3,"start":18,"end":33,"href":"https://plus.google.com/+FrankWarmerdam","title":"","rel":"","anchorType":0},{"type":3,"start":38,"end":48,"href":"https://www.linkedin.com/in/tschaub/","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"6357","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"allowNotes":true,"previewImage":{"imageId":"1*5-SHUmhP4Y3mwvYNSunLEA.png","filter":"","backgroundSize":"","originalWidth":1912,"originalHeight":425,"strategy":"resample","height":0,"width":0},"wordCount":2564,"imageCount":11,"readingTime":10.975471698113209,"subtitle":"(If you’re new to GDAL, you might want to start with Part 1, which covers installation, gdalinfo, &gdal_translate, or Part 2 Map…","usersBySocialRecommends":[],"recommends":7,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"maps","name":"Maps","postCount":1694,"virtuals":{"isFollowing":false},"metadata":{"followerCount":316,"postCount":1694,"coverImage":{"id":"1*xVQd1vGhXYrREOMkvlps8g.jpeg","originalWidth":1600,"originalHeight":925,"isFeatured":true}},"type":"Tag"},{"slug":"gis","name":"GIS","postCount":1162,"virtuals":{"isFollowing":false},"metadata":{"followerCount":348,"postCount":1162,"coverImage":{"id":"1*5-SHUmhP4Y3mwvYNSunLEA.png","originalWidth":1912,"originalHeight":425}},"type":"Tag"},{"slug":"everest","name":"Everest","postCount":193,"virtuals":{"isFollowing":false},"metadata":{"followerCount":12,"postCount":193,"coverImage":{"id":"1*5-SHUmhP4Y3mwvYNSunLEA.png","originalWidth":1912,"originalHeight":425}},"type":"Tag"},{"slug":"gdal","name":"Gdal","postCount":6,"virtuals":{"isFollowing":false},"metadata":{"followerCount":0,"postCount":6,"coverImage":{"id":"1*5-SHUmhP4Y3mwvYNSunLEA.png","originalWidth":1912,"originalHeight":425}},"type":"Tag"},{"slug":"web-mapping","name":"Web Mapping","postCount":25,"virtuals":{"isFollowing":false},"metadata":{"followerCount":5,"postCount":25,"coverImage":{"id":"1*5-SHUmhP4Y3mwvYNSunLEA.png","originalWidth":1912,"originalHeight":425}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[{"url":"https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a","alts":[{"type":3,"url":"medium://p/e05173bd710a"},{"type":2,"url":"medium://p/e05173bd710a"}]},{"url":"https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-1-a3253eb96082","alts":[{"type":2,"url":"medium://p/a3253eb96082"},{"type":3,"url":"medium://p/a3253eb96082"}]},{"url":"http://news.nationalgeographic.com/2017/01/air-force-world-maps-cold-war/","alts":[{"type":1,"url":"https://cdn.ampproject.org/c/relay.nationalgeographic.com/proxy/distribution/public/amp/2017/01/air-force-world-maps-cold-war"}]},{"url":"https://medium.com/planet-stories/a-gentle-introduction-to-gdal-part-2-map-projections-gdalwarp-e05173bd710a","alts":[{"type":2,"url":"medium://p/e05173bd710a"},{"type":3,"url":"medium://p/e05173bd710a"}]}],"version":"0.3","generatedAt":1492488195478},"isLockedPreviewOnly":false,"takeoverId":"","metaDescription":"","totalClapCount":0},"coverless":true,"slug":"a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca","previewContent":{"bodyModel":{"paragraphs":[{"name":"784d","type":4,"text":"","markups":[{"type":3,"start":37,"end":60,"href":"https://earthobservatory.nasa.gov/IOTD/view.php?id=81823","title":"","rel":"","anchorType":0},{"type":3,"start":95,"end":100,"href":"http://asterweb.jpl.nasa.gov/","title":"","rel":"","anchorType":0}],"layout":10,"metadata":{"id":"1*5-SHUmhP4Y3mwvYNSunLEA.png","originalWidth":1912,"originalHeight":425}},{"name":"070d","type":3,"text":"A Gentle Introduction to GDAL, Part 3: Geodesy & Local Map Projections","markups":[],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca","mediumUrl":"https://medium.com/@robsimmon/a-gentle-introduction-to-gdal-part-3-geodesy-local-map-projections-794c6ff675ca","migrationId":"","notifyFollowers":true,"notifyTwitter":false,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":false,"responseHiddenOnParentPostAt":0,"isSeries":false,"isSubscriptionLocked":false,"seriesLastAppendedAt":0,"type":"Post"},"mentionedUsers":[],"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"bf3cb9914a6f":{"userId":"bf3cb9914a6f","name":"Robert Simmon","username":"robsimmon","createdAt":1465073535168,"lastPostCreatedAt":1492489007078,"imageId":"1*72O-3HZVEy0AJwZ4lYa3vg.png","backgroundImageId":"","bio":"Data Visualization, Planet Labs. Ex-NASA. Blue Marble, Earth at Night, color.","twitterScreenName":"rsimmon","socialStats":{"userId":"bf3cb9914a6f","usersFollowedCount":403,"usersFollowedByCount":912,"type":"SocialStats"},"social":{"userId":"lo_9a061cedc2c3","targetUserId":"bf3cb9914a6f","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"}},"Social":{"bf3cb9914a6f":{"userId":"lo_9a061cedc2c3","targetUserId":"bf3cb9914a6f","type":"Social"}},"SocialStats":{"bf3cb9914a6f":{"userId":"bf3cb9914a6f","usersFollowedCount":403,"usersFollowedByCount":912,"type":"SocialStats"}}}})
// ]]></script></body></html>